(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[14865,90907,86058,62113,93502,48672,697,24321,5834,27014,98396,38073,65676,15071,44696],{240684:(e,i,t)=>{t.d(i,{TA:()=>k,ZP:()=>C});var n=t(667294),a=t(263366),o=t(487462),l=t(497326),r=t(875068),s=t(659864),d=t(108679),c=t.n(d);function u(e,i){if(!e){var t=new Error("loadable: "+i);throw t.framesToPop=1,t.name="Invariant Violation",t}}function p(e){console.warn("loadable: "+e)}var _=n.createContext(),m="__LOADABLE_REQUIRED_CHUNKS__";function h(e){return""+e+m}var g={initialChunks:{}},y="PENDING",v="REJECTED";var f=function(e){return e};function x(e){var i=e.defaultResolveComponent,t=void 0===i?f:i,d=e.render,p=e.onLoad;function m(e,i){void 0===i&&(i={});var m=function(e){return"function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),h={};function f(e){return i.cacheKey?i.cacheKey(e):m.resolve?m.resolve(e):"static"}function x(e,n,a){var o=i.resolveComponent?i.resolveComponent(e,n):t(e);if(i.resolveComponent&&!(0,s.isValidElementType)(o))throw new Error("resolveComponent returned something that is not a React component!");return c()(a,o,{preload:!0}),o}var b,P=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={result:null,error:null,loading:!0,cacheKey:f(t)},u(!t.__chunkExtractor||m.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),t.__chunkExtractor?(!1===i.ssr||(m.requireAsync(t).catch((function(){return null})),n.loadSync(),t.__chunkExtractor.addChunk(m.chunkName(t))),(0,l.Z)(n)):(!1!==i.ssr&&(m.isReady&&m.isReady(t)||m.chunkName&&g.initialChunks[m.chunkName(t)])&&n.loadSync(),n)}(0,r.Z)(t,e),t.getDerivedStateFromProps=function(e,i){var t=f(e);return(0,o.Z)({},i,{cacheKey:t,loading:i.loading||i.cacheKey!==t})};var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===v&&this.setCache(),this.state.loading&&this.loadAsync()},n.componentDidUpdate=function(e,i){i.cacheKey!==this.state.cacheKey&&this.loadAsync()},n.componentWillUnmount=function(){this.mounted=!1},n.safeSetState=function(e,i){this.mounted&&this.setState(e,i)},n.getCacheKey=function(){return f(this.props)},n.getCache=function(){return h[this.getCacheKey()]},n.setCache=function(e){void 0===e&&(e=void 0),h[this.getCacheKey()]=e},n.triggerOnLoad=function(){var e=this;p&&setTimeout((function(){p(e.state.result,e.props)}))},n.loadSync=function(){if(this.state.loading)try{var e=x(m.requireSync(this.props),this.props,w);this.state.result=e,this.state.loading=!1}catch(i){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:m.resolve(this.props),chunkName:m.chunkName(this.props),error:i?i.message:i}),this.state.error=i}},n.loadAsync=function(){var e=this,i=this.resolveAsync();return i.then((function(i){var t=x(i,e.props,{Loadable:w});e.safeSetState({result:t,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(i){return e.safeSetState({error:i,loading:!1})})),i},n.resolveAsync=function(){var e=this,i=this.props,t=(i.__chunkExtractor,i.forwardedRef,(0,a.Z)(i,["__chunkExtractor","forwardedRef"])),n=this.getCache();return n||((n=m.requireAsync(t)).status=y,this.setCache(n),n.then((function(){n.status="RESOLVED"}),(function(i){console.error("loadable-components: failed to asynchronously load component",{fileName:m.resolve(e.props),chunkName:m.chunkName(e.props),error:i?i.message:i}),n.status=v}))),n},n.render=function(){var e=this.props,t=e.forwardedRef,n=e.fallback,l=(e.__chunkExtractor,(0,a.Z)(e,["forwardedRef","fallback","__chunkExtractor"])),r=this.state,s=r.error,c=r.loading,u=r.result;if(i.suspense&&(this.getCache()||this.loadAsync()).status===y)throw this.loadAsync();if(s)throw s;var p=n||i.fallback||null;return c?p:d({fallback:p,result:u,options:i,props:(0,o.Z)({},l,{ref:t})})},t}(n.Component),S=(b=P,function(e){return n.createElement(_.Consumer,null,(function(i){return n.createElement(b,Object.assign({__chunkExtractor:i},e))}))}),w=n.forwardRef((function(e,i){return n.createElement(S,Object.assign({forwardedRef:i},e))}));return w.preload=function(e){m.requireAsync(e)},w.load=function(e){return m.requireAsync(e)},w}return{loadable:m,lazy:function(e,i){return m(e,(0,o.Z)({},i,{suspense:!0}))}}}var b=x({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var i=e.result,t=e.props;return n.createElement(i,t)}}),P=b.loadable,S=b.lazy,w=x({onLoad:function(e,i){e&&i.forwardedRef&&("function"==typeof i.forwardedRef?i.forwardedRef(e):i.forwardedRef.current=e)},render:function(e){var i=e.result,t=e.props;return t.children?t.children(i):null}}),I=w.loadable,T=w.lazy,A="undefined"!=typeof window;function k(e,i){void 0===e&&(e=function(){});var t=(void 0===i?{}:i).namespace,n=void 0===t?"":t;if(!A)return p("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var a=null;if(A){var o=h(n),l=document.getElementById(o);if(l){a=JSON.parse(l.textContent);var r=document.getElementById(o+"_ext");if(!r)throw new Error("loadable-component: @loadable/server does not match @loadable/component");JSON.parse(r.textContent).namedChunks.forEach((function(e){g.initialChunks[e]=!0}))}}if(!a)return p("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var s=!1;return new Promise((function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var i=window.__LOADABLE_LOADED_CHUNKS__,t=i.push.bind(i);function n(){a.every((function(e){return i.some((function(i){return i[0].indexOf(e)>-1}))}))&&(s||(s=!0,e()))}i.push=function(){t.apply(void 0,arguments),n()},n()})).then(e)}var E=P;E.lib=I,S.lib=T;const C=E},294184:(e,i)=>{var t;!function(){var n={}.hasOwnProperty;function a(){for(var e=[],i=0;i<arguments.length;i++){var t=arguments[i];if(t){var o=typeof t;if("string"===o||"number"===o)e.push(t);else if(Array.isArray(t)&&t.length){var l=a.apply(null,t);l&&e.push(l)}else if("object"===o)for(var r in t)n.call(t,r)&&t[r]&&e.push(r)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(t=function(){return a}.apply(i,[]))||(e.exports=t)}()},701305:e=>{var i=[],t=[];function n(e,i,t,a){if(e===i)return 0!==e||1/e==1/i;if(null==e||null==i)return!1;if("object"!=typeof e||"object"!=typeof i)return!1;var o=Object.prototype.toString,l=o.call(e);if(l!=o.call(i))return!1;switch(l){case"[object String]":return e==String(i);case"[object Number]":return!isNaN(e)&&!isNaN(i)&&e==Number(i);case"[object Date]":case"[object Boolean]":return+e==+i;case"[object RegExp]":return e.source==i.source&&e.global==i.global&&e.multiline==i.multiline&&e.ignoreCase==i.ignoreCase}for(var r=t.length;r--;)if(t[r]==e)return a[r]==i;t.push(e),a.push(i);var s=0;if("[object Array]"===l){if((s=e.length)!==i.length)return!1;for(;s--;)if(!n(e[s],i[s],t,a))return!1}else{if(e.constructor!==i.constructor)return!1;if(e.hasOwnProperty("valueOf")&&i.hasOwnProperty("valueOf"))return e.valueOf()==i.valueOf();var d=Object.keys(e);if(d.length!=Object.keys(i).length)return!1;for(var c=0;c<d.length;c++)if(!n(e[d[c]],i[d[c]],t,a))return!1}return t.pop(),a.pop(),!0}e.exports=function(e,a){var o=i.length?i.pop():[],l=t.length?t.pop():[],r=n(e,a,o,l);return o.length=0,l.length=0,i.push(o),t.push(l),r}},60139:e=>{function i(e){return function(){return e}}var t=function(){};t.thatReturns=i,t.thatReturnsFalse=i(!1),t.thatReturnsTrue=i(!0),t.thatReturnsNull=i(null),t.thatReturnsThis=function(){return this},t.thatReturnsArgument=function(e){return e},e.exports=t},663620:(e,i,t)=>{var n=t(60139);e.exports=n},371659:e=>{e.exports="https://s.pinimg.com/webapp/goodIdea-b770896d.svg"},217649:e=>{e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},36855:e=>{e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},624645:e=>{e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},130133:e=>{e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},538282:e=>{e.exports="https://s.pinimg.com/webapp/handle_bottom_left-80eb8fea.svg"},129261:e=>{e.exports="https://s.pinimg.com/webapp/handle_bottom_right-61aecc74.svg"},346184:e=>{e.exports="https://s.pinimg.com/webapp/handle_top_left-892a69ad.svg"},136880:e=>{e.exports="https://s.pinimg.com/webapp/handle_top_right-ee54bc08.svg"},108679:(e,i,t)=>{var n=t(121296),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},l={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},r={};function s(e){return n.isMemo(e)?l:r[e.$$typeof]||a}r[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r[n.Memo]=l;var d=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,_=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(i,t,n){if("string"!=typeof t){if(m){var a=_(t);a&&a!==m&&e(i,a,n)}var l=c(t);u&&(l=l.concat(u(t)));for(var r=s(i),h=s(t),g=0;g<l.length;++g){var y=l[g];if(!(o[y]||n&&n[y]||h&&h[y]||r&&r[y])){var v=p(t,y);try{d(i,y,v)}catch(f){}}}}return i}},396103:(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0});var t="function"==typeof Symbol&&Symbol.for,n=t?Symbol.for("react.element"):60103,a=t?Symbol.for("react.portal"):60106,o=t?Symbol.for("react.fragment"):60107,l=t?Symbol.for("react.strict_mode"):60108,r=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,d=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,p=t?Symbol.for("react.forward_ref"):60112,_=t?Symbol.for("react.suspense"):60113,m=t?Symbol.for("react.memo"):60115,h=t?Symbol.for("react.lazy"):60116;function g(e){if("object"==typeof e&&null!==e){var i=e.$$typeof;switch(i){case n:switch(e=e.type){case c:case u:case o:case r:case l:case _:return e;default:switch(e=e&&e.$$typeof){case d:case p:case s:return e;default:return i}}case h:case m:case a:return i}}}function y(e){return g(e)===u}i.typeOf=g,i.AsyncMode=c,i.ConcurrentMode=u,i.ContextConsumer=d,i.ContextProvider=s,i.Element=n,i.ForwardRef=p,i.Fragment=o,i.Lazy=h,i.Memo=m,i.Portal=a,i.Profiler=r,i.StrictMode=l,i.Suspense=_,i.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===u||e===r||e===l||e===_||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===m||e.$$typeof===s||e.$$typeof===d||e.$$typeof===p)},i.isAsyncMode=function(e){return y(e)||g(e)===c},i.isConcurrentMode=y,i.isContextConsumer=function(e){return g(e)===d},i.isContextProvider=function(e){return g(e)===s},i.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},i.isForwardRef=function(e){return g(e)===p},i.isFragment=function(e){return g(e)===o},i.isLazy=function(e){return g(e)===h},i.isMemo=function(e){return g(e)===m},i.isPortal=function(e){return g(e)===a},i.isProfiler=function(e){return g(e)===r},i.isStrictMode=function(e){return g(e)===l},i.isSuspense=function(e){return g(e)===_}},121296:(e,i,t)=>{e.exports=t(396103)},562705:(e,i,t)=>{var n=t(555639).Symbol;e.exports=n},896874:e=>{e.exports=function(e,i,t){switch(t.length){case 0:return e.call(i);case 1:return e.call(i,t[0]);case 2:return e.call(i,t[0],t[1]);case 3:return e.call(i,t[0],t[1],t[2])}return e.apply(i,t)}},228483:(e,i,t)=>{var n=t(225063)();e.exports=n},644239:(e,i,t)=>{var n=t(562705),a=t(789607),o=t(902333),l=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":l&&l in Object(e)?a(e):o(e)}},105976:(e,i,t)=>{var n=t(406557),a=t(545357),o=t(430061);e.exports=function(e,i){return o(a(e,i,n),e+"")}},356560:(e,i,t)=>{var n=t(575703),a=t(538777),o=t(406557),l=a?function(e,i){return a(e,"toString",{configurable:!0,enumerable:!1,value:n(i),writable:!0})}:o;e.exports=l},727561:(e,i,t)=>{var n=t(567990),a=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(a,""):e}},225063:e=>{e.exports=function(e){return function(i,t,n){for(var a=-1,o=Object(i),l=n(i),r=l.length;r--;){var s=l[e?r:++a];if(!1===t(o[s],s,o))break}return i}}},538777:(e,i,t)=>{var n=t(610852),a=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(i){}}();e.exports=a},431957:(e,i,t)=>{var n="object"==typeof t.g&&t.g&&t.g.Object===Object&&t.g;e.exports=n},789607:(e,i,t)=>{var n=t(562705),a=Object.prototype,o=a.hasOwnProperty,l=a.toString,r=n?n.toStringTag:void 0;e.exports=function(e){var i=o.call(e,r),t=e[r];try{e[r]=void 0;var n=!0}catch(s){}var a=l.call(e);return n&&(i?e[r]=t:delete e[r]),a}},816612:(e,i,t)=>{var n=t(977813),a=t(498612),o=t(565776),l=t(513218);e.exports=function(e,i,t){if(!l(t))return!1;var r=typeof i;return!!("number"==r?a(t)&&o(i,t.length):"string"==r&&i in t)&&n(t[i],e)}},902333:e=>{var i=Object.prototype.toString;e.exports=function(e){return i.call(e)}},545357:(e,i,t)=>{var n=t(896874),a=Math.max;e.exports=function(e,i,t){return i=a(void 0===i?e.length-1:i,0),function(){for(var o=arguments,l=-1,r=a(o.length-i,0),s=Array(r);++l<r;)s[l]=o[i+l];l=-1;for(var d=Array(i+1);++l<i;)d[l]=o[l];return d[i]=t(s),n(e,this,d)}}},555639:(e,i,t)=>{var n=t(431957),a="object"==typeof self&&self&&self.Object===Object&&self,o=n||a||Function("return this")();e.exports=o},430061:(e,i,t)=>{var n=t(356560),a=t(521275)(n);e.exports=a},521275:e=>{var i=Date.now;e.exports=function(e){var t=0,n=0;return function(){var a=i(),o=16-(a-n);if(n=a,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},567990:e=>{var i=/\s/;e.exports=function(e){for(var t=e.length;t--&&i.test(e.charAt(t)););return t}},575703:e=>{e.exports=function(e){return function(){return e}}},23279:(e,i,t)=>{var n=t(513218),a=t(707771),o=t(14841),l=Math.max,r=Math.min;e.exports=function(e,i,t){var s,d,c,u,p,_,m=0,h=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(i){var t=s,n=d;return s=d=void 0,m=i,u=e.apply(n,t)}function f(e){var t=e-_;return void 0===_||t>=i||t<0||g&&e-m>=c}function x(){var e=a();if(f(e))return b(e);p=setTimeout(x,function(e){var t=i-(e-_);return g?r(t,c-(e-m)):t}(e))}function b(e){return p=void 0,y&&s?v(e):(s=d=void 0,u)}function P(){var e=a(),t=f(e);if(s=arguments,d=this,_=e,t){if(void 0===p)return function(e){return m=e,p=setTimeout(x,i),h?v(e):u}(_);if(g)return clearTimeout(p),p=setTimeout(x,i),v(_)}return void 0===p&&(p=setTimeout(x,i)),u}return i=o(i)||0,n(t)&&(h=!!t.leading,c=(g="maxWait"in t)?l(o(t.maxWait)||0,i):c,y="trailing"in t?!!t.trailing:y),P.cancel=function(){void 0!==p&&clearTimeout(p),m=0,s=_=d=p=void 0},P.flush=function(){return void 0===p?u:b(a())},P}},406557:e=>{e.exports=function(e){return e}},701469:e=>{var i=Array.isArray;e.exports=i},637005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},707771:(e,i,t)=>{var n=t(555639);e.exports=function(){return n.Date.now()}},14841:(e,i,t)=>{var n=t(727561),a=t(513218),o=t(733448),l=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,s=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(a(e)){var i="function"==typeof e.valueOf?e.valueOf():e;e=a(i)?i+"":i}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var t=r.test(e);return t||s.test(e)?d(e.slice(2),t?2:8):l.test(e)?NaN:+e}},869921:(e,i)=>{var t="function"==typeof Symbol&&Symbol.for,n=t?Symbol.for("react.element"):60103,a=t?Symbol.for("react.portal"):60106,o=t?Symbol.for("react.fragment"):60107,l=t?Symbol.for("react.strict_mode"):60108,r=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,d=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,p=t?Symbol.for("react.forward_ref"):60112,_=t?Symbol.for("react.suspense"):60113,m=t?Symbol.for("react.suspense_list"):60120,h=t?Symbol.for("react.memo"):60115,g=t?Symbol.for("react.lazy"):60116,y=t?Symbol.for("react.block"):60121,v=t?Symbol.for("react.fundamental"):60117,f=t?Symbol.for("react.responder"):60118,x=t?Symbol.for("react.scope"):60119;function b(e){if("object"==typeof e&&null!==e){var i=e.$$typeof;switch(i){case n:switch(e=e.type){case c:case u:case o:case r:case l:case _:return e;default:switch(e=e&&e.$$typeof){case d:case p:case g:case h:case s:return e;default:return i}}case a:return i}}}function P(e){return b(e)===u}i.AsyncMode=c,i.ConcurrentMode=u,i.ContextConsumer=d,i.ContextProvider=s,i.Element=n,i.ForwardRef=p,i.Fragment=o,i.Lazy=g,i.Memo=h,i.Portal=a,i.Profiler=r,i.StrictMode=l,i.Suspense=_,i.isAsyncMode=function(e){return P(e)||b(e)===c},i.isConcurrentMode=P,i.isContextConsumer=function(e){return b(e)===d},i.isContextProvider=function(e){return b(e)===s},i.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},i.isForwardRef=function(e){return b(e)===p},i.isFragment=function(e){return b(e)===o},i.isLazy=function(e){return b(e)===g},i.isMemo=function(e){return b(e)===h},i.isPortal=function(e){return b(e)===a},i.isProfiler=function(e){return b(e)===r},i.isStrictMode=function(e){return b(e)===l},i.isSuspense=function(e){return b(e)===_},i.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===u||e===r||e===l||e===_||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===h||e.$$typeof===s||e.$$typeof===d||e.$$typeof===p||e.$$typeof===v||e.$$typeof===f||e.$$typeof===x||e.$$typeof===y)},i.typeOf=b},659864:(e,i,t)=>{e.exports=t(869921)},615071:(e,i,t)=>{t.d(i,{Z:()=>b});var n=t(487462),a=t(263366),o=t(875068);t(45697);function l(e,i){return e.replace(new RegExp("(^|\\s)"+i+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var r=t(667294),s=t(973935);const d=!1;var c=t(500220),u="unmounted",p="exited",_="entering",m="entered",h="exiting",g=function(e){function i(i,t){var n;n=e.call(this,i,t)||this;var a,o=t&&!t.isMounting?i.enter:i.appear;return n.appearStatus=null,i.in?o?(a=p,n.appearStatus=_):a=m:a=i.unmountOnExit||i.mountOnEnter?u:p,n.state={status:a},n.nextCallback=null,n}(0,o.Z)(i,e),i.getDerivedStateFromProps=function(e,i){return e.in&&i.status===u?{status:p}:null};var t=i.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(e){var i=null;if(e!==this.props){var t=this.state.status;this.props.in?t!==_&&t!==m&&(i=_):t!==_&&t!==m||(i=h)}this.updateStatus(!1,i)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var e,i,t,n=this.props.timeout;return e=i=t=n,null!=n&&"number"!=typeof n&&(e=n.exit,i=n.enter,t=void 0!==n.appear?n.appear:i),{exit:e,enter:i,appear:t}},t.updateStatus=function(e,i){void 0===e&&(e=!1),null!==i?(this.cancelNextCallback(),i===_?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===p&&this.setState({status:u})},t.performEnter=function(e){var i=this,t=this.props.enter,n=this.context?this.context.isMounting:e,a=this.props.nodeRef?[n]:[s.findDOMNode(this),n],o=a[0],l=a[1],r=this.getTimeouts(),c=n?r.appear:r.enter;!e&&!t||d?this.safeSetState({status:m},(function(){i.props.onEntered(o)})):(this.props.onEnter(o,l),this.safeSetState({status:_},(function(){i.props.onEntering(o,l),i.onTransitionEnd(c,(function(){i.safeSetState({status:m},(function(){i.props.onEntered(o,l)}))}))})))},t.performExit=function(){var e=this,i=this.props.exit,t=this.getTimeouts(),n=this.props.nodeRef?void 0:s.findDOMNode(this);i&&!d?(this.props.onExit(n),this.safeSetState({status:h},(function(){e.props.onExiting(n),e.onTransitionEnd(t.exit,(function(){e.safeSetState({status:p},(function(){e.props.onExited(n)}))}))}))):this.safeSetState({status:p},(function(){e.props.onExited(n)}))},t.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(e,i){i=this.setNextCallback(i),this.setState(e,i)},t.setNextCallback=function(e){var i=this,t=!0;return this.nextCallback=function(n){t&&(t=!1,i.nextCallback=null,e(n))},this.nextCallback.cancel=function(){t=!1},this.nextCallback},t.onTransitionEnd=function(e,i){this.setNextCallback(i);var t=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(t&&!n){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[t,this.nextCallback],o=a[0],l=a[1];this.props.addEndListener(o,l)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},t.render=function(){var e=this.state.status;if(e===u)return null;var i=this.props,t=i.children,n=(i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef,(0,a.Z)(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(c.Z.Provider,{value:null},"function"==typeof t?t(e,n):r.cloneElement(r.Children.only(t),n))},i}(r.Component);function y(){}g.contextType=c.Z,g.propTypes={},g.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:y,onEntering:y,onEntered:y,onExit:y,onExiting:y,onExited:y},g.UNMOUNTED=u,g.EXITED=p,g.ENTERING=_,g.ENTERED=m,g.EXITING=h;const v=g;var f=function(e,i){return e&&i&&i.split(" ").forEach((function(i){return n=i,void((t=e).classList?t.classList.remove(n):"string"==typeof t.className?t.className=l(t.className,n):t.setAttribute("class",l(t.className&&t.className.baseVal||"",n)));var t,n}))},x=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(i=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},i.onEnter=function(e,t){var n=i.resolveArguments(e,t),a=n[0],o=n[1];i.removeClasses(a,"exit"),i.addClass(a,o?"appear":"enter","base"),i.props.onEnter&&i.props.onEnter(e,t)},i.onEntering=function(e,t){var n=i.resolveArguments(e,t),a=n[0],o=n[1]?"appear":"enter";i.addClass(a,o,"active"),i.props.onEntering&&i.props.onEntering(e,t)},i.onEntered=function(e,t){var n=i.resolveArguments(e,t),a=n[0],o=n[1]?"appear":"enter";i.removeClasses(a,o),i.addClass(a,o,"done"),i.props.onEntered&&i.props.onEntered(e,t)},i.onExit=function(e){var t=i.resolveArguments(e)[0];i.removeClasses(t,"appear"),i.removeClasses(t,"enter"),i.addClass(t,"exit","base"),i.props.onExit&&i.props.onExit(e)},i.onExiting=function(e){var t=i.resolveArguments(e)[0];i.addClass(t,"exit","active"),i.props.onExiting&&i.props.onExiting(e)},i.onExited=function(e){var t=i.resolveArguments(e)[0];i.removeClasses(t,"exit"),i.addClass(t,"exit","done"),i.props.onExited&&i.props.onExited(e)},i.resolveArguments=function(e,t){return i.props.nodeRef?[i.props.nodeRef.current,e]:[e,t]},i.getClassNames=function(e){var t=i.props.classNames,n="string"==typeof t,a=n?""+(n&&t?t+"-":"")+e:t[e];return{baseClassName:a,activeClassName:n?a+"-active":t[e+"Active"],doneClassName:n?a+"-done":t[e+"Done"]}},i}(0,o.Z)(i,e);var t=i.prototype;return t.addClass=function(e,i,t){var n=this.getClassNames(i)[t+"ClassName"],a=this.getClassNames("enter").doneClassName;"appear"===i&&"done"===t&&a&&(n+=" "+a),"active"===t&&e&&e.scrollTop,n&&(this.appliedClasses[i][t]=n,function(e,i){e&&i&&i.split(" ").forEach((function(i){return n=i,void((t=e).classList?t.classList.add(n):function(e,i){return e.classList?!!i&&e.classList.contains(i):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+i+" ")}(t,n)||("string"==typeof t.className?t.className=t.className+" "+n:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+n)));var t,n}))}(e,n))},t.removeClasses=function(e,i){var t=this.appliedClasses[i],n=t.base,a=t.active,o=t.done;this.appliedClasses[i]={},n&&f(e,n),a&&f(e,a),o&&f(e,o)},t.render=function(){var e=this.props,i=(e.classNames,(0,a.Z)(e,["classNames"]));return r.createElement(v,(0,n.Z)({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},i}(r.Component);x.defaultProps={classNames:""},x.propTypes={};const b=x},500220:(e,i,t)=>{t.d(i,{Z:()=>n});const n=t(667294).createContext(null)},560053:(e,i)=>{function t(e,i){var t=e.length;e.push(i);e:for(;0<t;){var n=t-1>>>1,a=e[n];if(!(0<o(a,i)))break e;e[n]=i,e[t]=a,t=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var i=e[0],t=e.pop();if(t!==i){e[0]=t;e:for(var n=0,a=e.length,l=a>>>1;n<l;){var r=2*(n+1)-1,s=e[r],d=r+1,c=e[d];if(0>o(s,t))d<a&&0>o(c,s)?(e[n]=c,e[d]=t,n=d):(e[n]=s,e[r]=t,n=r);else{if(!(d<a&&0>o(c,t)))break e;e[n]=c,e[d]=t,n=d}}}return i}function o(e,i){var t=e.sortIndex-i.sortIndex;return 0!==t?t:e.id-i.id}if("object"==typeof performance&&"function"==typeof performance.now){var l=performance;i.unstable_now=function(){return l.now()}}else{var r=Date,s=r.now();i.unstable_now=function(){return r.now()-s}}var d=[],c=[],u=1,p=null,_=3,m=!1,h=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,f="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var i=n(c);null!==i;){if(null===i.callback)a(c);else{if(!(i.startTime<=e))break;a(c),i.sortIndex=i.expirationTime,t(d,i)}i=n(c)}}function b(e){if(g=!1,x(e),!h)if(null!==n(d))h=!0,D(P);else{var i=n(c);null!==i&&F(b,i.startTime-e)}}function P(e,t){h=!1,g&&(g=!1,v(T),T=-1),m=!0;var o=_;try{for(x(t),p=n(d);null!==p&&(!(p.expirationTime>t)||e&&!E());){var l=p.callback;if("function"==typeof l){p.callback=null,_=p.priorityLevel;var r=l(p.expirationTime<=t);t=i.unstable_now(),"function"==typeof r?p.callback=r:p===n(d)&&a(d),x(t)}else a(d);p=n(d)}if(null!==p)var s=!0;else{var u=n(c);null!==u&&F(b,u.startTime-t),s=!1}return s}finally{p=null,_=o,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,w=!1,I=null,T=-1,A=5,k=-1;function E(){return!(i.unstable_now()-k<A)}function C(){if(null!==I){var e=i.unstable_now();k=e;var t=!0;try{t=I(!0,e)}finally{t?S():(w=!1,I=null)}}else w=!1}if("function"==typeof f)S=function(){f(C)};else if("undefined"!=typeof MessageChannel){var j=new MessageChannel,R=j.port2;j.port1.onmessage=C,S=function(){R.postMessage(null)}}else S=function(){y(C,0)};function D(e){I=e,w||(w=!0,S())}function F(e,t){T=y((function(){e(i.unstable_now())}),t)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(e){e.callback=null},i.unstable_continueExecution=function(){h||m||(h=!0,D(P))},i.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_getFirstCallbackNode=function(){return n(d)},i.unstable_next=function(e){switch(_){case 1:case 2:case 3:var i=3;break;default:i=_}var t=_;_=i;try{return e()}finally{_=t}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(e,i){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var t=_;_=e;try{return i()}finally{_=t}},i.unstable_scheduleCallback=function(e,a,o){var l=i.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?l+o:l:o=l,e){case 1:var r=-1;break;case 2:r=250;break;case 5:r=1073741823;break;case 4:r=1e4;break;default:r=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:o,expirationTime:r=o+r,sortIndex:-1},o>l?(e.sortIndex=o,t(c,e),null===n(d)&&e===n(c)&&(g?(v(T),T=-1):g=!0,F(b,o-l))):(e.sortIndex=r,t(d,e),h||m||(h=!0,D(P))),e},i.unstable_shouldYield=E,i.unstable_wrapCallback=function(e){var i=_;return function(){var t=_;_=i;try{return e.apply(this,arguments)}finally{_=t}}}},363840:(e,i,t)=>{e.exports=t(560053)},653250:(e,i,t)=>{var n=t(667294);var a="function"==typeof Object.is?Object.is:function(e,i){return e===i&&(0!==e||1/e==1/i)||e!=e&&i!=i},o=n.useState,l=n.useEffect,r=n.useLayoutEffect,s=n.useDebugValue;function d(e){var i=e.getSnapshot;e=e.value;try{var t=i();return!a(e,t)}catch(n){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,i){return i()}:function(e,i){var t=i(),n=o({inst:{value:t,getSnapshot:i}}),a=n[0].inst,c=n[1];return r((function(){a.value=t,a.getSnapshot=i,d(a)&&c({inst:a})}),[e,t,i]),l((function(){return d(a)&&c({inst:a}),e((function(){d(a)&&c({inst:a})}))}),[e]),s(t),t};i.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:c},950139:(e,i,t)=>{var n=t(667294),a=t(61688);var o="function"==typeof Object.is?Object.is:function(e,i){return e===i&&(0!==e||1/e==1/i)||e!=e&&i!=i},l=a.useSyncExternalStore,r=n.useRef,s=n.useEffect,d=n.useMemo,c=n.useDebugValue;i.useSyncExternalStoreWithSelector=function(e,i,t,n,a){var u=r(null);if(null===u.current){var p={hasValue:!1,value:null};u.current=p}else p=u.current;u=d((function(){function e(e){if(!s){if(s=!0,l=e,e=n(e),void 0!==a&&p.hasValue){var i=p.value;if(a(i,e))return r=i}return r=e}if(i=r,o(l,e))return i;var t=n(e);return void 0!==a&&a(i,t)?i:(l=e,r=t)}var l,r,s=!1,d=void 0===t?null:t;return[function(){return e(i())},null===d?void 0:function(){return e(d())}]}),[i,t,n,a]);var _=l(e,u[0],u[1]);return s((function(){p.hasValue=!0,p.value=_}),[_]),c(_),_}},61688:(e,i,t)=>{e.exports=t(653250)},552798:(e,i,t)=>{e.exports=t(950139)},456778:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BubbleStory_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"referringSource",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"ExploreArticle",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"identifierIconName",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"BubblesGridRep_story"}],type:"Story",abstractKey:null,hash:"1c6b4e45a045976cb346fc1824fa2578"};e.exports=i},103018:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BubblesGridRep_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{args:null,kind:"FragmentSpread",name:"ExploreBubble_exploreArticle"}],type:"ExploreArticle",abstractKey:null}],storageKey:null}],type:"Story",abstractKey:null,hash:"bc3408725d4de6a75e59ac3d2aefd4b2"};e.exports=i},366234:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentCarouselDisplayOptions",kind:"LinkedField",name:"carouselDisplayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"navigationType",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null},{alias:null,args:null,concreteType:"StoryContentVisibleItemCount",kind:"LinkedField",name:"contentVisibleItemCount",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobile",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryTilesGridLayout",kind:"LinkedField",name:"gridLayout",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cols",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselFadeEnds",storageKey:null},{alias:null,args:null,concreteType:"StoryItemViewRepStyle",kind:"LinkedField",name:"itemViewRepStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"exploreArticleRepStyle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moreIdeasRepStyle",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDisplay",kind:"LinkedField",name:"headerDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expandedTextAlignment",storageKey:null}],storageKey:null}],storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[i,{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"ItemRep_pin"}],type:"Pin",abstractKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"}],type:"Story",abstractKey:null};t.hash="ff1a2bcbfbb7f8e808bf69c80a931d09",e.exports=t},73755:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupLink_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadFormId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};t.hash="625c3d7decefe44b94722cb482441eac",e.exports=t},45904:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CollageChips_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinTagChipImagesPerSpec",kind:"LinkedField",name:"pinTagsChips",plural:!0,selections:[{alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupLink_pin"}],type:"Pin",abstractKey:null,hash:"9decc73fb257614037505e078843f5c4"};e.exports=i},823706:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ContextMenuClickthroughLogging_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:i,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:i,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};t.hash="91958ad6d73597b90dd099ea462eb40e",e.exports=t},67153:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ExploreBubble_exploreArticle",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColors",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"identifierIconType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyCategory",storageKey:null},{alias:"articleTitle",args:null,concreteType:"ArticleTitleGraphQL",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:"coverImage236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:i,storageKey:'coverImages(spec:"236x")'},{alias:"coverImage474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:i,storageKey:'coverImages(spec:"474x")'},{alias:"coverImage136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:i,storageKey:'coverImages(spec:"136x136")'},{alias:"coverImage170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:i,storageKey:'coverImages(spec:"170x")'},{alias:"coverImage222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:i,storageKey:'coverImages(spec:"222x")'},{alias:"coverImage90x90",args:[{kind:"Literal",name:"spec",value:"90x90"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:i,storageKey:'coverImages(spec:"90x90")'}],type:"ExploreArticle",abstractKey:null};t.hash="bc8b8afb394eb9f724930319c776249a",e.exports=t},126210:e=>{var i,t,n,a,o,l,r,s,d,c,u,p,_,m,h,g,y,v,f,x,b,P,S,w={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"FlashlightPagePinQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},s={alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},u={alias:"imageOrig",args:d=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},_={alias:"image736x",args:p=[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"736x")'},h={alias:"image564x",args:m=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"564x")'},y={alias:"image474x",args:g=[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"474x")'},f={alias:"image236x",args:v=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"236x")'},P={alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:b=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"additionalImageOrig",args:d,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x=[o,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:c,storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"orig")'},{alias:"additionalImage564x",args:m,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImage736x",args:p,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"736x")'},{alias:"additionalImage474x",args:g,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImage236x",args:v,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,concreteType:"AdditionalImages",kind:"LinkedField",name:"additionalImages",plural:!0,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"canonicalImages",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},S={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:b,storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"FlashlightPagePinQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a,o,l,r,s,u,_,h,y,f,P,S,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"2fbe7c612e0b9e55147a27059ea1cb52fb3420abce761a50d75549302dd620bd",metadata:{},name:"FlashlightPagePinQuery",operationKind:"query",text:null}};w.hash="3e072d3a492316c79a629968e8cd0a07",e.exports=w,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const i=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[i]=e}}(w)},414700:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"HeaderModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"subtitle",plural:!1,selections:i,storageKey:null},{alias:"storyDescription",args:null,concreteType:"StoryText",kind:"LinkedField",name:"description",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"titleTextColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleTextColor",storageKey:null},{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDisplay",kind:"LinkedField",name:"headerDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expandedTextAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"textAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titlePosition",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleStyle",storageKey:null}],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};t.hash="4bee3a400f6e868da4c768b56562f0ea",e.exports=t},427387:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ImageOnlyAttributionText_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupLink_pin"}],type:"Pin",abstractKey:null,hash:"dbf79d2545ed3819c04d63fa043f60b5"};e.exports=i},502763:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ItemRep_pin",selections:[{alias:"pinId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null,hash:"696867be037ab8477fab30bc1731946e"};e.exports=i},839914:e=>{var i,t,n,a,o,l,r,s,d,c,u,p,_,m,h,g,y,v,f,x,b,P,S,w,I={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"MobileFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},s={alias:"imageOrig",args:l=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},c={alias:"image736x",args:d=[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"736x")'},p={alias:"image564x",args:u=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"564x")'},m={alias:"image474x",args:_=[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"474x")'},g={alias:"image236x",args:h=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[y={alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},v={alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[o,{alias:"imageOrig",args:l,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"orig")'},{alias:"image736x",args:d,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"736x")'},{alias:"image564x",args:u,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"564x")'},{alias:"image474x",args:_,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"474x")'},{alias:"image236x",args:h,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"236x")'}],storageKey:null}],storageKey:null},b={alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:x=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:"additionalImageOrig",args:l,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f=[o,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:r,storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"orig")'},{alias:"additionalImage564x",args:u,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImage736x",args:d,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f,storageKey:'additionalImagesPerSpec(spec:"736x")'},{alias:"additionalImage474x",args:_,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImage236x",args:h,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f,storageKey:'additionalImagesPerSpec(spec:"236x")'}],storageKey:null}],storageKey:null},P={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:x,storageKey:null},S={alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},y,{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"MobileFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[n,a,o,s,c,p,m,g,{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[y,v,w={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},b,P,S,w],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"67eedd3e1834ee184411ff81c5eeea7cf9dc9ec53a5e099459966ce5369828ee",metadata:{},name:"MobileFlashlightPageFetchDataPinQuery",operationKind:"query",text:null}};I.hash="1647166e8b02809a5f8ccfca2dc5019a",e.exports=I,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const i=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[i]=e}}(I)},888588:e=>{var i,t,n,a,o,l,r,s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OverflowMenu_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageThumbnailUrl",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[a,o],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[t,n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null},{alias:null,args:null,concreteType:"PinThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:r=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:l=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[i,t,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:l,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"}],type:"Pin",abstractKey:null};s.hash="6ac6edfb6b181cd6ec438330c15fbe40",e.exports=s},991102:e=>{var i,t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardDetails_pin",selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:t=[i],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PriceLego_pin"}],type:"Pin",abstractKey:null};n.hash="e127c8f5f9fafd31c5dce4a9a7f66089",e.exports=n},441959:e=>{var i,t,n,a,o,l,r,s={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"invite_code"}],kind:"Fragment",metadata:null,name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"inviteCode",variableName:"invite_code"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a={alias:"first_name",args:null,kind:"ScalarField",name:"firstName",storageKey:null},o={alias:"is_default_image",args:null,kind:"ScalarField",name:"isDefaultImage",storageKey:null},l={alias:"image_medium_url",args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a,o,l,r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},r],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"6ecc0f5ef5b300806765351890d4c30338f4cba0f2ed6262aebb971f8d13cedd",metadata:{},name:"PinCardSharedHeaderQuery",operationKind:"query",text:null}};s.hash="6113bb3593481961950c5053449014f3",e.exports=s,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const i=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[i]=e}}(s)},182964:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardVisual_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"c4db8a7b324600a215bc35cef16f2f83"};e.exports=i},24789:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRecipe_pin",selections:[{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},i],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="0399d1e5d3138c8784dabc45eac4492b",e.exports=t},256468:e=>{var i,t,n,a,o,l,r,s,d,c,u,p,_,m,h,g,y,v,f={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRep_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[c={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},i,u={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p=[d,c,a,u],storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[t,o,l,_={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},r],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:m=[t,o,l,_,r],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:[o,l,_],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[t,a],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},o,l,_,r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:m,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[s,h={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:y=[g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[g,n,v={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:y,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[n,v],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[t],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoNoindexReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[t,n,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:m,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:m,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[t,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},c,u,a],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n,a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextualMenu_pin"},{args:null,kind:"FragmentSpread",name:"UnauthProductAttribution_pin"},{args:null,kind:"FragmentSpread",name:"SeoPageMetadataText_pin"},{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"},{args:null,kind:"FragmentSpread",name:"PinCardDetails_pin"},{args:null,kind:"FragmentSpread",name:"PinCardVisual_pin"},{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"}],type:"Pin",abstractKey:null};f.hash="f3cd3f20b9c697799f25e2cbf1cbc26b",e.exports=f},788536:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PriceLego_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i={alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="4a2543bd99e1b908c6c94274a303fcbc",e.exports=t},599271:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeeMoreButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"VaseSection_pin"}],type:"Pin",abstractKey:null,hash:"8d0233fe1acbc77ec2b5a1754e0a6e36"};e.exports=i},937711:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeoPageMetadataText_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null,hash:"8f9d12b0eee9d408e23c20c11af28777"};e.exports=i},561859:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SourceLink_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};t.hash="e8650ca409e0185df6339d4eeceb814a",e.exports=t},359433:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StructuredFeedStoryModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null}],storageKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"CarouselModule_story"},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"}],type:"Story",abstractKey:null,hash:"28a2737f428e965c289d2de4bb93d5ac"};e.exports=i},944488:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null,hash:"b5b71fb4390c1d3835e468a25f687669"};e.exports=i},897614:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null,hash:"e5a0b7dce2aa2313e4cf2c9871cbedf7"};e.exports=i},823722:e=>{var i,t,n,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthDesktopContextMenu_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i,n={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"}],type:"Pin",abstractKey:null};a.hash="9927ced98afae08f50c02180203fa8b0",e.exports=a},608614:e=>{var i,t,n,a,o,l,r,s,d,c,u,p,_,m,h,g,y,v,f,x,b,P,S,w,I,T,A,k,E,C,j,R,D,F,L,O,z,N,M,B,Z,U,K,G,H,V,W,$,Y,q,X,J,Q,ee,ie={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"UnauthDesktopFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"repinCount",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},y={alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[h={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[v={alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:S=[f={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:S,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:w=[n,f,x,b,P],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:w,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:w,storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n,I={alias:null,args:null,kind:"ScalarField",name:"imageThumbnailUrl",storageKey:null},h,T={alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},g],storageKey:null},R={alias:"imageOrig",args:A=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:j=[k={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},g,E={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null}],storageKey:'images(spec:"orig")'},F={alias:"image564x",args:D=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:j,storageKey:'images(spec:"564x")'},O={alias:"image736x",args:L=[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:j,storageKey:'images(spec:"736x")'},N={alias:"image474x",args:z=[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:j,storageKey:'images(spec:"474x")'},B={alias:"image236x",args:M=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:j,storageKey:'images(spec:"236x")'},Z={alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},q={alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[o,s,{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[h,{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:[h,E],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[h,U={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null}],storageKey:null},G={alias:"additionalImageOrig",args:A,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:K=[a,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[C,g,k],storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"orig")'},H={alias:"additionalImage564x",args:D,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:K,storageKey:'additionalImagesPerSpec(spec:"564x")'},V={alias:"additionalImage736x",args:L,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:K,storageKey:'additionalImagesPerSpec(spec:"736x")'},W={alias:"additionalImage474x",args:z,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:K,storageKey:'additionalImagesPerSpec(spec:"474x")'},$={alias:"additionalImage236x",args:M,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:K,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,concreteType:"AdditionalImages",kind:"LinkedField",name:"additionalImages",plural:!0,selections:[a,Y={alias:null,args:null,kind:"ScalarField",name:"canonicalImages",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},X={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[h,U,G,H,V,W,$,{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,concreteType:"AdditionalImages",kind:"LinkedField",name:"additionalImages",plural:!0,selections:[Y,a],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"UnauthDesktopFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[n,a,o,l,r,s,d,c,u,p,_,m,y,{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[v,J={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:Q=[f,x,b,P,J],storageKey:null},J],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:Q,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:ee=[n,f,x,b,P,J],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:ee,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:ee,storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n,I,h,T,g,J],storageKey:null},R,F,O,N,B,Z,q,X,J],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"5f09d38fcc19ea4defe9a2ced0ea73c23f12ec0bc0e6d4bd4f24974e35d6e8ea",metadata:{},name:"UnauthDesktopFlashlightPageFetchDataPinQuery",operationKind:"query",text:null}};ie.hash="41066749b18be6f77425904cd44e3d69",e.exports=ie,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const i=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[i]=e}}(ie)},143453:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthProductAttribution_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null,hash:"2fb133623620997264f81544f7f43636"};e.exports=i},717988:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseAnnotations_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null,hash:"594237c2ea6ccfb8bbc0e3e8c62cac9f"};e.exports=i},298262:e=>{var i,t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseSection_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i,t={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},t,{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"}],type:"Pin",abstractKey:null};n.hash="dda341dce5f1fa956d1837dec35496de",e.exports=n},782194:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAnnotationsWithLinksFragment_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"35075da6e1f4b526ac4314727015c44d"};e.exports=i},403494:e=>{var i,t,n,a,o,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useBuildFooterProps_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[i={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:[{alias:"carId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[t={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRepin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:a=[n={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:o=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},n],storageKey:null},{alias:null,args:null,concreteType:"PinNote",kind:"LinkedField",name:"pinNote",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shipsToUserCountry",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:o,storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"unifiedUserNote",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viaPinner",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:o,storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};l.hash="129c009f7fda1038d7667232b29931fe",e.exports=l},150470:e=>{var i,t,n,a,o,l,r,s,d,c,u={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetAttributionProps_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},d={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[i,c={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},t,n,a,o,l,r,s,d],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[t,n,a,o,r,s,d],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i,c,t,a,o,l,s],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:[t,s],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};u.hash="2985c2aa5b5f3c7fcab6ea660ed05bab",e.exports=u},428132:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetStringifiedCommerceAuxData_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdpPlus",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null}],type:"Pin",abstractKey:null};t.hash="75e0e2c4ba4bc9bcf9a593eacb51e671",e.exports=t},814118:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useLogSwipe_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null,hash:"dbfca9820e0aa1302554a0137a270b16"};e.exports=i},806387:(e,i,t)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/[id]/visual-search"]=function(){return t(464834).Z}},788642:(e,i,t)=>{t.d(i,{Z:()=>c});var n=t(667294),a=t(702664),o=t(883119),l=t(536042),r=t(981628),s=t(970588);var d=t(785893);function c({favorited:e,favoriteCount:i,isCloseupButton:t,onFavorite:c,onUnfavorite:u,pinId:p,size:_}){const m=(0,l.ZP)(),h=(0,a.useDispatch)(),[g,y]=(0,n.useState)(!1),[v,f]=(0,n.useState)(e),[x,b]=(0,n.useState)(null!=i?i:0),P=async()=>{var e;f(!v),y(!0),v?(b(x-1),await h((e=p,async i=>{await(0,s.Z)({url:`/v3/pins/${e}/favorite/`,method:"DELETE"}),i(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:-1,value:!1}}}(e))})),u(),y(!1)):(b(x+1),await h(function(e){return async i=>{await(0,s.Z)({url:`/v3/pins/${e}/favorite/`,method:"POST"}),i(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:1,value:!0}}}(e))}}(p)),c(),y(!1))},S=x<10?x:m._('9+', 'favoriteButton.favoriteCountText', 'Text shown when greater than 9 favorites on Pin');return(0,d.jsxs)(o.kC,{alignItems:"center",gap:{row:1,column:0},children:[void 0!==i&&x>0&&(0,d.jsx)(o.xv,{size:"200",weight:"bold",children:S}),(0,d.jsx)(r.ZP,{isCloseupButton:t,isDisabled:g,isFavorited:v,onTap:()=>{P()},size:_})]})}},236921:(e,i,t)=>{t.d(i,{H1:()=>d,HW:()=>o,iL:()=>s,pN:()=>r,s_:()=>l});var n=t(245410),a=t(802071);const o=new Date(2022,1,1);function l(){const{checkExperiment:e}=(0,n.F)(),i=["enabled_public","employees"].includes(e("web_ip_plays",{dangerouslySkipActivation:!0}).group),t=e("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled,a=e("android_ios_web_ip_plays_dark_reads").anyEnabled;return i||t||a}function r({isOwnPin:e,isStoryPin:i,pinCreationDate:t,surface:l}){const r=(0,a.Z)(),{checkExperiment:s}=(0,n.F)(),d=s("web_play_playtime_pin_stats",{dangerouslySkipActivation:!0}).anyEnabled,c=!!("CreatorProfileStoryPinGrid"===l&&i&&t&&t.getTime()>=o.getTime()&&d&&r.isPartner&&e)&&s("web_ip_plays").anyEnabled,u=["enabled_public","employees"].includes(s("web_ip_plays",{dangerouslySkipActivation:!0}).group);if("CreatorProfileStoryPinGrid"===l&&i&&t&&t.getTime()>=o.getTime()){if(r.isPartner)return e&&c||!e&&u;if(s("web_ip_pinner_plays").anyEnabled)return!0}return!1}function s({isOwnPin:e,isPartner:i}){const{checkExperiment:t}=(0,n.F)(),a=["enabled_public","employees"].includes(t("web_ip_plays",{dangerouslySkipActivation:!0}).group),o=t("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled;return!(e||!(o&&!i||a&&i))}function d({isOwnPin:e,isPartner:i}){const{checkExperiment:t}=(0,n.F)(),a=t("web_ip_plays",{dangerouslySkipActivation:!0}).anyEnabled,o=t("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled;return!(!e||!(a&&i||o&&!i))}},191085:(e,i,t)=>{t.r(i),t.d(i,{default:()=>I});var n=t(667294),a=t(702664),o=(t(167912),t(883119)),l=t(886673),r=t(525104);var s,d=t(825389),c=t(536042),u=t(624417),p=t(769705),_=t(245410),m=t(282802),h=t(371362),g=t(362626),y=t(347151),v=t(533451),f=t(613352),x=t(785893);const b=50,P=60;const S=void 0!==s?s:s=t(888588),w=e=>{var i,t,n,a;return{adMatchReason:e.ad_match_reason,board:e.board&&{entityId:e.board.id,imageThumbnailUrl:e.board.image_thumbnail_url,name:e.board.name,url:e.board.url},category:e.category,description:e.description,embed:e.embed&&{src:e.embed.src,type:e.embed.type},entityId:e.id,isDownstreamPromotion:e.is_downstream_promotion,isPromoted:e.is_promoted,pinner:e.pinner&&{entityId:e.pinner.id,explicitlyFollowedByMe:e.pinner.explicitly_followed_by_me,fullName:e.pinner.full_name,imageSmallUrl:e.pinner.image_small_url,username:e.pinner.username},promoter:e.promoter&&{fullName:e.promoter.full_name,username:e.promoter.username},recommendationReason:e.recommendation_reason&&{board:e.recommendation_reason.board&&{name:e.recommendation_reason.board.name,url:e.recommendation_reason.board.url},reason:e.recommendation_reason.reason,reasonId:e.recommendation_reason.reason_id,throughProperties:(a=e.recommendation_reason.through_properties,a&&Object.keys(a).map((e=>({key:e,data:a[e]}))))},richMetadata:e.rich_metadata&&{products:null===(i=e.rich_metadata.products)||void 0===i?void 0:i.map((()=>({__typename:"RichPinProductMetadata"})))},richSummary:e.rich_summary&&{products:null===(t=e.rich_summary.products)||void 0===t?void 0:t.map((()=>({__typename:"RichPinProductMetadata"})))},sourceInterest:e.source_interest&&{entityId:null!==(n=e.source_interest.id)&&void 0!==n?n:"",name:e.source_interest.name,urlName:e.source_interest.url_name},videos:e.videos&&{duration:e.videos.duration,videoList:e.videos.video_list&&{__typename:"VideoList"}}}};function I({feedbackData:e,feedbackType:i,pinKey:t,pinTitle:s,setForcePrimary:I,transparentBackground:T}){var A,k,E,C,j,R;const{data:D,childDataKey:F}=(0,d.uf)(S,t,{useLegacyAdapter:w}),L=(0,p.Z)(F),O=D.entityId,z=(0,c.ZP)(),{isAuthenticated:N,isBot:M,isSocialBot:B}=(0,m.B)(),Z=(0,a.useDispatch)(),{viewParameter:U,viewType:K}=(0,y.E)(),{reportPin:G}=(0,f.f)(),[H,V]=(0,n.useState)(!1),[W,$]=(0,n.useState)(),Y=function(e){var i,t;return null!==(i=null===(t=(0,r.S6)()(e))||void 0===t?void 0:t.show_ad_reasons)&&void 0!==i&&i}(O);var q;const X=(q=D.isPromoted?P:b,function(e){return(0,h.ZP)((e||"").trim(),q)})(null!==(A=D.description)&&void 0!==A?A:""),J=L["236x"],Q=!(null===(k=D.videos)||void 0===k||!k.videoList),ee=(0,g.Z)(101,{component:0,element:981,object_id_str:O,aux_data:{feedback_type:i}}),ie=()=>{Y||(I(!1),Z((0,v.i0)(O)),V(!1))},{checkExperiment:te}=(0,_.F)(),ne=N?te("web_auth_exclude_original_images").anyEnabled:te("web_unauth_exclude_original_images").anyEnabled;return(0,x.jsxs)(n.Fragment,{children:[(0,x.jsx)(o.xu,{"data-test-id":"feedback-button",ref:$,children:(0,x.jsx)(o.hU,{accessibilityLabel:z._('More information', 'accessibility label for overflow menu button', 'accessibility label for overflow menu button'),bgColor:T?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:()=>{H?ie():(I(!0),V(!0)),ee()},size:"sm"})}),H&&(0,x.jsx)(o.xu,{onFocus:e=>e.stopPropagation(),children:(0,x.jsx)(l.Z,{anchor:W,ad_match_reason:D.adMatchReason,bestPinImgSrc:(0,u.Z)({imagesUrls:L,embedSrc:null===(E=D.embed)||void 0===E?void 0:E.src,embedType:null===(C=D.embed)||void 0===C?void 0:C.type,excludeOriginals:!M&&!B&&ne}),board:D.board&&{entityId:D.board.entityId,imageThumbnailUrl:D.board.imageThumbnailUrl,name:D.board.name,url:D.board.url},feedbackData:e,feedbackType:i,hideDownload:Q,isPromoted:null!==(j=D.isPromoted)&&void 0!==j&&j,onLinkClick:()=>{H&&ie()},onDismiss:ie,onHide:ie,onDownloadHideFlyout:()=>{I(!1),V(!1)},pinCategory:D.category,pinDescription:X,pinId:O,pinImgSrc:J,pinner:D.pinner&&{explicitlyFollowedByMe:D.pinner.explicitlyFollowedByMe,entityId:D.pinner.entityId,fullName:D.pinner.fullName,imageSmallUrl:D.pinner.imageSmallUrl,username:D.pinner.username},pinTitle:s,promoter:D.promoter&&{fullName:D.promoter.fullName,username:D.promoter.username},recommendationReason:D.recommendationReason&&{board:D.recommendationReason.board&&{name:D.recommendationReason.board.name,url:D.recommendationReason.board.url},reason:D.recommendationReason.reason,reasonId:D.recommendationReason.reasonId,throughProperties:D.recommendationReason.throughProperties},reportPin:()=>{var e,i,t,n,a;G({pinId:D.entityId,isDownstreamPromotion:!!D.isDownstreamPromotion,hasPromoter:!!D.promoter,isProduct:!(null===(e=D.richMetadata)||void 0===e||null===(i=e.products)||void 0===i||!i.length)||!(null===(t=D.richSummary)||void 0===t||null===(n=t.products)||void 0===n||!n.length),firstVideoDuration:null===(a=D.videos)||void 0===a?void 0:a.duration,viewParameter:U,viewType:K}),ie()},sourceInterest:D.sourceInterest&&{entityId:null!==(R=D.sourceInterest.entityId)&&void 0!==R?R:"",name:D.sourceInterest.name,urlName:D.sourceInterest.urlName},viewParameter:U,viewType:K})})]})}},886673:(e,i,t)=>{t.d(i,{Z:()=>T});var n=t(667294),a=t(702664),o=t(616550),l=t(883119),r=t(222443),s=t(388011),d=t(536042),c=t(630089),u=t(649796),p=t(958083),_=t(325438),m=t(867812),h=t(950695),g=t(28630),y=t(724842),v=t(181453),f=t(154522),x=t(443601),b=t(533451),P=t(525104),S=t(785893);function w(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class I extends n.Component{constructor(e){super(e),w(this,"getRecommendationDescription",(()=>{var e,i,t;const{i18n:n,ad_match_reason:a,board:o,feedbackType:l,pinner:r,promoter:s,recommendationReason:d,sourceInterest:c}=this.props,u={i18n:n,makeNavigateLink:this.makeNavigateLink};switch(l){case"pfy":return(0,p.Ud)({...u,feedback:{type:"pfy"}});case"pfyBoard":return(0,p.Ud)({...u,feedback:{type:"pfyBoard",recommendationReasonBoard:(null==d?void 0:d.board)&&{name:null!==(e=d.board.name)&&void 0!==e?e:"",url:null!==(i=d.board.url)&&void 0!==i?i:""}}});case"topic":return(0,p.Ud)({...u,feedback:{type:"topic",sourceInterest:c&&c.name&&c.urlName?{name:c.name,url_name:c.urlName}:null}});case"followed":return(0,p.Ud)({...u,feedback:{type:"followed",followed:null!=r&&r.explicitlyFollowedByMe?{type:"pinner",pinner:r.fullName?{full_name:r.fullName,username:null!==(t=r.username)&&void 0!==t?t:""}:null}:{type:"board",board:o&&o.name&&o.url?{name:o.name,url:o.url}:null}}});case"promoted":return(0,p.Ud)({...u,feedback:{type:"promoted",promoter:!a&&s&&s.fullName?{full_name:s.fullName,username:s.username}:null}});default:return null}})),w(this,"getRecommendationDescriptionImage",(()=>{const{board:e,feedbackType:i,pinner:t,recommendationReason:n}=this.props;if("followed"!==i&&"pfyBoard"!==i)return null;let a,o,r;var s;if(t&&t.explicitlyFollowedByMe)a=t.imageSmallUrl,o="50%",r=`/${null!==(s=t.username)&&void 0!==s?s:""}`;else if(e&&e.imageThumbnailUrl){var d;a=e.imageThumbnailUrl,o="4px",r=(null==n||null===(d=n.board)||void 0===d?void 0:d.url)||e.url}return a?(0,S.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:o}},flex:"none",marginStart:3,overflow:"hidden",children:(0,S.jsx)(l.iP,{onTap:()=>{var e;return this.props.history.push(null!==(e=r)&&void 0!==e?e:"")},children:(0,S.jsx)(l.zd,{height:40,wash:!0,width:40,children:(0,S.jsx)(l.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:a})})})}):null})),w(this,"getUnfollowAction",(()=>{const{board:e,feedbackType:i,i18n:t,pinner:n,sourceInterest:a}=this.props;switch(i){case"followed":return n&&e?(0,p.oK)({i18n:t,makeNavigateLink:this.makeNavigateLink,boardId:e.entityId,display:n.explicitlyFollowedByMe?{type:"pinner",data:{full_name:n.fullName,username:n.username}}:{type:"board",data:{name:e.name,url:e.url}}}):null;case"topic":if(!a)return null;const{entityId:i,name:o,urlName:l}=a;return i&&o&&l?(0,p.Iv)({i18n:t,makeNavigateLink:this.makeNavigateLink,sourceInterest:{id:i,name:o,url_name:l}}):null;default:return null}})),w(this,"getUndoText",(e=>"unfollowPinner"===e||"unfollowBoard"===e?this.props.i18n._('Follow again', 'Caption for button to undo a unfollowing of a topic', 'Caption for button to undo a unfollowing of a topic'):"")),w(this,"makeNavigateLink",((e,i,t,n)=>(0,S.jsx)(l.rU,{onClick:this.props.onLinkClick,href:i,display:"inlineBlock",underline:"hover",children:(0,S.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:n?{display:"inline",color:"white",textDecorationColor:"white"}:{display:"inline"}},children:t})},e))),w(this,"reportPinOption",(()=>({action:"reportPin",elementType:974,text:this.props.i18n._('Report Pin', 'Report a pin in the dropdown', 'Report a pin in the dropdown'),description:this.props.i18n._('This goes against Pinterest\'s community guidelines', 'Description for the report pin option', 'Description for the report pin option'),callback:this.props.reportPin,dataTestId:"report-pin-option"}))),w(this,"hidePinOption",(e=>{const{clientTrackingParams:i,feedbackData:t,feedbackType:n,pinId:a,recommendationReason:o}=this.props,l="search"===n?973:982,{action:r,actionOptions:s}=(0,_.Z)({feedbackData:t,feedbackType:n,pinId:a,pinFeedbackType:"pfy"===n?4:10,recommendationReason:o&&{board:o.board&&{entityId:o.board.entityId},reasonId:o.reasonId,reason:o.reason,throughProperties:o.throughProperties},clientTrackingParams:i(a)}),d=this.props.i18n._('Hide Pin', 'message displayed in pin feedback list', 'message displayed in pin feedback list');return{action:r,actionOptions:s,feedbackText:this.pinHiddenFeedbackText(e),text:d,description:this.props.i18n._('See fewer Pins like this', 'Description for the hide pin option', 'Description for the hide pin option'),elementType:l}})),w(this,"stopRecommendationOption",(()=>{var e;const{clientTrackingParams:i,feedbackData:t,feedbackType:n,pinId:a,recommendationReason:o}=this.props,l="pfyBoard"===n,{action:r,actionOptions:s}=(0,_.Z)({feedbackData:t,feedbackType:n,pinId:a,pinFeedbackType:l?2:4,recommendationReason:o&&{board:o.board&&{entityId:o.board.entityId},reasonId:o.reasonId,reason:o.reason,throughProperties:o.throughProperties},clientTrackingParams:i(a)}),d=null!=o&&o.board&&o.board.url&&o.board.name?this.makeNavigateLink("boardUrl",o.board.url,o.board.name,!0):"";return{action:r,actionOptions:s,feedbackText:{subTitle:l&&o?(0,c.nk)(this.props.i18n._('We won\'t show you Pins inspired by your board {{ formattedBoard }} anymore.', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{formattedBoard:d}):this.props.i18n._('Got it! We won\'t show you Pins like this in the future.', 'message displayed after stopping recommendations from a pin', 'message displayed after stopping recommendations from a pin')},text:l&&o?(0,c.nk)(this.props.i18n._('Stop seeing Pins inspired by {{ boardName }}', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{boardName:null===(e=o.board)||void 0===e?void 0:e.name}):this.props.i18n._('See fewer Pins like this', 'Feedback option to stop recommendations inspired by this Pin', 'Feedback option to stop recommendations inspired by this Pin'),elementType:284}})),w(this,"unfollowBoardOption",(()=>{var e,i;const{board:t}=this.props,n=t?this.makeNavigateLink("boardUrl",null!==(e=t.url)&&void 0!==e?e:"",null!==(i=t.name)&&void 0!==i?i:"",!0):"",a=(0,c.nk)(this.props.i18n._('Unfollow {{ boardName }}', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{boardName:null==t?void 0:t.name}),o=(0,c.nk)(this.props.i18n._('Got it! You unfollowed {{ formattedBoard }} and won\'t see Pins saved to it in the future.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:n});return{action:"unfollowBoard",actionOptions:{board_id:null==t?void 0:t.entityId},feedbackText:{title:"",subTitle:o},text:a,description:(0,c.nk)(this.props.i18n._('Stop seeing Pins from the board "{{ boardName }}"', 'Secondary caption displayed in pin feedback list to unfollow a board', 'Secondary caption displayed in pin feedback list to unfollow a board'),{boardName:null==t?void 0:t.name}),elementType:10614}})),w(this,"unfollowTopicOption",(()=>{const{sourceInterest:e}=this.props;if(e){const{entityId:i,name:t="",urlName:n}=e,a=`/topics/${null!=n?n:""}`,o=this.makeNavigateLink("topicUrl",a,null!=t?t:"",!0),l=(0,c.nk)(this.props.i18n._('See fewer Pins from {{ topicName }}', 'Primary caption displayed in pin feedback list to unfollow a topic', 'Primary caption displayed in pin feedback list to unfollow a topic'),{topicName:t}),r=(0,c.nk)(this.props.i18n._('We\'ll show you fewer Pins from {{ formattedTopic }} in the future.', 'Confirmation text after unfollowing a topic', 'Confirmation text after unfollowing a topic'),{formattedTopic:o});return{action:"unfollowTopic",actionOptions:{interest_id:i,interest_list:m.X},feedbackText:{title:"",subTitle:r},text:l,description:(0,c.nk)(this.props.i18n._('Stop seeing Pins from the topic "{{ topicName }}"', 'Secondary caption displayed in pin feedback list to unfollow a topic', 'Secondary caption displayed in pin feedback list to unfollow a topic'),{topicName:e.name}),elementType:976}}return null})),w(this,"unfollowUserOption",(()=>{const{pinner:e}=this.props,{entityId:i,username:t,fullName:n}=null!=e?e:{},a=`/${t}`,o=e?this.makeNavigateLink("pinnerUrl",a,null!=n?n:"",!0):"";return{action:"unfollowPinner",actionOptions:{user_id:i},feedbackText:{title:"",subTitle:(0,c.nk)(this.props.i18n._('Got it! You unfollowed {{ formattedUser }} and won\'t see Pins they save in the future.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedUser:o})},text:(0,c.nk)(this.props.i18n._('Unfollow {{ fullName }}', 'Primary caption displayed in pin feedback list to unfollow a user', 'Primary caption displayed in pin feedback list to unfollow a user'),{fullName:n}),description:this.props.i18n._('Stop seeing all their Pins', 'Secondary caption displayed in pin feedback list to unfollow a user', 'Secondary caption displayed in pin feedback list to unfollow a user'),elementType:10640}})),w(this,"downloadPinOption",(()=>({action:"downloadPin",text:this.props.i18n._('Download image', 'Button to download Pin image', 'Button to download Pin image'),elementType:10836}))),w(this,"_pinFeedbackText",(()=>{var e,i,t,n;const{location:a,feedbackType:o,hideDownload:l,pinner:r}=this.props,s="followed"===this.props.feedbackType,d=a.pathname.includes("following"),c=(s||"topic"===o)&&!d,u=this.hidePinOption(c),p=this.reportPinOption(),_="promoted"!==o&&!l;switch(o){case"followed":const a=d,l=!a&&this.getRecommendationDescription(),s=null!=r&&r.explicitlyFollowedByMe?this.unfollowUserOption():this.unfollowBoardOption();return{...l?{description:l}:{},options:[u,...c||a?[s]:[],..."promoted"!==o?[this.downloadPinOption()]:[],p]};case"promoted":const{pinId:m,showAdReasonsModal:h}=this.props,g=[u,{dataTestId:"why-am-i-seeing-this-ad-reasons",action:"showAdReasons",text:this.props.i18n._('Why am I seeing this ad?', 'app.common.react.components.PinFeedbackDropdown.adReasonText', 'Text to promoted pins explanation modal'),callback:()=>{h(m)}},p];return{description:null!==(e=this.getRecommendationDescription())&&void 0!==e?e:void 0,options:g};case"topic":const y=this.unfollowTopicOption(),v=[u,...c&&y?[y]:[],..._?[this.downloadPinOption()]:[],p];return{description:null!==(i=this.getRecommendationDescription())&&void 0!==i?i:void 0,options:v};case"pfy":case"pfyBoard":const f=[u,..."pfyBoard"===o?[this.stopRecommendationOption()]:[],..._?[this.downloadPinOption()]:[],p];return{description:null!==(t=this.getRecommendationDescription())&&void 0!==t?t:void 0,options:f};default:const x=[u,..._?[this.downloadPinOption()]:[],p];return{description:null!==(n=this.getRecommendationDescription())&&void 0!==n?n:void 0,options:x}}})),w(this,"pinHiddenFeedbackText",(e=>{const{isPromoted:i,promoter:t}=this.props,n=e?null:this.getUnfollowAction();return i&&null!=t&&t.fullName?{title:"",subTitle:(0,c.nk)(this.props.i18n._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'webapp.app.pinFeedbackDropdown.promotedFeedbackText.subtitle', 'Message displayed after hiding a promoted pin. promoter: the name of the person who promoted the pin.'),{promoter:t.fullName})}:n?{title:"",subTitle:this.getRecommendationDescription(),unfollow:n}:{title:"",subTitle:this.props.i18n._('Got it! We won\'t show you this Pin in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}}));const i=this._pinFeedbackText();this.state={pinFeedbackConfig:i,showSecondary:!1}}onPinFeedbackActionButtonClick(e,i,t){e.stopPropagation(),i.auxData?this.handleClickLogging(i.elementType,i.auxData):this.handleClickLogging(i.elementType),(0,u.t)(i.action,i.actionOptions,t)}onPinHide(e,i,t,n){const{hidePinFeedback:a,onHide:o,pinId:l,showPinFeedback:r,showPinFeedbackOverlay:s,showPinFeedbackUndo:d,viewParameter:c,viewType:u,logContextEvent:_}=this.props;i&&t&&n?d(l,e,(0,p.EF)(t,n,l,u,c,a,_),this.getUndoText(n)):r(l,e),!t||t.promoted||10!==t.feedback_type&&4!==t.feedback_type?o():(this.setState({showSecondary:!0}),s(l))}handleClickLogging(e,i={}){const{feedbackType:t,viewParameter:n,viewType:a,logContextEvent:o}=this.props;o({event_type:101,view_type:a,view_parameter:n,element:e,component:(0,p.nb)(t),aux_data:{...i}})}renderButtons(){const{hideDownload:e,onDownloadHideFlyout:i,pinId:t,viewType:n,viewParameter:a,logContextEvent:o,isWindowsPwa:r}=this.props,{pinFeedbackConfig:s}=this.state,{options:d}=s,c=[],p=d.length;for(let _=0;_<p;_+=1){const s=d[_],p=u.P.includes(s.action),m=s.callback?s.callback:()=>this.onPinHide(s.feedbackText,p,s.actionOptions,s.action);if("downloadPin"!==s.action){const e=(0,g.Z)({url:s.link||""});let i="";Array.isArray(s.text)?i=s.text.join(""):"string"!=typeof s.text&&"number"!=typeof s.text||(i=s.text.toString()),c.push(s.link?(0,S.jsx)(l.Lt.Link,{href:s.link,isExternal:e,option:{value:s.action||"",label:i},dataTestId:s.dataTestId||""}):(0,S.jsx)(l.Lt.Item,{onSelect:({event:e})=>this.onPinFeedbackActionButtonClick(e,s,m),option:{value:s.action||"",label:i},dataTestId:s.dataTestId||""}))}else if(!e&&!1===r){const{bestPinImgSrc:e,pinTitle:r,pinDescription:s,pinCategory:d}=this.props;c.push((0,S.jsx)(l.Lt.Item,{onSelect:()=>{(0,x.ZP)({category:d,filename:r||s,imageDownloadSuccessCallback:()=>{i&&i()},imgSrc:e,pinId:t,viewParameter:a,viewType:n},o)},option:{value:"downloadImage",label:this.props.i18n._('Download image', 'pinRep.pinFeedbackDropdown.downloadImage', 'Label to download the pin image')}}))}}return c}render(){var e;const{pinFeedbackConfig:i,showSecondary:t}=this.state,{anchor:a,onDismiss:o,feedbackData:r,feedbackType:s,hideAdReasonsModal:d,pinId:c,onHide:u,recommendationReason:p,showAdReasons:_,viewParameter:m,viewType:h}=this.props,{description:g}=i,x=this.getRecommendationDescriptionImage();return(0,S.jsxs)(n.Fragment,{children:[t?(0,S.jsx)(v.Z,{anchor:a,feedbackData:r,feedbackType:s,pinId:c,onDismiss:o,onHide:u,recommendationReason:p&&{board:p.board&&{entityId:p.board.entityId},reasonId:p.reasonId,reason:p.reason,throughProperties:null===(e=p.throughProperties)||void 0===e?void 0:e.map((({data:e,key:i})=>({data:e,key:i})))},viewParameter:m,viewType:h}):(0,S.jsx)(l.Lt,{anchor:a,id:"pin-action-dropdown",idealDirection:"down",onDismiss:o,zIndex:f.lI,headerContent:g&&(0,S.jsxs)(l.kC,{alignItems:"center",children:[(0,S.jsx)(l.xu,{"data-pin-recommendation-reason":null==p?void 0:p.reason,maxHeight:56,overflow:"hidden",children:(0,S.jsx)(l.xv,{color:"default",overflow:"normal",size:"200",children:g})}),x]}),children:this.renderButtons()}),_&&(0,S.jsx)(y.ZP,{onDismiss:()=>d(c),pinId:c})]})}}function T(e){const{logContextEvent:i}=(0,s.v)(),t=(0,r.Z)(),n=(0,d.ZP)(),l=(0,P.S6)()(e.pinId),{ad_targeting_attribution:c,show_ad_reasons:u=!1}=null!=l?l:{},p=(0,h.kf)(),_=(0,a.useDispatch)();return(0,S.jsx)(I,{...e,clientTrackingParams:t,showAdReasons:u,adTargetingAttribution:c,history:(0,o.useHistory)(),i18n:n,isWindowsPwa:p,location:(0,o.useLocation)(),logContextEvent:i,hidePinFeedback:e=>_((0,b.I1)(e)),showPinFeedback:(e,i)=>_((0,b.q1)(e,i)),showPinFeedbackOverlay:e=>_((0,b.Ib)(e)),showPinFeedbackUndo:(e,i,t,n)=>_((0,b.NA)({id:e,text:i,undoAction:t,undoText:n})),showAdReasonsModal:e=>_((0,b.b9)(e)),hideAdReasonsModal:e=>_((0,b.yj)(e))})}},482203:(e,i,t)=>{t.d(i,{$:()=>c,r:()=>u});var n=t(667294),a=t(583592),o=t(624799),l=t(282802),r=t(272109),s=t(785893);const{Provider:d,useHook:c}=(0,a.Z)("PinRep");function u({children:e}){const{isAuthenticated:i}=(0,l.B)(),[t,a]=(0,n.useState)(!0),[c,u]=(0,n.useState)(!1),p=(0,o.Z)(1000069);(0,r.Z)((()=>{(async()=>{var e,t,n,o;if(!i)return void a(!1);const l=await p.fetchAllExperiences();l&&l.payload&&500417===(null===(e=l.payload.experiences)||void 0===e||null===(t=e[1000069])||void 0===t?void 0:t.experience_id)&&null!==(n=l.payload.experiences)&&void 0!==n&&null!==(o=n[1000069])&&void 0!==o&&o.display_data.hide_footer?p.viewExperience(1000069,500417):a(!1),u(!0)})()}));const _=(0,n.useMemo)((()=>({hasSimplifiedPinGridExpLoaded:c,hidePinRepFooter:t})),[c,t]);return(0,s.jsx)(d,{value:_,children:e})}},762113:(e,i,t)=>{t.d(i,{Z:()=>Dn});var n=t(667294),a=t(702664),o=t(616550),l=t(883119),r=t(661900),s=t(236921),d=t(604094),c=t(536042),u=t(633917),p=t(282802),_=t(643183),m=t(549201),h=(t(167912),t(946618)),g=t(589845),y=t(825389),v=t(599551),f=t(473183),x=t(362626),b=t(347151),P=t(178067);var S,w=t(785893);const I={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}},T=void 0!==S?S:S=t(561859),A=e=>{var i,t,n;return{adDestinationUrl:e.ad_destination_url,attributionSourceId:e.attribution_source_id,board:e.board&&{url:e.board.url},campaignId:e.campaign_id,carouselData:e.carousel_data&&{carouselSlots:e.carousel_data.carousel_slots&&e.carousel_data.carousel_slots.map((e=>({link:e.link}))),entityId:null!==(i=null===(t=e.carousel_data)||void 0===t?void 0:t.id)&&void 0!==i?i:"",index:null===(n=e.carousel_data)||void 0===n?void 0:n.index},domain:e.domain,entityId:e.id,isDownstreamPromotion:e.is_downstream_promotion,isPromoted:e.is_promoted,pinPromotionId:e.pin_promotion_id,pinner:e.pinner&&{username:e.pinner.username},promoter:e.promoter&&{entityId:e.promoter.id},storyPinDataId:e.story_pin_data_id,trackingParams:e.tracking_params}};function k({pinKey:e,sourceLinkStyle:i,surface:t,trackingParamsMap:a,url:r}){var s,d,u,p,_,m;const S=(0,c.ZP)(),[k,E]=(0,n.useState)(!1),{data:C,childDataKey:j}=(0,y.uf)(T,e,{useLegacyAdapter:A}),R=(null===(s=C.carouselData)||void 0===s?void 0:s.index)||0,{entityId:D}=C,F=function({adDestinationUrl:e,domain:i,carouselDataId:t,carouselSlotLink:n}){let a=i||"";return e&&(a=(0,P.Z)(e).hostname||""),t&&(a=n&&(0,P.Z)(n).hostname||""),a.replace("www.","")}({adDestinationUrl:C.adDestinationUrl,domain:C.domain,carouselDataId:null===(d=C.carouselData)||void 0===d?void 0:d.entityId,carouselSlotLink:null===(u=C.carouselData)||void 0===u||null===(p=u.carouselSlots)||void 0===p?void 0:p[R].link}),L=(0,o.useLocation)(),O=(0,f.Z)(j)(),{slotIndex:z}=(0,b.E)(),N=(0,h.Z)({boardUrl:null===(_=C.board)||void 0===_?void 0:_.url,location:L,pinId:C.entityId,pinnerUserName:null===(m=C.pinner)||void 0===m?void 0:m.username,storyPinDataId:C.storyPinDataId,trackingParams:C.trackingParams,trackingParamsMap:a}),M=(0,x.Z)(12,{object_id_str:D,clientTrackingParams:N,aux_data:{grid_index:z,...O}}),B=(0,x.Z)(101,{element:162,object_id_str:D,clientTrackingParams:N,aux_data:{...O}}),Z=(0,x.Z)(8948,{object_id_str:D,clientTrackingParams:N,aux_data:{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:z,...O}}),U=()=>{M(),B(),Z()},K=(0,v.Z)({href:r,target:"blank",externalData:{auxData:O,pin:C&&{attributionSourceId:C.attributionSourceId,board:C.board&&{url:C.board.url},campaignId:C.campaignId,entityId:C.entityId,isDownstreamPromotion:C.isDownstreamPromotion,isPromoted:C.isPromoted,pinner:C.pinner&&{username:C.pinner.username},pinPromotionId:C.pinPromotionId,promoter:C.promoter&&{entityId:C.promoter.entityId},storyPinDataId:C.storyPinDataId,trackingParams:C.trackingParams,trackingParamsMap:a},surface:t}});return"icon-only"===i?(0,w.jsx)(l.I_,{accessibilityLabel:S._('link', 'Website url link', 'Website url link'),bgColor:"white",href:r,icon:"arrow-up-right",iconColor:"darkGray",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),U(),K({event:e})},rel:"nofollow",size:"sm"}):(0,w.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{...I.container,...k?I.containerHovered:Object.freeze({}),..."truncated-text"===i?I.containerTruncated:Object.freeze({})}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),position:"relative",children:(0,w.jsx)(g.Z,{hovered:k,pinKey:j,slotIndex:z,trackingParamsMap:a,viewType:1,children:(0,w.jsx)(l.Tg,{fullWidth:!1,href:r,onTap:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),U(),K({event:e})},rel:"nofollow",rounding:4,children:(0,w.jsxs)(l.xu,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:I.text},display:"flex",justifyContent:"between",children:[(0,w.jsx)(l.xu,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:(0,w.jsx)(l.JO,{accessibilityLabel:S._('link', 'Website url link', 'Website url link'),color:"default",icon:"arrow-up-right",size:9})}),(0,w.jsx)(l.xu,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:(0,w.jsx)(l.xv,{color:"default",size:"200",weight:"bold",lineClamp:1,children:F})})]})})})})}var E=t(251951),C=t(979275);const j=(0,n.lazy)((()=>Promise.all([t.e(23071),t.e(14734),t.e(30982),t.e(71407),t.e(48035)]).then(t.bind(t,932215)))),R=(0,n.lazy)((()=>Promise.resolve().then(t.bind(t,191085)))),D=(0,n.lazy)((()=>Promise.all([t.e(5453),t.e(5035)]).then(t.bind(t,842674))));const F=({pinId:e})=>{const{onSendButtonClick:i}=(0,E.R)(),t=(0,x.Z)(101,{element:72,object_id_str:e});return(0,w.jsx)(C.Z,{onSendButtonClick:i,trackShareTap:t,size:"sm",bgColor:"white"})},L=(0,n.memo)((function({actionBarEditBeforeShare:e,feedbackData:i,feedbackType:t,layout:a,onToggleFlyout:o,pin:s,pinTitle:h,setForcePrimary:g,showEditButton:y,showOverflowMenu:v,showShareButton:f,showSourceLinkButton:x,sourceLinkStyle:P,surface:S}){var I,T,A,E,C;const L=(0,c.ZP)(),O=(0,l.JZ)(),{isRTL:z}=(0,p.B)(),N=!(0,m.HG)(),{viewParameter:M,viewType:B}=(0,b.E)(),{carousel_data:Z,id:U,savedInfo:K,tracked_link:G,link:H,ad_destination_url:V}=s,W=null!==(I=null!==(T=null!=V?V:G)&&void 0!==T?T:H)&&void 0!==I?I:"",{showLeadPinStdAlpha:$}=(0,r.Z)({promotedIsLeadAd:s.promoted_is_lead_ad}),[Y,q]=(0,n.useState)(y),[X,J]=(0,n.useState)(y),[Q,ee]=(0,n.useState)(y),ie={...z?{marginLeft:y&&v?-44:0}:{marginRight:y&&v?-44:0},transition:z?"margin-left .2s ease-in-out":"margin-right .2s ease-in-out"},te={opacity:Q?1:0,transition:"opacity .2s ease-in-out",pointerEvents:"auto"},ne={...z?{marginRight:X?4:0}:{marginLeft:X?4:0},transition:z?"margin-right .2s ease-in-out":"margin-left .2s ease-in-out"};(0,n.useEffect)((()=>{let e;return y&&v?(J(!0),e=setTimeout((()=>{requestAnimationFrame((()=>{q(!0),requestAnimationFrame((()=>{ee(!0)}))}))}),800)):(J(y),q(y),requestAnimationFrame((()=>{ee(y)}))),()=>{clearTimeout(e)}}),[y,v]);let ae=null;if(x){const e=`/pin/${U}`;ae=(0,w.jsx)(u.Z,{children:$?(0,w.jsx)(l.ZP,{accessibilityLabel:L._('Link for closeup view and learn more', '[m10n] pinRep.actionBar.learnMore', 'Content for learn more link'),size:"sm",href:e,text:L._('Learn more', '[m10n] pinRep.actionBar.learnMore', 'Content for learn more link')}):(0,w.jsx)(k,{pinKey:{type:"deprecated",data:s},sourceLinkStyle:P,surface:S,trackingParamsMap:s.tracking_params_map,url:W})})}const oe=f&&(0,w.jsx)(d.Z,{name:"SafeSuspense_PinRep_SendShareLink",children:(0,w.jsx)(_.Z,{children:(0,w.jsx)(l.xu,{"data-test-id":"send-share-link",children:(0,w.jsx)(u.Z,{children:N?(0,w.jsx)(F,{pinId:s.id}):(0,w.jsx)(D,{imageUrl:null===(A=s.images)||void 0===A||null===(E=A["236x"])||void 0===E?void 0:E.url,ownerId:null===(C=s.pinner)||void 0===C?void 0:C.id,pinId:s.id,setForcePrimary:g})})})})}),le=Boolean(null==K?void 0:K.localPinId)?null==K?void 0:K.localPinId:U,re=Y&&(0,w.jsx)(d.Z,{name:"SafeSuspense_PinRep_EditButton",children:(0,w.jsx)(_.Z,{children:(0,w.jsx)(l.xu,{"data-test-id":"edit-button",dangerouslySetInlineStyle:O?void 0:{__style:te},children:(0,w.jsx)(u.Z,{children:(0,w.jsx)(j,{carouselSlotCurrentIndex:Z&&Z.index,component:0,onToggleModal:o,pinId:le,style:{size:"sm"},view:B,viewParameter:M,useLegoStyles:!0})})})})}),se=(0,w.jsx)(d.Z,{name:"SafeSuspense_PinRep_OverflowMenu",children:(0,w.jsx)(_.Z,{children:(0,w.jsx)(l.xu,{"data-test-id":"overflow-menu-button",dangerouslySetInlineStyle:O?void 0:{__style:ne},children:(0,w.jsx)(u.Z,{children:(0,w.jsx)(R,{feedbackData:i,feedbackType:t,pinKey:{type:"deprecated",data:s},pinTitle:h,setForcePrimary:g})})})})});return"equally-spaced"===a?(0,w.jsxs)(l.xu,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[(0,w.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{flexBasis:32}},children:ae}),e?re:oe,e?oe:re,v&&se]}):(0,w.jsxs)(l.xu,{alignItems:"center",display:"flex",padding:3,children:[(0,w.jsx)(l.xu,{flex:"shrink",children:ae}),(0,w.jsx)(l.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",dangerouslySetInlineStyle:O?void 0:{__style:ie},children:(0,w.jsxs)(l.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"end",children:[e?re:oe,e?oe:re,v&&se]})})]})})),O=e=>{const i=new URL(e);return i.searchParams.delete("epik"),i.href};var z=t(354428),N=t(300657),M=t(245410),B=t(525104);function Z(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class U extends n.Component{constructor(...e){super(...e),Z(this,"state",{spamCheck:null}),Z(this,"mounted",!1),Z(this,"handleSpammyDomainCheck",(()=>{const{clientTrackingParams:e,location:i,pin:t,surface:n,url:a}=this.props;a&&t&&(!t.promoter||t.is_downstream_promotion)&&(0,z.$3)({location:i,pinId:t.id,surface:n})&&(0,z.iw)({clientTrackingParams:e,isMounted:this.mounted,pinId:t.id,spamCheckCallback:e=>this.setState({spamCheck:e}),href:a})})),Z(this,"handleClick",(e=>{const{auxData:i,clientTrackingParams:t,onClick:n,navigateToOffsiteUrl:a,pin:o,pinId:l,url:r}=this.props;(0,z.gV)({isOffsiteUrl:!0,event:e})||(e.preventDefault(),n&&n(e),r&&a({auxData:i,clientTrackingParams:t,pin:o&&{attributionSourceId:o.attribution_source_id,campaignId:o.campaign_id,isPromoted:o.is_promoted,pinPromotionId:o.pin_promotion_id},pinId:l,url:r}))}))}componentDidMount(){this.mounted=!0,this.handleSpammyDomainCheck()}componentWillUnmount(){this.mounted=!1}componentDidUpdate(){const{spamCheck:e}=this.state;null===e&&this.handleSpammyDomainCheck()}render(){const{children:e,pin:i,shouldHideEpikSearchParam:t,url:n}=this.props;return(0,w.jsx)("a",{"aria-label":(null==i?void 0:i.domain)||"",href:t?O(n):n,onClick:this.handleClick,rel:"nofollow",style:{color:"inherit",textDecoration:"none",outline:"none",cursor:"pointer",display:"block"},target:null,children:e})}}function K(e){var i,t,n;const a=(0,B.S6)()(null!==(i=e.pinId)&&void 0!==i?i:""),{checkExperiment:l}=(0,M.F)(),{isAuthenticated:r}=(0,p.B)(),s=(0,o.useLocation)(),d=a?(0,h.Z)({boardUrl:null===(t=a.board)||void 0===t?void 0:t.url,location:s,pinId:a.id,pinnerUserName:null===(n=a.pinner)||void 0===n?void 0:n.username,storyPinDataId:a.story_pin_data_id,trackingParams:a.tracking_params,trackingParamsMap:a.tracking_params_map}):null,c=(0,N.Z)({isFromClickthroughLink:!0});return(0,w.jsx)(U,{...e,clientTrackingParams:d,location:(0,o.useLocation)(),navigateToOffsiteUrl:c,pin:a,shouldHideEpikSearchParam:!r||l("web_hide_epik_param_in_promoted_urls").anyEnabled})}var G=t(388011),H=t(788241);function V(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";const{downloadedAssets:i,totalAssets:t}=window.prefetchCompletion[e];return t?(i/t*100).toFixed(3).toString():"-1"}function W({children:e,componentType:i,contextLogData:t,pin:n,surface:a,viewParameter:o,viewType:r}){const{logContextEvent:s}=(0,G.v)(),d=(0,b.E)(),{ad_destination_url:c,carousel_data:u,id:p,link:_,tracked_link:m}=n;let h,g=c||m||_||"",y="one-tap-desktop";const v=(0,H.SU)();if(u){const{carousel_slots:e=[],id:i,index:t=0}=u;e[t]&&e[t].link&&(g=e[t].link),h={carousel_slot_id:e[t]&&e[t].id,carousel_data_id:i,carousel_slot_index:t},y+="-carousel"}return(0,w.jsx)(l.xu,{"data-test-id":"otpp",children:(0,w.jsx)(l.xu,{"data-test-id":y,children:(0,w.jsx)(K,{auxData:h,onClick:()=>{s({event_type:12,view_type:r||d.viewType,view_parameter:o||d.viewParameter,component:i||d.componentType,object_id_str:p,aux_data:{...t,grid_index:d.slotIndex,pin_id:p,prefetch_percentage_complete:V(_||"")}}),s({event_type:8948,view_type:r||d.viewType,view_parameter:o||d.viewParameter,component:i||d.componentType,object_id_str:p,aux_data:{...t,click_type:"clickthrough",closeup_navigation_type:"click",grid_index:d.slotIndex,pin_id:p,prefetch_percentage_complete:V(_||"")}}),s({event_type:13,object_id_str:p,component:i||d.componentType,view_type:3,aux_data:{closeup_navigation_type:"web_closeup",...d.contextLogData,...t}}),s({event_type:13,view_type:v.viewType,view_parameter:v.viewParameter,view_data:v.viewData})},pinId:p,surface:a,url:g,children:e})})})}var $=t(833897);function Y(e){var i;const{surface:t,pin:n,...a}=e,o=!!n.promoted_is_lead_ad,l=!!n.is_eligible_for_web_closeup,r=!!n.promoter&&!n.is_downstream_promotion,s=!(null===(i=n.videos)||void 0===i||!i.video_list);return!o&&(l||s&&r)?(0,w.jsx)(W,{surface:l?t:void 0,pin:n,...a}):(0,w.jsx)($.Z,{pinKey:{type:"deprecated",data:n},trackingParamsMap:n.tracking_params_map,...a})}var q=t(788642),X=t(219224),J=t(297776),Q=t(802071),ee=t(924255),ie=t(541268),te=t(274796),ne=t(755040),ae=t(385929);const oe=312,le=20;function re({board:e,favoriteCount:i,favorited:t,pinId:o}){const{logContextEvent:r}=(0,G.v)(),s=(0,a.useDispatch)(),{slotIndex:d}=(0,b.E)(),{currentFilter:c,eligibleFilters:u,refreshData:p=(()=>{}),sectionId:_,setShowExperienceTooltip:m}=(0,ne.s)(),h=(0,n.useRef)(null),g=(0,Q.Z)(),y=(0,X.Z)(g,e),v=c===ae.Ac&&(!i||1===i),f=(0,ee.E)(u,ae.Ac),x=e=>{r({event_type:101,component:0,element:e?12225:12226,object_id_str:o,view_type:5,view_parameter:y?3069:3070})};return(0,w.jsxs)(n.Fragment,{children:[(0,w.jsx)(l.xu,{ref:h,children:(0,w.jsx)(q.Z,{favorited:t,favoriteCount:i,onFavorite:()=>{x(!0),f&&p(),m&&m(!0)},onUnfavorite:()=>{x(!1),e&&v&&s((0,ie.EX)({feedId:_||e.id,feedType:_?te.Z.BOARD_SECTION_PINS:te.Z.BOARDFEED,itemIds:[o],itemType:"pin"}))},pinId:o,size:le})}),h&&!t&&!_&&0===d&&(0,w.jsx)(l.mh,{children:(0,w.jsx)(J.default,{anchor:h.current,experienceIds:[502973],flyoutSize:oe,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}function se({pin:e,pinNoteText:i}){return(0,w.jsx)(Y,{pin:e,children:(0,w.jsx)(l.xv,{lineClamp:1,overflow:"normal",size:"200",children:i})})}var de=t(316445);const ce=(e,i)=>i?[{align:"center",displayText:e._('Video views', 'pinRep.pinStats.videoViews', 'Label for views of a video pin on pinrep'),field:"video_views",iconType:"play"},{align:"center",displayText:e._('Avg. time', 'pinRep.pinStats.videoAverageTime', 'Label for average time of a video pin on pinrep'),field:"video_average_time",iconType:"clock",valueFormat:"TIME"}]:[{align:"start",displayText:e._('Video views', 'pinRep.pinStats.videoViews', 'Label for views of a video pin on pinrep'),field:"video_views",iconType:"play"},{align:"center",displayText:e._('Avg. time', 'pinRep.pinStats.videoAverageTime', 'Label for average time of a video pin on pinrep'),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:e._('Saves', 'pinRep.pinStats.save', 'Label for saves of a video pin on pinrep'),field:"save",iconType:"angled-pin"}],ue=(e,i)=>i?[{align:"center",displayText:e._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:e._('Link clicks', 'pinRep.pinStats.clickthrough', 'Label for click-throughs of a pin on pinrep'),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]:[{align:"start",displayText:e._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:e._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"},{align:"end",displayText:e._('Link clicks', 'pinRep.pinStats.clickthrough', 'Label for click-throughs of a pin on pinrep'),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}],pe=(e,i,t,n)=>e?[{align:"start",displayText:t._('Full screen plays', 'pinRep.pinStats.fullScreenPlays', 'Label for how many times the Idea Pin has been played full screen'),field:"full_screen_play",iconType:"play"}]:i?[{align:"start",displayText:t._('Full screen plays', 'pinRep.pinStats.fullScreenPlays', 'Label for how many times the Idea Pin has been played full screen'),field:"full_screen_play",iconType:"play"},{align:"center",displayText:t._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"end",displayText:t._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}]:n?[{align:"center",displayText:t._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:t._('Closeups', 'pinRep.pinStats.closeups', 'Label for closeups of a pin on pinrep'),field:"closeup",iconSize:10,iconType:"hand-pointing"}]:[{align:"start",displayText:t._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:t._('Closeups', 'pinRep.pinStats.closeups', 'Label for closeups of a pin on pinrep'),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:t._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}],_e=(e,i)=>i?[{align:"center",displayText:e._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:e._('Pin clicks', 'pinRep.pinStats.pinclick', 'Label for pin clicks of a pin on pinrep'),field:"pin_click",iconSize:10,iconType:"hand-pointing"}]:[{align:"start",displayText:e._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:e._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"},{align:"end",displayText:e._('Pin clicks', 'pinRep.pinStats.pinclick', 'Label for pin clicks of a pin on pinrep'),field:"pin_click",iconSize:10,iconType:"hand-pointing"}];var me=t(117651),he=t(13596);function ge({value:e,valueFormat:i}){const t=(0,c.ZP)();return e||0===e?"TIME"===i?(0,me.Z)(e):(0,w.jsx)(he.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e}):(0,w.jsx)(l.u,{idealDirection:"up",text:t._('This stat is not available yet', 'closeup.partnerAnalytics.unavailableStat', 'when data for this field has not populated yet'),children:"—"})}function ye({pin:e}){var i,t;const n=(0,c.ZP)(),a=(0,Q.Z)(),o=!!e.story_pin_data_id,r=!(null===(i=e.videos)||void 0===i||!i.video_list),d=a.isAuth&&(null===(t=e.pinner)||void 0===t?void 0:t.id)===a.id&&!e.is_repin,u=a.isAuth&&a.isPartner,p=(0,de.Z)("pinStats"),_=!!u&&p(),m=(0,s.iL)({isOwnPin:d,isPartner:u}),h=(0,s.H1)({isOwnPin:d,isPartner:u}),g=e.created_at?new Date(e.created_at):null,y=(m||h)&&g&&g.getTime()<=s.HW.getTime(),v=m?function(e){const{public_creator_analytics:i}=e;return e.story_pin_data_id&&i?i:null}(e):function(e,i){var t,n,a,o;return!i&&(e.story_pin_data_id||null!==(t=e.videos)&&void 0!==t&&t.video_list)||0===Object.keys((null===(n=e.aggregated_pin_data)||void 0===n||null===(a=n.creator_analytics)||void 0===a?void 0:a["30d_realtime"])||{}).length?e.creator_analytics:null===(o=e.aggregated_pin_data)||void 0===o?void 0:o.creator_analytics}(e,_),f=Boolean(e.promoted_is_removable),x=function({isAdsOnlyPin:e,isStoryPin:i,isVideo:t,i18n:n,showPublicPinStats:a,showPrivateFullScreenPinStats:o,showSCEMetrics:l}){return l&&!a?_e(n,e):t?ce(n,e):i?pe(a,o,n,e):ue(n,e)}({isAdsOnlyPin:f,isVideo:r,isStoryPin:o,i18n:n,showPublicPinStats:m,showPrivateFullScreenPinStats:h,showSCEMetrics:_});let b;return b=_?(null==v?void 0:v.all_time_realtime)||(null==v?void 0:v["30d_realtime"]):(r||o)&&(null==v?void 0:v.all_time_realtime)||(null==v?void 0:v["30d_realtime"]),(0,w.jsx)(l.kC,{alignItems:"start",justifyContent:f?"around":"between",children:x.map((({align:e,displayText:i,field:t,iconType:n,iconSize:a=12,valueFormat:o})=>{var r;return(0,w.jsxs)(l.xu,{alignItems:"center",column:4,display:"flex",justifyContent:e,children:[(0,w.jsx)(l.xu,{display:"inlineBlock",marginEnd:1,children:(0,w.jsx)(l.JO,{accessibilityLabel:i,color:"default",icon:n,size:a})}),(0,w.jsx)(l.xv,{inline:!0,size:"200",children:(0,w.jsx)(ge,{value:"full_screen_play"===t&&y?null:null===(r=b)||void 0===r?void 0:r[t],valueFormat:o})})]},t)}))})}var ve=t(951202);const fe=e=>{var i,t,n,a,o;return(null===(i=e.linkDomain)||void 0===i||null===(t=i.officialUser)||void 0===t?void 0:t.fullName)||(null===(n=e.richSummary)||void 0===n?void 0:n.siteName)||("Uploaded by user"===e.domain?null===(a=e.isRepin?e.originPinner:e.pinner)||void 0===a?void 0:a.fullName:e.domain||e.isRepin&&(null===(o=e.viaPinner)||void 0===o?void 0:o.fullName)||void 0)};function xe(e,i){var t,n,a,o;return("product"===(null===(t=e.richSummary)||void 0===t?void 0:t.typeName)||"ShoppingGridShippedMetadataWithVisitButton"===i&&(e.isOosProduct||e.isStaleProduct))&&((null===(n=((null===(a=e.richSummary)||void 0===a||null===(o=a.products)||void 0===o?void 0:o[0])||{}).brand)||void 0===n?void 0:n.name)||fe(e&&{domain:e.domain,linkDomain:e.linkDomain&&{officialUser:e.linkDomain.officialUser},isRepin:e.isRepin,originPinner:e.originPinner,pinner:e.pinner,richSummary:e.richSummary&&{siteName:e.richSummary.siteName},viaPinner:e.viaPinner}))||""}function be({disableLink:e,pin:i,surface:t}){var n,a;const o=(0,w.jsx)(l.xu,{"data-test-id":"pin-source",display:"flex",alignItems:"stretch",justifyContent:"start",children:(0,w.jsx)(l.xv,{color:"default",lineClamp:1,overflow:"normal",size:"200",weight:"normal",children:xe(i&&{domain:i.domain,linkDomain:i.link_domain&&{officialUser:i.link_domain.official_user&&{fullName:i.link_domain.official_user.full_name}},isOosProduct:i.is_oos_product,isRepin:i.is_repin,isStaleProduct:i.is_stale_product,originPinner:i.origin_pinner&&{fullName:i.origin_pinner.full_name},pinner:i.pinner&&{fullName:i.pinner.full_name},richSummary:i.rich_summary&&{products:i.rich_summary.products&&i.rich_summary.products.map((e=>({brand:e.brand&&{name:e.brand.name}}))),siteName:null===(n=i.rich_summary)||void 0===n?void 0:n.site_name,typeName:null===(a=i.rich_summary)||void 0===a?void 0:a.type_name},viaPinner:i.via_pinner&&{fullName:i.via_pinner.full_name}},t)})});return e?o:(0,w.jsx)(Y,{pin:i,surface:t,children:o})}var Pe=t(969327),Se=t(874261),we=t(869805);function Ie({disableLink:e,numberOfLines:i=2,pin:t,pinTitle:n,surface:a}){const o=(0,p.B)(),{checkExperiment:r}=(0,M.F)(),s=!!t.promoter&&!t.is_downstream_promotion,d=e?n:(0,w.jsx)(Y,{pin:t,surface:a,children:n}),c=(0,Pe.G6)(o.userAgent.browserName),u="iphone"===(0,we.v)(o),_="ipad"===(0,we.v)(o);return(u||_||c)&&!s&&r("hfp_title_truncation_safari_web").anyEnabled?(0,w.jsxs)(l.xv,{color:"default",size:"200",weight:"bold",children:[(0,w.jsx)(Se.Z,{unsafeCSS:"\n  .shorten-title > a {\n    max-width: 100%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .shorten-title {\n    max-width: 100%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  "}),(0,w.jsx)("div",{className:"shorten-title",children:d})]}):(0,w.jsx)(l.xv,{color:"default",lineClamp:i,size:"200",weight:"bold",children:d})}var Te=t(191085),Ae=t(371659),ke=t.n(Ae),Ee=t(217649),Ce=t.n(Ee),je=t(36855),Re=t.n(je),De=t(624645),Fe=t.n(De),Le=t(130133),Oe=t.n(Le),ze=t(411171);const Ne={goodIdea:ke(),love:Re(),thanks:Fe(),wow:Oe(),haha:Ce()},Me={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},Be=["CreatorProfileStoryPinGrid"];const Ze=function({alignment:e="start",pinId:i,pinner:t,reactionCounts:n,surface:a}){const o=(0,Q.Z)(),r=n?(0,ze.At)(n):null,s=n?(0,ze.Ud)(n):0,d=Boolean(o.isAuth&&(null==t?void 0:t.id)===o.id),c=!!r&&r.length>0&&r.map(((e,i)=>{const t=Ne[Me[e]];return(0,w.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,w.jsx)(l.xu,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${t})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},i)})),u=!!c&&(0,w.jsx)(l.Tg,{href:`/pin/${i}/`,children:(0,w.jsxs)(l.xu,{display:"flex",direction:"row",alignItems:"center",justifyContent:e,height:19,paddingY:3,children:[(0,w.jsx)(l.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:c}),(0,w.jsx)(l.xu,{paddingX:1,children:(0,w.jsx)(l.xv,{size:"200",children:(0,w.jsx)(he.Z,{value:s,shortform:!0,shortformMaximumFractionDigits:1})})})]})}),p=d&&Be.includes(a)&&(0,w.jsx)(l.xu,{height:24});return u||p};var Ue=t(309926),Ke=t(870243);const Ge=32;function He({accessibilityLabel:e,attributionNameLink:i,avatarUrl:t,fullWidth:n=!0,name:a="",onClick:o,outline:r=!1,size:s=Ge,shouldRenderAdsOnlyProfileClick:d=!1}){const c=(0,w.jsx)(l.xu,{"data-test-id":"attribution-avatar",height:s,width:s,children:(0,w.jsx)(Ke.qE,{name:a,src:t,accessibilityLabel:"",outline:r})});return i?(0,w.jsx)(l.Tg,{fullWidth:n,href:i,rel:d?"nofollow":void 0,target:d?"blank":void 0,onTap:o,accessibilityLabel:e,children:c}):c}var Ve=t(493214);function We({isHover:e,attributionNameLink:i,name:t,onClick:n,regularWeight:a}){return(0,w.jsx)(l.xu,{children:i?(0,w.jsx)(l.xv,{underline:e,size:"200",lineClamp:1,weight:a?"normal":"bold",children:(0,w.jsx)(l.rU,{onClick:n,href:i,children:t})}):(0,w.jsx)(Ve.Z,{underline:e,size:"200",lineClamp:1,weight:a?"normal":"bold",children:t})})}function $e({isHover:e,link:i,onClick:t,title:n,weight:a}){return n?(0,w.jsx)(l.xv,{inline:!0,underline:e,size:"200",weight:a,children:i?(0,w.jsx)(l.rU,{onClick:t,href:i,children:n}):n}):null}var Ye=t(251163),qe=t(397831);const Xe=32,Je=64,Qe=-45;function ei({attributionNameLink:e,attributionTitle:i,avatarUrl:t,display:a="default",isPromotedByPinCreator:o,name:r,url:s,verifiedIdentity:d,isVerifiedMerchant:c,shouldRenderAdsOnlyProfileClick:u,pinId:p,storyPinDataId:_,hasPromoter:m,hasSponsorship:h,sponsorshipCreatorId:g,isDownstreamPromotion:y}){const v=(0,qe.f)(),[f,b]=(0,n.useState)(!1),P=m&&!y,{logContextEvent:S}=(0,G.v)(),I=!!_,T=(0,x.Z)(101,{view_type:3,element:P?283:27,object_id_str:p,component:I?230:void 0,aux_data:{...g?{creator_id:g,pin_id:p}:{}}}),A=()=>{v.setMostRecentPinId(p),T()},k=()=>{b((e=>!e))},E=s&&!e,C=E?"":r,j="overlay"===a,R=(0,w.jsxs)(l.xu,{alignItems:"center",display:j?void 0:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[(0,w.jsx)(l.xu,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},display:j?"flex":void 0,justifyContent:"center",children:(0,w.jsx)(l.xu,{dangerouslySetInlineStyle:j?{__style:{marginTop:Qe}}:void 0,children:(0,w.jsx)(He,{attributionNameLink:C?e:void 0,avatarUrl:t,name:C,onClick:()=>A(),accessibilityLabel:C,size:j?Je:Xe,outline:j})})}),(0,w.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden",display:j?"flex":void 0,justifyContent:"center",marginTop:j?2:void 0,children:[(0,w.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:(0,w.jsxs)(l.kC,{gap:{row:1,column:0},children:[(0,w.jsx)(We,{attributionNameLink:e,name:r,onClick:()=>A(),regularWeight:!(P&&!h||o),isHover:f}),(0,w.jsx)(Ye.Z,{size:"sm",hasVerifiedIdentity:d,isVerifiedMerchant:c})]})}),(0,w.jsx)($e,{isHover:f,title:i,weight:"normal"})]})]});return E?(0,w.jsx)(l.Tg,{onTap:({event:e})=>{u&&S({event_type:9371,element:13382,aux_data:{aop_origin:"Attribution"}}),e.stopPropagation(),A()},href:s,rel:u?"nofollow":void 0,target:u?"blank":void 0,onMouseEnter:k,onMouseLeave:k,children:R}):R}var ii=t(885669);const ti={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${ii.X}ms ease`},visible:{opacity:1}}};var ni,ai=t(649715);const oi=void 0!==ni?ni:ni=t(427387),li=e=>({pinner:e.pinner&&{fullName:e.pinner.full_name,username:e.pinner.username},sourceInterest:e.source_interest&&{name:e.source_interest.name}});function ri({feedbackType:e,pinKey:i,trackingParamsMap:t}){const n=(0,c.ZP)(),{data:a,childDataKey:o}=(0,y.uf)(oi,i,{useLegacyAdapter:li}),{pinner:r,sourceInterest:s}=a,{fullName:d,username:u}=r||{},{name:p}=s||{},_="topic"===e,m=!_&&"followed"===e,h=`/${u}/`,g=(0,ai.Z)(p),v=`/search/pins/?q=${encodeURIComponent(g)}&rs=image_only_attribution`,f=_?v:h,x={topic:n._('From {topic}', 'attribution on pin rep', 'attribution on pin rep'),followed:n._('From {pinnerName}', 'attribution on pin rep', 'attribution on pin rep'),pfyBoard:n._('Picked for you', 'attribution on pin rep', 'attribution on pin rep'),pfy:n._('Picked for you', 'attribution on pin rep', 'attribution on pin rep')}[e];if(!x)return null;if(m||_){const e=0===x.indexOf("{"),i=_?p:d,t=e?x.slice(x.indexOf("}")+1):x.slice(0,x.indexOf("{"));return e?(0,w.jsxs)(l.xu,{children:[(0,w.jsx)(l.rU,{display:"inlineBlock",href:f,underline:"hover",children:(0,w.jsx)(l.xv,{weight:"bold",inline:!0,size:"200",lineClamp:1,children:i})}),(0,w.jsx)(l.xv,{inline:!0,size:"200",children:t})]}):(0,w.jsxs)(l.xu,{children:[(0,w.jsx)(l.xv,{inline:!0,size:"200",children:t}),(0,w.jsx)(l.rU,{display:"inlineBlock",href:f,underline:"hover",children:(0,w.jsx)(l.xv,{color:"default",weight:"bold",inline:!0,size:"200",lineClamp:1,children:i})})]})}return(0,w.jsx)(l.xu,{children:(0,w.jsx)($.Z,{pinKey:o,trackingParamsMap:t,children:(0,w.jsx)(l.xv,{color:"default",overflow:"normal",size:"200",weight:"bold",children:x})})})}var si;t(422578);const di=void 0!==si?si:si=t(150470),ci=e=>({board:e.board&&{url:e.board.url},isDownstreamPromotion:e.is_downstream_promotion,linkDomain:e.link_domain&&{officialUser:e.link_domain.official_user&&{adsOnlyProfileSite:e.link_domain.official_user.ads_only_profile_site,fullName:e.link_domain.official_user.full_name,imageLargeUrl:e.link_domain.official_user.image_large_url,imageMediumUrl:e.link_domain.official_user.image_medium_url,imageSmallUrl:e.link_domain.official_user.image_small_url,isAdsOnlyProfile:e.link_domain.official_user.is_ads_only_profile,isPrimaryWebsiteVerified:e.link_domain.official_user.is_primary_website_verified,isVerifiedMerchant:e.link_domain.official_user.is_verified_merchant,username:e.link_domain.official_user.username,verifiedIdentity:e.link_domain.official_user.verified_identity&&{verified:e.link_domain.official_user.verified_identity.verified}}},nativeCreator:e.native_creator&&{adsOnlyProfileSite:e.native_creator.ads_only_profile_site,entityId:e.native_creator.id,fullName:e.native_creator.full_name,imageLargeUrl:e.native_creator.image_large_url,imageMediumUrl:e.native_creator.image_medium_url,imageSmallUrl:e.native_creator.image_small_url,isAdsOnlyProfile:e.native_creator.is_ads_only_profile,isVerifiedMerchant:e.native_creator.is_verified_merchant,username:e.native_creator.username,verifiedIdentity:e.native_creator.verified_identity&&{verified:e.native_creator.verified_identity.verified}},pinner:e.pinner&&{fullName:e.pinner.full_name,imageLargeUrl:e.pinner.image_large_url,imageMediumUrl:e.pinner.image_medium_url,imageSmallUrl:e.pinner.image_small_url,username:e.pinner.username,isVerifiedMerchant:e.pinner.is_verified_merchant,verifiedIdentity:e.pinner.verified_identity&&{verified:e.pinner.verified_identity.verified}},promoter:e.promoter&&{adsOnlyProfileSite:e.promoter.ads_only_profile_site,entityId:e.promoter.id,fullName:e.promoter.full_name,imageMediumUrl:e.promoter.image_medium_url,imageSmallUrl:e.promoter.image_small_url,isAdsOnlyProfile:e.promoter.is_ads_only_profile,username:e.promoter.username},sponsorship:e.sponsorship&&{sponsor:e.sponsorship.sponsor&&{fullName:e.sponsorship.sponsor.full_name,username:e.sponsorship.sponsor.username}}});function ui({attributionType:e,pinKey:i}){const t=(0,c.ZP)(),{data:n}=(0,y.uf)(di,i,{useLegacyAdapter:ci});return function({attributionType:e,i18n:i,pin:{board:t,isDownstreamPromotion:n,linkDomain:a,nativeCreator:o,pinner:l,promoter:r,sponsorship:s}}){var d,c,u,p,_;const m=!!r&&!n,h=m&&!!s&&(null==o?void 0:o.entityId)!==(null==r?void 0:r.entityId),g=null==a?void 0:a.officialUser,y=null==s?void 0:s.sponsor;let v="",f="",x="",b="",P="",S="",w=!1,I=!1,T=!1;function A(e,i){return!!e&&!!i}var k,E,C,j,R,D,F,L;if(h)v=null!==(k=null!==(E=null==o?void 0:o.imageMediumUrl)&&void 0!==E?E:null==o?void 0:o.imageSmallUrl)&&void 0!==k?k:"",f=A(null==o?void 0:o.isAdsOnlyProfile,null==o?void 0:o.adsOnlyProfileSite)?null!==(C=o.adsOnlyProfileSite)&&void 0!==C?C:"":`/${null!==(j=null==o?void 0:o.username)&&void 0!==j?j:""}/`,x=null==r?void 0:r.fullName,b=null==o?void 0:o.fullName,S=A(null==o?void 0:o.isAdsOnlyProfile,null==o?void 0:o.adsOnlyProfileSite)?null!==(R=o.adsOnlyProfileSite)&&void 0!==R?R:"":`/${null!==(D=null==o?void 0:o.username)&&void 0!==D?D:""}/`,P=`/${null!==(F=null==r?void 0:r.username)&&void 0!==F?F:""}/`,w=null==o||null===(L=o.verifiedIdentity)||void 0===L?void 0:L.verified,I=null==o?void 0:o.isVerifiedMerchant,T=A(null==o?void 0:o.isAdsOnlyProfile,null==o?void 0:o.adsOnlyProfileSite);else if(m&&r){var O;v=r.imageMediumUrl||r.imageSmallUrl,x=r.fullName,b=i._('Promoted by', 'indicating the username of the person who promoted the pin', 'indicating the username of the person who promoted the pin'),S=A(r.isAdsOnlyProfile,r.adsOnlyProfileSite)?r.adsOnlyProfileSite:`/${null!==(O=r.username)&&void 0!==O?O:""}/`,T=A(r.isAdsOnlyProfile,r.adsOnlyProfileSite)}else if(s&&null!=y&&y.username){var z,N,M,B,Z,U,K,G,H;v=null!==(z=null!==(N=null!==(M=null==o?void 0:o.imageLargeUrl)&&void 0!==M?M:null==o?void 0:o.imageMediumUrl)&&void 0!==N?N:null==o?void 0:o.imageSmallUrl)&&void 0!==z?z:"",f=A(null==o?void 0:o.isAdsOnlyProfile,null==o?void 0:o.adsOnlyProfileSite)?null!==(B=o.adsOnlyProfileSite)&&void 0!==B?B:"":`/${null!==(Z=null==o?void 0:o.username)&&void 0!==Z?Z:""}/`,x=y.fullName,b=null==o?void 0:o.fullName,S=A(null==o?void 0:o.isAdsOnlyProfile,null==o?void 0:o.adsOnlyProfileSite)?null!==(U=o.adsOnlyProfileSite)&&void 0!==U?U:"":`/${null!==(K=null==o?void 0:o.username)&&void 0!==K?K:""}/`,P=`/${null!==(G=y.username)&&void 0!==G?G:""}/`,w=null==o||null===(H=o.verifiedIdentity)||void 0===H?void 0:H.verified,I=null==o?void 0:o.isVerifiedMerchant,T=A(null==o?void 0:o.isAdsOnlyProfile,null==o?void 0:o.adsOnlyProfileSite)}else if(o){var V,W,$,Y,q;v=null!==(V=null!==(W=null!==($=o.imageLargeUrl)&&void 0!==$?$:o.imageMediumUrl)&&void 0!==W?W:o.imageSmallUrl)&&void 0!==V?V:"",b=o.fullName,S=A(o.isAdsOnlyProfile,o.adsOnlyProfileSite)?o.adsOnlyProfileSite:`/${null!==(Y=o.username)&&void 0!==Y?Y:""}/`,w=null===(q=o.verifiedIdentity)||void 0===q?void 0:q.verified,I=o.isVerifiedMerchant,T=A(o.isAdsOnlyProfile,o.adsOnlyProfileSite)}else if("show-for-claimed-content"===e){var X,J,Q,ee,ie;null!=g&&g.isPrimaryWebsiteVerified&&g.username&&(v=null!==(X=null!==(J=null!==(Q=g.imageLargeUrl)&&void 0!==Q?Q:g.imageMediumUrl)&&void 0!==J?J:g.imageSmallUrl)&&void 0!==X?X:"",b=g.fullName,S=A(g.isAdsOnlyProfile,g.adsOnlyProfileSite)?g.adsOnlyProfileSite:`/${null!==(ee=g.username)&&void 0!==ee?ee:""}/`,w=null===(ie=g.verifiedIdentity)||void 0===ie?void 0:ie.verified,I=g.isVerifiedMerchant,T=A(g.isAdsOnlyProfile,g.adsOnlyProfileSite))}else{var te,ne,ae,oe,le;v=null!==(te=null!==(ne=null!==(ae=null==l?void 0:l.imageLargeUrl)&&void 0!==ae?ae:null==l?void 0:l.imageMediumUrl)&&void 0!==ne?ne:null==l?void 0:l.imageSmallUrl)&&void 0!==te?te:"",f=`/${null!==(oe=null==l?void 0:l.username)&&void 0!==oe?oe:""}/`,b=null==l?void 0:l.fullName,S=(null==t?void 0:t.url)||"",w=null==l||null===(le=l.verifiedIdentity)||void 0===le?void 0:le.verified,I=null==l?void 0:l.isVerifiedMerchant}return{avatarUrl:null!==(d=v)&&void 0!==d?d:"",attributionNameLink:null!==(c=f)&&void 0!==c?c:"",attributionTitle:null!==(u=x)&&void 0!==u?u:"",name:null!==(p=b)&&void 0!==p?p:"",sponsorUrl:P,url:null!==(_=S)&&void 0!==_?_:"",verifiedIdentity:!!w,isVerifiedMerchant:!!I,shouldRenderAdsOnlyProfileClick:!!T}}({attributionType:e,pin:n,i18n:t})}var pi=t(925428),_i=t(462887);function mi({attributionType:e,board:i,feedbackData:t,feedbackType:o,hasTextContent:r,hasTitleOrSource:s,hoverTransitionState:d,pin:c,pinNoteText:p,pinTitle:_,productCurrentPrice:m,productOriginalPrice:h,setForcePrimary:g,showCarouselEllipsis:y,showFavoriteButton:v,showGroupBoardAvatar:f,showNativeReactions:b,showOverflowMenu:P,showPinStats:S,showSource:I,showTextContent:T,showAttribution:A,surface:k,titleLines:E}){var C,j,R,D;const F=(0,Q.Z)(),L=(0,a.useDispatch)(),{favorited_by_me:O,favorite_user_count:z,id:N,pinner:M,reaction_counts:B,sponsorship:Z,story_pin_data:U}=c,{has_affiliate_products:K}=U||{},G=ui({attributionType:e,pinKey:{type:"deprecated",data:c}}),{avatarUrl:H,attributionNameLink:V,attributionTitle:W,name:$,sponsorUrl:q,url:X,verifiedIdentity:J,isVerifiedMerchant:ee,shouldRenderAdsOnlyProfileClick:ie}=G,te=!!c.promoter&&!c.is_downstream_promotion,ne=te&&(null===(C=c.native_creator)||void 0===C?void 0:C.id)===(null===(j=c.promoter)||void 0===j?void 0:j.id),ae=(0,x.Z)(101,{view_type:3,element:27,object_id_str:N,component:c.story_pin_data_id?230:void 0,aux_data:{pin_id:N,...null!=Z&&null!==(R=Z.creator)&&void 0!==R&&R.id&&null!==(D=Z.sponsor)&&void 0!==D&&D.id?{creator_id:Z.creator.id,sponsor_id:Z.sponsor.id}:{}}}),oe=e=>L(oe(e)),{full_name:le}=(null==Z?void 0:Z.sponsor)||{},de="ConversationView"===k?{padding:"8px"}:ti.container;return(0,w.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:de},children:[y&&(0,w.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:s||f||"none"!==e?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:(0,w.jsx)(u.Z,{children:(0,w.jsx)(pi.default,{pinId:N})})}),S&&(0,w.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%","data-test-id":"pin-stats-footer",children:(0,w.jsx)(ye,{pin:c})}),(0,w.jsx)(l.kC,{alignItems:"stretch",justifyContent:"start",children:(0,w.jsxs)(l.xu,{flex:"grow",children:[(!!Z||K&&!te)&&!ne&&(0,w.jsx)(l.xu,{marginBottom:1,children:(0,w.jsx)(l.xu,{flex:"grow",overflow:"hidden",children:(0,w.jsx)(_i.Z,{hasAffiliateProducts:K,href:q||X,isPromoted:te,sponsorName:le,sponsorshipStatus:null==Z?void 0:Z.status,onNavigateSponsorClick:()=>{oe(N),ae()},textWeight:"bold"})})}),(T&&r||v)&&(0,w.jsxs)(l.xu,{marginBottom:1,children:[(h||m)&&(0,w.jsx)(l.xu,{marginBottom:1,children:(0,w.jsx)(Y,{pin:c,surface:k,children:(0,w.jsx)(ve.Z,{currentPrice:m,originalPrice:h})})}),v?(0,w.jsxs)(l.kC,{alignItems:"start",children:[(0,w.jsx)(l.kC,{flex:"grow",children:(0,w.jsx)(Ie,{numberOfLines:E,pin:c,pinTitle:_,surface:k})}),(0,w.jsx)(l.xu,{marginStart:3,children:(0,w.jsx)(re,{board:i,favorited:!!O,favoriteCount:null!=i&&i.is_collaborative&&(0,Ue.Z)({board:i,viewer:F})?null!=z?z:0:void 0,pinId:N})})]}):(0,w.jsx)(Ie,{numberOfLines:E,pin:c,pinTitle:_,surface:k}),I&&(0,w.jsx)(l.xu,{marginBottom:2,children:(0,w.jsx)(be,{pin:c,surface:k})})]}),A&&(0,w.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[(0,w.jsx)(l.xu,{flex:"grow",children:(()=>{var i,t;const n=(0,w.jsx)(ei,{attributionNameLink:V,attributionTitle:te&&!Z||ne?W:"",avatarUrl:H,isPromotedByPinCreator:!!ne,isVerifiedMerchant:ee,shouldRenderAdsOnlyProfileClick:ie,name:$,url:X,verifiedIdentity:J,pinId:c.id,storyPinDataId:c.story_pin_data_id,hasPromoter:!!c.promoter,hasSponsorship:!!c.sponsorship,sponsorshipCreatorId:null===(i=c.sponsorship)||void 0===i||null===(t=i.creator)||void 0===t?void 0:t.id,isDownstreamPromotion:c.is_downstream_promotion});switch(e){case"none":return null;case"image-only-credit":return(0,w.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:ti.imageOnlyAttribution["active"===d?"visible":"hidden"]},children:(0,w.jsx)(ri,{pinKey:{type:"deprecated",data:c},trackingParamsMap:c.tracking_params_map,feedbackType:o})});default:return Object.values(G).some((e=>Boolean(e)))?n:null}})()}),P&&(0,w.jsx)(l.xu,{flex:"none",children:(0,w.jsx)(Te.default,{feedbackData:t,feedbackType:o,pinKey:{type:"deprecated",data:c},pinTitle:_,setForcePrimary:g,transparentBackground:!0})})]}),b&&!!B&&Object.keys(B).length>0&&(0,w.jsx)(l.xu,{marginTop:"ConversationView"===k?2:void 0,children:(0,w.jsx)(Ze,{pinId:N,pinner:M,reactionCounts:B,surface:k})}),p&&(0,w.jsx)(l.xu,{marginBottom:1,children:(0,w.jsx)(se,{pin:c,pinNoteText:p})}),f&&!v&&(0,w.jsx)(l.xu,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:(0,w.jsxs)(n.Fragment,{children:[(0,w.jsx)(He,{attributionNameLink:V||X,avatarUrl:H,fullWidth:!1,name:$,accessibilityLabel:$,shouldRenderAdsOnlyProfileClick:ie}),(0,w.jsx)(l.xu,{marginStart:2,flex:"grow",children:(0,w.jsx)(l.xv,{size:"200",children:$})})]})})]})},`${c.id}-sponsor-name-link`)]})}var hi=t(840166);const gi=6,yi=10,vi=18,fi=14;function xi({dimension:e,color:i,isSelected:t,img:n,selectVariant:a}){var o,r,s;const d=(0,c.ZP)(),u=(0,w.jsx)(l.iP,{fullHeight:!0,fullWidth:!0,rounding:1,onMouseEnter:({event:t})=>{t.preventDefault(),t.stopPropagation(),a({dimensionName:e,variant:i})},onFocus:()=>{a({dimensionName:e,variant:i})},children:(0,w.jsx)(l.xu,{"data-test-id":`primary-variant-preview-icon-${i}`,height:vi,width:vi,rounding:1,display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{border:t?"1px solid black":"1px solid #EFEFEF"}},children:(0,w.jsx)(l.xu,{height:fi,width:fi,position:"absolute",rounding:1,overflow:"hidden",children:(0,w.jsx)(l.xu,{"data-test-id":`${i}-variant-preview-wrapper`,dangerouslySetInlineStyle:{__style:{transform:`scale(${yi},${yi})`}},children:(0,w.jsx)(l.zd,{height:fi,width:fi,rounding:1,children:(0,w.jsx)(l.Ee,{alt:d._('Color variant preview image', 'MerchantStorefront.Variant.VariantPreviewIcon.Image', 'Alt text for color variant preview image'),naturalHeight:null!==(o=n.height)&&void 0!==o?o:1,naturalWidth:null!==(r=n.width)&&void 0!==r?r:1,src:null!==(s=n.url)&&void 0!==s?s:"",fit:"contain"})})})})})});return(0,w.jsx)(l.xu,{"data-test-id":`primary-variant-main-${i}`,display:"inlineBlock",height:vi,rounding:1,width:vi,children:u})}function bi(){const{logContextEvent:e}=(0,G.v)(),i=(0,hi.Xx)(),t=i&&i.primaryVariants.filter((e=>e.image)).length>0;if((0,n.useEffect)((()=>{e({event_type:120,component:14092})}),[t,e]),!i)return null;const{primaryVariants:a,primaryDimName:o}=i,r=a.slice(0,gi).map((e=>{const t=e.value,n=e.value===i.selectedMap[o],a=e.image;return a?(0,w.jsx)(xi,{dimension:o,color:t,isSelected:n,img:a,selectVariant:i.selectVariant},t):null})).filter(Boolean);if(a.length>gi){const e=a.length-gi;r.push((0,w.jsx)(l.xu,{"data-test-id":"plus-number",display:"flex",height:vi,rounding:1,width:vi,justifyContent:"center",children:(0,w.jsxs)(l.iP,{fullHeight:!0,fullWidth:!0,rounding:1,onTap:({event:e})=>{e.stopPropagation()},children:["+",e]})},gi))}return(0,w.jsx)(l.kC,{justifyContent:"start",alignItems:"center",gap:3,children:r})}var Pi=t(139488),Si=t(28630);function wi(){const e=(0,c.ZP)();return(0,w.jsx)(l.xv,{color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e._('Sold out', 'pinrep.footer.outOfStock', 'Footer text to indicate that product pin is out of stock.')})}function Ii(){const e=(0,c.ZP)();return(0,w.jsx)(l.xv,{color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e._('See price on site', 'pinrep.footer.staleProduct', 'Footer text to indicate that is a stale(untrustworthy) product pin.')})}function Ti({contentType:e,hasTextContent:i,pin:t,pinTitle:a,productCurrentPrice:o,productOriginalPrice:r,productRating:s,productShipping:d,showSource:u,showVisitSiteButton:p,surface:_,titleLines:m}){var h;const{logContextEvent:g}=(0,G.v)(),y=(0,c.ZP)(),{checkExperiment:v}=(0,M.F)(),f=(null===(h=t.rich_summary)||void 0===h?void 0:h.url)||t.link;let x=null;if((0,hi.Xx)()){const{anyEnabled:e}=v("storefront_variant_pins");e&&(x=(0,w.jsx)(bi,{}))}const b=(0,Si.Z)({url:f})?"nofollow":"none";return(0,w.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:ti.productContainer},height:"100%",children:(0,w.jsx)(l.kC,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:i&&(0,w.jsxs)(n.Fragment,{children:[(0,w.jsx)(Y,{pin:t,surface:_,children:(0,w.jsxs)(l.kC,{direction:"column",gap:1,children:[(r||o)&&(0,w.jsx)(ve.Z,{currentPrice:o,originalPrice:r}),t.is_oos_product&&(0,w.jsx)(wi,{}),t.is_stale_product&&(0,w.jsx)(Ii,{}),(0,w.jsx)(Ie,{disableLink:!0,numberOfLines:m,pin:t,pinTitle:a,surface:_}),u&&(0,w.jsx)(be,{disableLink:!0,pin:t,surface:_}),"shopping"===e&&(s||Number.isFinite(null==d?void 0:d.freeShippingValue))&&(0,w.jsx)(Pi.Z,{count:null==s?void 0:s.count,countFormat:"number",isGridView:!0,ratingValue:null==s?void 0:s.rating,shippingInfo:d}),x]})}),p&&f?(0,w.jsx)(l.xu,{marginTop:2,children:(0,w.jsx)(l.ZP,{fullWidth:!0,href:f,rel:b,onClick:()=>{g({event_type:12,view_type:1,view_parameter:3563})},target:"blank",text:y._('Visit site', 'ShoppingList.Pin.CTA.Button.VisitSite.Text', 'Text on CTA button on ShoppingList Pin to Visit Site')})}):null]})})})}const Ai=(0,n.memo)((function({attributionType:e,blockClickEvents:i,board:t,contentType:n,feedbackData:a,feedbackType:o,hoverTransitionState:r,pin:s,pinNoteText:d,pinTitle:c,productCurrentPrice:p,productOriginalPrice:_,productRating:m,productShipping:h,setForcePrimary:g,showCarouselEllipsis:y,showFavoriteButton:v,showGroupBoardAvatar:f,showNativeReactions:x,showOverflowMenu:b,showPinStats:P,showSource:S,showTextContent:I,showVisitSiteButton:T,showAttribution:A=!0,surface:k,titleLines:E}){const C=c||S,j="shopping"===n?(0,w.jsx)(Ti,{contentType:n,hasTextContent:!!C,pin:s,pinTitle:c,productCurrentPrice:p,productOriginalPrice:_,productRating:m,productShipping:h,showSource:S,showVisitSiteButton:T,surface:k,titleLines:E}):(0,w.jsx)(mi,{attributionType:e,board:t,feedbackData:a,feedbackType:o,hasTextContent:!!C,hasTitleOrSource:!!C,hoverTransitionState:r,pin:s,pinNoteText:d,pinTitle:c,productCurrentPrice:p,productOriginalPrice:_,setForcePrimary:g,showCarouselEllipsis:y,showFavoriteButton:v,showGroupBoardAvatar:f,showNativeReactions:x,showOverflowMenu:b,showPinStats:P,showSource:S,showTextContent:I,showAttribution:A,surface:k,titleLines:E});return i?(0,w.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:j}):(0,w.jsx)(l.kC,{flex:"grow",children:(0,w.jsx)(u.Z,{fullWidth:!0,children:j})})}));var ki=t(819079),Ei=t(87663),Ci=t(449879);const ji=(0,n.lazy)((()=>t.e(34979).then(t.bind(t,447522)))),Ri=(0,n.lazy)((()=>Promise.all([t.e(97270),t.e(23071),t.e(14734),t.e(30982),t.e(43473)]).then(t.bind(t,563171)))),Di=(0,n.lazy)((()=>Promise.all([t.e(97270),t.e(23071),t.e(14734),t.e(30982),t.e(22347)]).then(t.bind(t,538137)))),Fi=(0,n.lazy)((()=>Promise.all([t.e(97270),t.e(69512),t.e(22538)]).then(t.bind(t,587540)))),Li=(0,n.lazy)((()=>t.e(1593).then(t.bind(t,266744))));function Oi({derivedSaveButtonOptions:e,forcePrimaryContent:i,showEnabledSaveBehavior:t,onToggleFlyout:o,onToggleModal:r,pin:s}){const c=(0,hi.Xx)(),p=function(e){return(0,ki.Z)(e?{name:"PinResource",options:{id:e}}:null)}(null==c?void 0:c.variantUrl),m=p&&p.data?p.data:s,{id:h,savedInfo:g}=m,y=(0,n.useRef)(!!g),v=(0,a.useSelector)((({experiences:e})=>{const i=e[1000294];return 502450===(null==i?void 0:i.experience_id)?i:null})),{saveBehaviorType:f}=(0,Ci.tY)(t);void 0!==f&&["classic","controlled","inline"].includes(e.type)&&(e=f);const{viewParameter:P}=(0,b.E)(),S=(0,x.Z)(101,{element:0,object_id_str:h});let I=null;if(!e.hidePinBetterSaveDropdown&&(v||t&&["classic","controlled"].includes(e.type))&&["classic","controlled","inline"].includes(e.type)){const{renderPinSaveTooltip:n}=e;I=(0,w.jsx)(d.Z,{name:"SafeSuspense_PinRepPrimaryContent_QuickSaveButton",children:(0,w.jsx)(_.Z,{children:(0,w.jsx)(u.Z,{children:(0,w.jsx)(Fi,{experience:v||void 0,forcePrimaryContent:i,pin:m,renderPinSaveTooltip:n,showEnabledSaveBehavior:t,viewParameter:P})})})})}else if("classic"===e.type||"controlled"===e.type){const{renderPinSaveTooltip:i}=e;I=(0,w.jsx)(d.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinSaveButton",children:(0,w.jsx)(_.Z,{children:(0,w.jsx)(l.xu,{"data-test-id":"pin-save-button",maxWidth:"100%",children:(0,w.jsx)(u.Z,{children:(0,w.jsx)(Ri,{onClickCallback:S,onToggleModal:r,oneTapSave:"controlled"===e.type?e:void 0,pin:m,renderPinSaveTooltip:i,renderSavedStatus:()=>!!g&&(0,w.jsx)(u.Z,{children:(0,w.jsx)(Ei.Z,{isNewlySaved:!y.current,name:g.title,type:g.type,url:g.url})}),variant:"lego",viewParameter:P})})})})})}else if("inline"===e.type){const i=m,{initialSelection:t,onSave:n,renderPinSaveTooltip:a,hidePinBetterSaveDropdown:s}=e;I=(0,w.jsx)(d.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinBetterSave",children:(0,w.jsx)(_.Z,{children:(0,w.jsx)(l.xu,{"data-test-id":"better-save",children:(0,w.jsx)(u.Z,{children:(0,w.jsx)(Di,{initialSelection:t,onSave:n,onToggleFlyout:o,onToggleModal:r,pin:i,renderPinSaveTooltip:a,renderSavedStatus:({savedInfo:e})=>e&&(0,w.jsx)(u.Z,{children:(0,w.jsx)(Ei.Z,{isNewlySaved:!y.current,name:e.title,type:e.type,url:e.url,shouldUseLegoStyles:!0})}),variant:"pin",viewParameter:P,hideDropdown:s})})})})})}else"persistentOneClickSave"===e.type?I=(0,w.jsx)(d.Z,{name:"SafeSuspense_PinRepPrimaryContent_PersistentOneClickSave",children:(0,w.jsx)(_.Z,{children:(0,w.jsx)(l.xu,{"data-test-id":"persistent-one-click-save",children:(0,w.jsx)(u.Z,{children:(0,w.jsx)(ji,{saveOptions:e})})})})}):"promote"===e.type&&(I=(0,w.jsx)(l.kC,{alignItems:"stretch",justifyContent:"end",children:(0,w.jsx)(d.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinPromoteButton",children:(0,w.jsx)(_.Z,{children:(0,w.jsx)(l.xu,{"data-test-id":"pin-promote-button",children:(0,w.jsx)(u.Z,{children:(0,w.jsx)(Li,{pin:m})})})})})}));return(0,w.jsx)(d.Z,{name:"PinRepPrimaryContent",children:(0,w.jsx)(l.xu,{display:"flex",margin:3,children:I&&(0,w.jsx)(l.xu,{marginStart:"auto",flex:"grow",children:I})})})}const zi={marginTop:"1px"},Ni=32,Mi=12;function Bi({cta:e}){const i=(0,c.ZP)();return(0,w.jsx)(l.iP,{children:(0,w.jsx)(l.xu,{"data-test-id":"pinrep-chin",minHeight:Ni,color:"secondary",dangerouslySetInlineStyle:{__style:zi},children:(0,w.jsxs)(l.xu,{padding:2,display:"flex",justifyContent:"between",children:[(0,w.jsx)(l.xv,{size:"200",weight:"bold",children:e||i._('Learn more', '[m10n] pinRep.chin.learnMore', 'Closeup for learn more chin')}),(0,w.jsx)(l.JO,{icon:"arrow-forward",size:Mi,accessibilityLabel:i._('Go to lead ad', '[m10n] pinRep.chin.arrowForwardIcon', 'Arrow forward icon for chin'),color:"default"})]})})})}var Zi=t(424271),Ui=t(335700),Ki=t(479958),Gi=t(740089);const Hi={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function Vi({isSelected:e}){const i=(0,c.ZP)();return(0,w.jsx)(l.xu,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:e?Hi:{},children:(0,w.jsx)(l.xu,{position:"absolute",bottom:!0,right:!0,padding:3,children:(0,w.jsx)(l.xu,{alignItems:"center",color:e?"dark":"default",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:(0,w.jsx)(l.JO,{accessibilityLabel:i._('Pin is selected to be saved', 'SectionSuggestionPin.iconOnPin.selectedPin', 'accessibility label on an icon'),color:"inverse",icon:"check",size:12})})})})}var Wi=t(40660);const $i={},Yi=e=>{Wi.Z.increment("web_prefetch_via_xhr.attempt",1);const i=(0,P.Z)(e);return new Promise(((t,n)=>{if(window.navigator&&window.navigator.connection){const{connection:e}=window.navigator;e.saveData&&(Wi.Z.increment("web_prefetch_via_xhr.saveDataOn",1),t()),/2g/.test(e.effectiveType)&&(Wi.Z.increment("web_prefetch_via_xhr.poorConnection",1),t())}const a=new XMLHttpRequest;a.open("GET",e),a.onload=()=>{200===a.status?($i[e]&&($i[e].loaded=!0),Wi.Z.increment("web_prefetch_via_xhr.load.success",1,{hostname:i.hostname||"unknown"}),t(a.response)):(Wi.Z.increment("web_prefetch_via_xhr.load.error",1,{hostname:i.hostname||"unknown"}),n())},$i[e]||(a.send(),$i[e]={added:!0,xhr:a},Wi.Z.increment("web_prefetch_via_xhr.xhrSent",1,{hostname:i.hostname||"unknown"}))}))},qi=e=>{$i[e]&&$i[e].xhr&&!$i[e].loaded&&(Wi.Z.increment("web_prefetch_abort_xhr",1),$i[e].xhr.abort(),$i[e].aborted=!0)};var Xi=t(634923),Ji=t(714557);const Qi={},et=(e,i)=>{const t="string"==typeof e?e:e.url;if(i&&t){const e="control"===i?"v3.pinimg.com":"v2.pinimg.com";return t.replace("v1.pinimg.com",e)}return t};function it(e,i){return(et("https://v1.pinimg.com/videos/mc/hls/",i)||"")+`${e.slice(0,2)}/${e.slice(2,4)}/${e.slice(4,6)}/${e}`}var tt=t(99841);const nt=55,at=420,ot=236,lt=250,rt=164;const st=e=>"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width};function dt({autoplaySettingOff:e,blockClickEvents:i,fallbackColor:t,imageFit:a,imageHeightModifier:o,isDenseView:r,isHovering:s,onError:d,onLoad:c,pin:u,pinImageCrop:p,resolution:_="default",rootMargin:m,selectionState:h,showCarousel:y,showPromotedVideos:v,showLeadPinStdBeta:f,showUnavailablePin:x,surface:P}){var S;const{contextLogData:I,slotIndex:T,viewParameter:A,viewType:k}=(0,b.E)(),{checkExperiment:E}=(0,M.F)(),{group:C}=E("web_prefetch_video_in_feed"),{id:j="",aggregated_pin_data:R,image_signature:D,story_pin_data:F}=u,{pin_tags_chips:L}=R||{},O=!!u.is_eligible_for_web_closeup,z=!(null===(S=u.videos)||void 0===S||!S.video_list),N=!!u.promoter&&!u.is_downstream_promotion,{cropHeight:B,cropWidth:Z}=st(p);let U=null;if(x)U=(0,w.jsx)(Ki.Z,{isDenseView:r,height:r?lt:at,rounding:0,width:r?rt:ot});else if(e||!z||!v&&N||"BoardCoverSelectablePin"===P)if(y)U=(0,w.jsx)(l.xu,{"data-test-id":"pinrep-carousel",children:(0,w.jsx)(tt.Z,{cropHeight:B,cropWidth:Z,onError:d,onLoad:c,highResOnly:"high-res"===_,lowResOnly:"low-res"===_,pinId:j,showCarouselBadge:!1,pin:u})});else{const e="backend"===p?function({images:e,image_crop:i}){var t;const n=e&&(null===(t=e["236x"])||void 0===t?void 0:t.height);if(i&&(0!==i.min_y||1!==i.max_y)){const{min_y:e=0,max_y:t=0}=i;return{marginTop:(e>0?-1*e*(null!=n?n:0):0)+"px",marginBottom:`${t<1?Math.round(-1*(1-t)*(null!=n?n:0)):0}px`}}return{}}(u):{};U=(0,w.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:e},"data-test-id":"pinrep-image",minHeight:nt,children:[(0,w.jsx)(Zi.Z,{cropHeight:B,cropWidth:Z,fallbackColor:t,imageFit:a,highResOnly:"high-res"===_,lowResOnly:"low-res"===_,mediumResOnly:"medium-res"===_,onLoad:c,onError:d,pin:u}),f&&(0,w.jsx)(Bi,{cta:u.call_to_action_text})]})}else U=(0,w.jsxs)(l.xu,{"data-test-id":"pinrep-video",direction:"column",display:"flex",height:B||void 0,justifyContent:"center",children:[(0,w.jsx)(Ui.Z,{cropHeight:B,cropWidth:Z,highResOnly:"high-res"===_,imageHeightModifier:o,inAdsDesktopVideoExperiment:z&&v,isExperimentalPinRep:!0,lowResOnly:"low-res"===_,onError:d,onLoad:c,pin:u,rootMargin:m,surface:P,viewParameter:A,viewType:k}),f&&(0,w.jsx)(Bi,{cta:u.call_to_action_text})]});const K=(0,w.jsx)(l.zd,{wash:!0,children:(0,w.jsx)(g.Z,{hovered:s,pinKey:{type:"deprecated",data:u},slotIndex:T,trackingParamsMap:u.tracking_params_map,viewType:1,children:U})}),G=["selected-image-only","deselected-image-only"].includes(h),H="selected-image-only"===h,V=(0,n.useRef)(!0),W=(0,n.useRef)(!1),$=(0,n.useRef)(!1),q=E("web_video_quic").group;if((0,n.useEffect)((()=>{var e,t;V.current||!s||O||i||W.current?s||!W.current||$.current||((t=(null==F?void 0:F.id)||u.id)&&Qi[t]&&Qi[t].length>0&&Qi[t].forEach((e=>{qi(e)})),$.current=!0):F?(!function(e,i){var t;const{id:n,pages:a,pages_preview:o}=e;if(!o&&!a)return;const l=o?o[0]:null==a?void 0:a[0],r=null==l||null===(t=l.blocks)||void 0===t?void 0:t.find((e=>3===e.block_type));if(r&&r.video){const{hlsv3:e,mp4:t}=(0,Xi.Z)(r.video)||{},a=t||e;if(a&&n){var s;const e=null!==(s=et(a,i))&&void 0!==s?s:"";Qi[n]=Qi[n]?Qi[n].concat(e):[e],Yi(e)}}}(F,q),W.current=!0):(null!==(e=u.videos)&&void 0!==e&&e.video_list&&function({pinId:e,videosId:i,videoList:t,quicExpGroup:n}){var a;const{vHLS3Mobile:o,vHLSV4:l,...r}=t,s=e&&i&&(null===(a=[o,l].find((e=>e&&e.thumbnail&&e.url&&!!e.width&&!!e.height)))||void 0===a?void 0:a.url);if(s){var d;const i=null!==(d=et(s,n))&&void 0!==d?d:"";return Qi[e]=Qi[e]?Qi[e].concat(i):[i],void Yi(i).then((i=>{let t=[];if("string"==typeof i&&(t=i.split("\n").filter((e=>e.endsWith(".m3u8")))),t&&t[Ji.V]){const i=it(t[Ji.V],n);return Qi[e]=Qi[e].concat(i),Yi(null!=i?i:"")}return null})).then((i=>{let t=[];if("string"==typeof i&&(t=i.split("\n").filter((e=>e.endsWith(".ts")))),t&&t[0]){const i=it(t[0],n);return Qi[e]=Qi[e].concat(i),Yi(null!=i?i:"")}return null}))}const c=(0,Xi.t)(r);if(null!=c&&c.url){var u;const i=null!==(u=et(c.url,n))&&void 0!==u?u:"";Yi(i),Qi[e]=Qi[e]?Qi[e].concat(i):[i]}}({pinId:u.id,videosId:u.videos.id,videoList:{vExp3:u.videos.video_list.V_EXP3,vExp4:u.videos.video_list.V_EXP4,vExp5:u.videos.video_list.V_EXP5,vExp6:u.videos.video_list.V_EXP6,vExp7:u.videos.video_list.V_EXP7,v720p:u.videos.video_list.V_720P,vHLS3Mobile:u.videos.video_list.V_HLSV3_MOBILE,vHLSV4:u.videos.video_list.V_HLSV4},quicExpGroup:q}),W.current=!0);V.current=!1}),[i,s,O,F,u,C,q]),i)return(0,w.jsxs)(n.Fragment,{children:[K,G&&(0,w.jsx)(Vi,{isSelected:H}),L&&(0,w.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,w.jsx)(Gi.Z,{pinKey:{type:"deprecated",data:u},trackingParamsMap:u.tracking_params_map,enableCloseupLink:!0})})]});const{commerce_data:X,story_type:J,board_id:Q,board_pin_count:ee}=I||{};return(0,w.jsxs)(Y,{contextLogData:{commerce_data:X,grid_index:T,image_signature:D,story_type:J,board_id:Q,board_pin_count:ee},elementType:F?12372:35,pin:u,surface:P,children:[K,L&&(0,w.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,w.jsx)(Gi.Z,{pinKey:{type:"deprecated",data:u},trackingParamsMap:u.tracking_params_map,enableCloseupLink:!1})})]})}var ct=t(194480),ut=t(572559),pt=t(55193),_t=t(533451);function mt({direction:e,swipeHandler:i}){const t=(0,c.ZP)(),n={left:t._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image'),right:t._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image')};return(0,w.jsx)(l.xu,{position:"absolute",bottom:!0,top:!0,left:"left"===e,right:"right"===e,children:(0,w.jsx)(l.iP,{fullHeight:!0,fullWidth:!0,onTap:i,children:(0,w.jsx)(l.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":`carousel-slider-${e}`,children:(0,w.jsx)(l.JO,{accessibilityLabel:n[e],color:"inverse",icon:{left:"arrow-back",right:"arrow-forward"}[e]})})})})}function ht({pin:e}){var i,t;const n=(0,pt.Z)({type:"deprecated",data:e}),{componentType:o,viewParameter:r,viewType:s}=(0,b.E)(),d=(0,a.useDispatch)(),c=(0,ut.Z)({carouselData:e.carousel_data,images:e.images,product:null===(i=e.rich_metadata||e.rich_summary)||void 0===i||null===(t=i.products)||void 0===t?void 0:t[0]});if(!c)return null;const{id:p=""}=e,{carousel_slots:_=[],index:m=0,id:h}=c;function g(e){return()=>{const i="left"===e?m-1:m+1;((e,i)=>{d((0,_t.yR)(e,i))})(p,i),n({pinId:p,currentIndex:null!=m?m:0,nextIndex:i,carouselData:{carouselSlots:_.map((({id:e})=>({id:e}))),entityId:null!=h?h:""},viewParameter:r,viewType:s,componentType:o})}}return(0,w.jsxs)(l.xu,{height:"100%",position:"relative",width:"100%",children:[m>0&&(0,w.jsx)(u.Z,{children:(0,w.jsx)(mt,{direction:"left",swipeHandler:g("left")})}),m<_.length-1&&(0,w.jsx)(u.Z,{children:(0,w.jsx)(mt,{direction:"right",swipeHandler:g("right")})})]})}function gt(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function yt(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}var vt=t(911386);const ft={impressed:{backgroundColor:"#adebad"}},xt=()=>void 0!==(0,vt.Z)().debug_impression_log;function bt({debugImpressionState:e="paused",slotIndex:i}){return"paused"===e?null:(0,w.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:ft.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:(0,w.jsx)(l.xu,{position:"absolute",top:!0,left:!0,padding:2,color:"selected",children:(0,w.jsx)(l.xv,{color:"inverse",children:(0,w.jsx)("span",{className:"deprecatedTextSizeXL",children:i})})})})}var Pt=t(520333),St=t(126645);const wt=["CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid"],It=14,Tt=12,At={allPins:{component:210,view_type:4,view_parameter:3106},board:{view_type:5,view_parameter:3069},created:{component:13668,view_type:4,view_parameter:3106}};function kt({pinId:e,surface:i}){const{logContextEvent:t}=(0,G.v)(),n=(0,c.ZP)(),a=()=>{const e=wt.includes(i)?At.created:"BaseBoardPinGrid"===i?At.board:"UserProfilePinGrid"===i?At.allPins:{};t({event_type:101,element:10573,...e})},o=n._('See more stats', 'pinRep.actionBar.seeStatsButton', 'Button that will re-direct user to detailed stats page');return(0,w.jsx)(l.xu,{"data-test-id":"see-stats-button",paddingX:3,paddingY:3,children:wt.includes(i)?(0,w.jsx)(l.ZP,{accessibilityLabel:n._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This button will take the user to their detailed pin stats page for the pin'),color:"semiTransparentWhite",fullWidth:!0,href:`/pin/${e}/analytics`,onClick:a,size:"sm",text:(r=o,r.length>It?`${r.substring(0,Tt).trim()}...`:r)}):(0,w.jsx)(l.I_,{accessibilityLabel:n._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This icon button will take the user to their detailed pin stats page for the pin'),bgColor:"white",href:`/pin/${e}/analytics`,icon:"ads-stats",iconColor:"darkGray",onClick:a,size:"sm"})});var r}var Et=t(272270),Ct=t(176172),jt=t(946543),Rt=t(299402);const Dt={SELECTED:"#000000",NOT_SELECTED:"#ffffff"},Ft=3,Lt=24;function Ot({selected:e=!1}){const i=(0,c.ZP)(),{isRTL:t}=(0,p.B)();return(0,w.jsx)(l.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:new l.Ry(1),"data-test-id":"pinRepSelectionBorder",dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?Dt.SELECTED:Dt.NOT_SELECTED,borderRadius:Ct.Oc,boxShadow:e?"inset 0 0 0 3px #fff":void 0}},children:e?(0,w.jsx)(l.xu,{position:"absolute",bottom:!0,right:!t,left:t,display:"flex",alignItems:"center",justifyContent:"center",margin:Ft,rounding:2,height:Lt,width:Lt,color:"dark",children:(0,w.jsx)(l.JO,{accessibilityLabel:i._('Check icon', 'pinRepSelectionBorder.checkIcon', 'Accessibility label for check icon on selected Pin'),icon:"check",color:"inverse",size:12})}):(0,w.jsx)(l.xu,{right:!t,left:t,position:"absolute",top:!0,margin:Ft,children:(0,w.jsx)(l.JO,{accessibilityLabel:i._('Handle icon', 'pinRepSelectionBorder.handleIcon', 'Accessibility label for handle icon on an organizable Pin'),icon:"handle",color:"light",size:Lt})})})}const zt={wrapper:{borderRadius:Ct.Oc,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:Ct.Dv.VISUAL},savedOverlay:{backgroundColor:Ct.Dv.SAVED},legoWashOverlay:{backgroundColor:Ct.Dv.LEGO_WASH}};function Nt({children:e,savedOverlayVisibility:i="none",visualOverlayVisibility:t="none",handleMouseOverPinContent:n,handleMouseLeavePinContent:a,primaryContent:o,primaryContentVisibility:r="none",secondaryContent:s,secondaryContentVisibility:d="none",accessoryContent:c,accessoryContentVisibility:u="none",actionBar:p,actionBarVisibility:_="none",seeStatsButton:m,footer:h,selectionState:g="no-selection",debugContent:y,signalDebuggerContent:v,signalDebuggerV2Content:f,signalDebuggerV2ContentVisibility:x="none",obscuredPinOverlay:b,showNoPinBorderRadius:P,showPromotedPinBorderTreatment:S,showLeadPinStdBeta:I,shouldUseLegoWash:T}){return(0,w.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:S?zt.promotedPinBorderTreatment:{}},height:"100%","data-test-id":"pinRepPresentation",children:(0,w.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:P?{}:zt.wrapper},"data-test-id":"pinWrapper",display:"flex",direction:"column",height:"100%",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(g)&&(0,w.jsx)(Ot,{selected:"selected"===g}),(0,w.jsxs)(l.xu,{"aria-hidden":Boolean(b),children:[(0,w.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:P?{}:zt.wrapper},overflow:"hidden",position:"relative",onFocus:n,onBlur:a,onMouseEnter:n,onMouseLeave:a,children:[e,(0,w.jsx)(Rt.Z,{visibility:t,children:(0,w.jsx)(jt.Z,{additionalStyles:T?zt.legoWashOverlay:zt.visualOverlay})}),(0,w.jsx)(Rt.Z,{visibility:i,children:(0,w.jsx)(jt.Z,{additionalStyles:T?zt.legoWashOverlay:zt.savedOverlay})}),c&&(0,w.jsx)(Rt.Z,{visibility:u,children:(0,w.jsx)(jt.Z,{children:c})}),s&&(0,w.jsx)(Rt.Z,{visibility:d,children:(0,w.jsx)(jt.Z,{children:s})}),o&&(0,w.jsx)(Rt.Z,{visibility:r,children:(0,w.jsx)(jt.Z,{children:o})}),f&&(0,w.jsx)(Rt.Z,{visibility:x,children:(0,w.jsx)(jt.Z,{children:(0,w.jsx)(l.xu,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:f})})}),p&&(0,w.jsx)(Rt.Z,{visibility:_,children:(0,w.jsx)(jt.Z,{children:(0,w.jsx)(l.xu,{position:"absolute",left:!0,right:!0,bottom:!0,marginBottom:I?8:0,children:p})})}),m&&(0,w.jsx)(jt.Z,{children:(0,w.jsx)(l.xu,{position:"absolute",bottom:!0,children:m})}),y&&(0,w.jsx)(jt.Z,{children:y}),v]}),h]}),b&&(0,w.jsx)(l.xu,{children:b})]})})}const Mt=60,Bt=40,Zt=60;function Ut(e){return e<Mt+Bt+Zt?"header-only":"none"}function Kt(e){const[i,t]=(0,n.useState)(e.current?Ut(e.current.clientHeight||0):"none");return function(e,i){const t=(0,n.useRef)();(0,n.useEffect)((()=>{const n=e.current;if(!n)return;const a=t.current;a&&a.width===n.offsetWidth&&a.height===n.offsetHeight||(t.current={width:n.offsetWidth||0,height:n.offsetHeight||0},i&&i(t.current))})),t.current}(e,(({height:e})=>{const n=Ut(e);n!==i&&t(n)})),i}const Gt=4e3;var Ht=t(795142);const Vt=(0,n.memo)((function({actionBarProps:e,blockClickEvents:i,borderStyle:t,currentlyPlayingVideo:a,disableHover:o=!1,footerProps:r,impressionsDebuggerProps:s,obscuredPinOverlayProps:c,onError:_,onLoad:m,pin:h,pinVisualProps:g,presentationProps:y,primaryContentProps:v,rounding:f,secondaryContentProps:x,authDesktopSelectionState:b,showFooter:P,showImpressionsDebugger:S,showObscuredPinOverlay:I,showSeeStatsButton:T,showSignalDebugger:A,showUnavailablePin:k,surface:E,visibilityOverrides:C,imageHeightModifier:j}){var R,D,F;const{savedInfo:O}=h,{showEnabledSaveBehavior:z}=(0,Ci.Yh)(Ht.ZF.includes(E)||(0,Et.Z)(E)),[N,M]=(0,n.useState)(!1),B=(0,ii.Z)(N);let{isHovering:Z,hoverTransitionState:U,handleMouseOver:K,handleMouseLeave:G}=function(){const[e,i]=(0,n.useState)(!1);return{isHovering:e,hoverTransitionState:(0,ii.Z)(e,0,ii.X),handleMouseOver:(0,n.useCallback)((()=>i(!0)),[i]),handleMouseLeave:(0,n.useCallback)((()=>i(!1)),[i])}}();o&&(Z=!1,U="inactive");const H=(0,ii.Z)(!!O),V=gt(H),W=gt(U),$=gt(U),Y=gt(B),q=gt(H),X=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(E),J="visible"!==V||X?V:"none",Q={primaryContentVisibility:null!==(R=C.primaryContent)&&void 0!==R?R:yt($,Y,"visible"===q?"none":q),secondaryContentVisibility:(ee=yt($,Y,q),"none"===ee?"visible":"visible"===ee?"none":"hidden"),actionBarVisibility:yt($,Y),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"};var ee;const ie=e=>M(e),te=e=>M(e),ne=e=>{M(e),e||G()};let ae=null;"none"!==Q.primaryContentVisibility&&(ae=(0,w.jsx)(Oi,{forcePrimaryContent:ie,showEnabledSaveBehavior:z,onToggleFlyout:te,onToggleModal:ne,pin:h,...v}));let oe=null;const le=(0,n.useRef)(!0),re=le.current;le.current=!1;const se=function(e,i,t){const[a,o]=(0,n.useState)(!e||t),l=(0,n.useRef)(i),r=(0,n.useRef)(null);if(e){const e=l.current;l.current=i,(i!==e||t)&&(r.current&&clearTimeout(r.current),o(!0),r.current=setTimeout((()=>{o(!1),r.current=null}),Gt))}return(0,n.useEffect)((()=>()=>{r.current&&clearTimeout(r.current)}),[]),a}(!!h.carousel_data,null===(D=h.carousel_data)||void 0===D?void 0:D.index,re),de=gt((0,ii.Z)(se));Q.secondaryContentVisibility=null!==(F=C.secondaryContent)&&void 0!==F?F:function(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}(Q.secondaryContentVisibility,de),oe=(x.allowShoppingPriceIndicator||x.shoppingLabelColor||"none"!==Q.secondaryContentVisibility)&&!a&&(0,w.jsx)(l.xu,{margin:2,children:(0,w.jsx)(ct.Z,{pin:h,...x})});let ce=null;"visible"===C.accessoryContent&&(ce=(0,w.jsx)(ht,{pin:h}),Q.accessoryContentVisibility=gt(U));let ue={...e},pe=null;T&&(ue={...ue,showSourceLinkButton:!1},pe=(0,w.jsx)(u.Z,{children:(0,w.jsx)(kt,{pinId:h.id,surface:E})})),g.showLeadPinStdBeta&&(ue={...ue,showSourceLinkButton:!1});const _e="visible"===C.actionBar?(0,w.jsx)(L,{onToggleFlyout:te,pin:h,setForcePrimary:M,surface:E,...ue}):null,{experimentsClient:me}=(0,p.B)();let he=null;(P||(0,Et.Z)(E)&&!me.checkExperiment("dweb_image_only_product_pin_grid").anyEnabled&&!me.checkExperiment("dweb_image_only_product_pin_grid_new_user").anyEnabled)&&(he=(0,w.jsx)(Ai,{blockClickEvents:i,hoverTransitionState:"image-only-credit"===r.attributionType?U:null,pin:h,setForcePrimary:M,surface:E,...r}));const ge=S&&(0,w.jsx)(bt,{...s}),ye=A&&h.debug_info_html&&(0,w.jsx)(l.xu,{paddingY:1,children:(0,w.jsx)("pre",{children:h.debug_info_html})}),ve=(0,w.jsx)(Pt.Z,{pin:h}),fe=(0,n.useRef)();"header-only"===Kt(fe)&&(Q.actionBarVisibility="none",Q.accessoryContentVisibility="none");const xe=I?(0,w.jsx)(St.ZP,{pin:h,...c}):null,be="ShoppingGridShippedMetadataWithVisitButton"===E?{height:"100%"}:{},Pe=P&&"default"===r.attributionType&&Ht.ZF.includes(E),Se=!h.is_promoted&&!o&&Pe;return(0,w.jsx)(d.Z,{name:"PinRepContainer",children:(0,w.jsx)(l.xu,{"data-test-id":"pin","data-test-pin-id":h.id,onFocus:K,onBlur:G,onMouseEnter:K,onMouseLeave:G,dangerouslySetInlineStyle:{__style:be},rounding:"ConversationView"===E?f:void 0,borderStyle:"ConversationView"===E?t:"none",overflow:"ConversationView"===E?"hidden":"visible",children:(0,w.jsx)(Nt,{visualOverlayVisibility:W,savedOverlayVisibility:J,handleMouseOverPinContent:Se?K:()=>{},handleMouseLeavePinContent:Se?G:()=>{},primaryContent:ae,primaryContentVisibility:Q.primaryContentVisibility,secondaryContent:oe,secondaryContentVisibility:Q.secondaryContentVisibility,accessoryContent:ce,accessoryContentVisibility:Q.accessoryContentVisibility,actionBar:_e,actionBarVisibility:Q.actionBarVisibility,seeStatsButton:pe,footer:he,selectionState:b,debugContent:ge,signalDebuggerV2Content:ve,signalDebuggerV2ContentVisibility:Q.signalDebuggerV2ContentVisibility,signalDebuggerContent:ye,obscuredPinOverlay:xe,...y,children:(0,w.jsx)(l.xu,{height:"100%",ref:fe,children:(0,w.jsx)(dt,{blockClickEvents:i,showUnavailablePin:k,isHovering:Z,onError:_,onLoad:m,pin:h,surface:E,selectionState:b,imageHeightModifier:j,...g})})})})})}));var Wt=t(650414),$t=t(525571),Yt=t(5342),qt=t(988014),Xt=t(427370),Jt=t(997394),Qt=t(329689),en=t(384722),tn=t(886365),nn=t(55350);function an({isGroupBoard:e,surface:i,gridTitle:t,hasRichSummary:n,hasCarouselData:a,richSummaryTypeName:o,richSummaryDisplayName:l,title:r,hasPromoter:s,isDownstreamPromotion:d,pinAccess:c,carouselSlotsTitle:u}){const p=!(null==c||!c.includes("write")),_=s&&!d;if(a&&u)return u.trim();if(_){if(Ht.ZF.includes(i))return t||"";if(p&&!e&&!a&&"UserProfilePinGrid"!==i)return"";return r||n&&"mobile application"!==o&&l||t||""}return t||""}const on=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"],ln=({surface:e,isORBACProfileManager:i,isORBACGA:t,isRemovable:n})=>"CloseupRelatedProducts"!==e&&!n&&(!i||(null==t||t));const rn=424,sn=278,dn=640,cn=508;var un=t(963375),pn=t(860438),_n=t(736567),mn=t(619277);const hn=["ShoppingCatalogsProductsMetadata"];const gn=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin"],yn=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin","ShoppingCatalogsProductsMetadata"];var vn=t(341027);const fn=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"];var xn;const bn=void 0!==xn?xn:xn=t(403494),Pn=e=>{var i,t,n;return{access:e.access&&e.access.map((e=>e)),aggregatedPinData:e.aggregated_pin_data&&{creatorAnalytics:e.aggregated_pin_data.creator_analytics&&{_30dRealtime:e.aggregated_pin_data.creator_analytics["30d_realtime"]&&{carId:e.aggregated_pin_data.creator_analytics["30d_realtime"].id}}},board:e.board&&{privacy:e.board.privacy},carouselData:e.carousel_data&&{carouselSlots:e.carousel_data.carousel_slots&&e.carousel_data.carousel_slots.map((e=>({title:e.title}))),index:null===(i=e.carousel_data)||void 0===i?void 0:i.index},creatorAnalytics:e.creator_analytics&&{_30dRealtime:e.creator_analytics["30d_realtime"]&&{carId:e.creator_analytics["30d_realtime"].id}},domain:e.domain,gridTitle:e.grid_title,isDownstreamPromotion:e.is_downstream_promotion,isEligibleForPdp:e.is_eligible_for_pdp,isOosProduct:e.is_oos_product,isRepin:e.is_repin,isStaleProduct:e.is_stale_product,linkDomain:e.link_domain&&{officialUser:e.link_domain.official_user&&{fullName:e.link_domain.official_user.full_name}},nativeCreator:e.native_creator&&{__typename:"User"},originPinner:e.origin_pinner&&{fullName:e.origin_pinner.full_name},pinNote:e.pin_note&&{text:e.pin_note.text},pinner:e.pinner&&{entityId:e.pinner.id,fullName:e.pinner.full_name},promoter:e.promoter&&{__typename:"User"},richMetadata:e.rich_metadata&&{products:e.rich_metadata.products&&e.rich_metadata.products.map((e=>({shippingInfo:e.shipping_info&&{freeShippingPrice:e.shipping_info.free_shipping_price,freeShippingValue:e.shipping_info.free_shipping_value,shipsToUserCountry:e.shipping_info.ships_to_user_country}})))},richSummary:e.rich_summary&&{aggregateRating:e.rich_summary.aggregate_rating&&{ratingCount:e.rich_summary.aggregate_rating.rating_count,ratingValue:e.rich_summary.aggregate_rating.rating_value,reviewCount:e.rich_summary.aggregate_rating.review_count},displayName:e.rich_summary.display_name,products:e.rich_summary.products&&e.rich_summary.products.map((e=>({brand:e.brand&&{name:e.brand.name},offerSummary:e.offer_summary&&{maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}}))),siteName:null===(t=e.rich_summary)||void 0===t?void 0:t.site_name,typeName:null===(n=e.rich_summary)||void 0===n?void 0:n.type_name},sponsorship:e.sponsorship&&{__typename:"Sponsorship"},storyPinDataId:e.story_pin_data_id,title:e.title,unifiedUserNote:e.unified_user_note,viaPinner:e.via_pinner&&{fullName:e.via_pinner.full_name},videos:e.videos&&{videoList:e.videos.video_list&&{__typename:"VideoList"}}}},Sn=({attributionOption:e,board:i,contentType:t,experimentsClient:a,feedbackData:o,feedbackType:l,hasCarouselData:r,isGroupBoard:s,isORBACProfileManager:d,isOwnBoard:c,showImageOnly:u,showNativeReactions:p,showPromotedShoppingPrice:_,surface:m,viewer:h,variantData:g,pinKey:v})=>{var f,x,b,P,S,w,I,T;const{data:A}=(0,y.uf)(bn,v,{useLegacyAdapter:Pn}),k=!!A.promoter&&!A.isDownstreamPromotion,E=!!A.sponsorship,{pinNote:C,isEligibleForPdp:j}=A,R=function({attributionOption:e,feedbackType:i,isEligibleForPdp:t,isGroupBoard:n,showImageOnly:a,surface:o,isDownstreamPromotion:l,hasNativeCreator:r,hasPromoter:s,hasSponsorship:d,storyPinDataId:c}){if("promoted"===i||s&&!l||d)return"default";if("ConversationView"!==o&&fn.includes(o))return"none";if(n)return"none";if(t)return"none";let u="default";return"SearchItem"===o&&c?u:(e&&("image-only"===e?u="image-only-credit":"hide"===e&&(u="none")),"followed"!==i||a?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(o)&&"hide"===e?u:"TodayArticleFeed"===o&&"show"===e?"show-for-claimed-content":r?"default":"none":u)}({attributionOption:e,feedbackType:l,isEligibleForPdp:!!j,isGroupBoard:s,showImageOnly:u,surface:m,isDownstreamPromotion:A.isDownstreamPromotion,hasNativeCreator:!!A.nativeCreator,hasPromoter:!!A.promoter,hasSponsorship:!!A.sponsorship,storyPinDataId:A.storyPinDataId}),D=(null===(f=A.carouselData)||void 0===f?void 0:f.index)||0,F=null!=g&&g.title?g.title:an({isGroupBoard:s,surface:m,gridTitle:A.gridTitle,hasRichSummary:!!A.richSummary,hasCarouselData:!!A.carouselData,richSummaryTypeName:null===(x=A.richSummary)||void 0===x?void 0:x.typeName,richSummaryDisplayName:null===(b=A.richSummary)||void 0===b?void 0:b.displayName,title:A.title,hasPromoter:!!A.promoter,isDownstreamPromotion:A.isDownstreamPromotion,pinAccess:A.access,carouselSlotsTitle:null===(P=A.carouselData)||void 0===P||null===(S=P.carouselSlots)||void 0===S?void 0:S[D].title}),L=u?"":F,O=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(m)&&!k&&!u&&Boolean(xe(A&&{domain:A.domain,linkDomain:A.linkDomain&&{officialUser:A.linkDomain.officialUser&&{fullName:A.linkDomain.officialUser.fullName}},isOosProduct:A.isOosProduct,isRepin:A.isRepin,isStaleProduct:A.isStaleProduct,originPinner:A.originPinner&&{fullName:A.originPinner.fullName},pinner:A.pinner&&{fullName:A.pinner.fullName},richSummary:A.richSummary&&{products:A.richSummary.products&&A.richSummary.products.map((e=>({brand:e.brand&&{name:e.brand.name}}))),siteName:null===(w=A.richSummary)||void 0===w?void 0:w.siteName,typeName:null===(I=A.richSummary)||void 0===I?void 0:I.typeName},viaPinner:A.viaPinner&&{fullName:A.viaPinner.fullName}},m)),z=["ShoppingGridShippedMetadataWithVisitButton"].includes(m);let N="BaseBoardPinGrid"===m&&C?null===(T=C.text)||void 0===T?void 0:T.trim():null;!N&&A.unifiedUserNote&&(N=A.unifiedUserNote.trim());const M=k,B="shopping"===t;let Z=!0;var U,K,G;"AuthHomefeed"!==m||k||(p=!1,Z=!(null!==(U=((null===(K=A.richSummary)||void 0===K||null===(G=K.products)||void 0===G?void 0:G[0])||{}).brand)&&void 0!==U&&U.name));let H,V,W,$,Y=2;if(k?Y=3:(O||"none"!==R)&&(Y=B&&"ShoppingGridSmall"!==m?2:1),B||_){var q,X;const e=null===(q=A.richSummary)||void 0===q||null===(X=q.products)||void 0===X?void 0:X[0],{offerSummary:i}=e||{};H=i?i.standardPrice:void 0,V=i?(0,vn.Z)({maxPrice:i.maxPrice,minPrice:i.minPrice,price:i.price}):void 0}if(g){const{offerSummary:e}=g;H=e?e.standard_price:void 0,V=e?e.price||e.max_price:void 0}if(B&&!k){var J,Q,ee,ie,te,ne,ae,oe,le,re;const{ratingCount:e,ratingValue:i,reviewCount:t}=(null===(J=A.richSummary)||void 0===J?void 0:J.aggregateRating)||{};(e||t)&&parseFloat(i)&&(W={count:e||t,rating:i}),$={freeShippingPrice:null===(Q=A.richMetadata)||void 0===Q||null===(ee=Q.products)||void 0===ee||null===(ie=ee[0].shippingInfo)||void 0===ie?void 0:ie.freeShippingPrice,freeShippingValue:null===(te=A.richMetadata)||void 0===te||null===(ne=te.products)||void 0===ne||null===(ae=ne[0].shippingInfo)||void 0===ae?void 0:ae.freeShippingValue,shipsToUserCountry:null===(oe=A.richMetadata)||void 0===oe||null===(le=oe.products)||void 0===le||null===(re=le[0].shippingInfo)||void 0===re?void 0:re.shipsToUserCountry}}const se=(0,Xt.rh)(A&&{aggregatedPinData:A.aggregatedPinData&&{creatorAnalytics:A.aggregatedPinData.creatorAnalytics&&{_30dRealtime:A.aggregatedPinData.creatorAnalytics._30dRealtime&&{carId:A.aggregatedPinData.creatorAnalytics._30dRealtime.carId}}},board:A.board&&{privacy:A.board.privacy},creatorAnalytics:A.creatorAnalytics&&{_30dRealtime:A.creatorAnalytics._30dRealtime&&{carId:A.creatorAnalytics._30dRealtime.carId}},isRepin:A.isRepin,pinner:A.pinner&&{entityId:A.pinner.entityId},storyPinDataId:A.storyPinDataId,videos:A.videos&&{videoList:A.videos.videoList&&{__typename:"VideoList"}}},h,a),de="CreatorProfileStoryPinGrid"===m||"CreatorProfileActivityPinGrid"===m,ce=!de,ue=s&&!E,pe=!d&&("BaseBoardPinGrid"===m&&c||Boolean((null==i?void 0:i.is_collaborative)&&(0,Ue.Z)({board:i,viewer:h})))&&!de;return(0,n.useMemo)((()=>({attributionType:R,board:i,contentType:t,feedbackData:o,feedbackType:l,pinNoteText:N,pinTitle:L,productCurrentPrice:V,productOriginalPrice:H,productRating:W,productShipping:$,showCarouselEllipsis:r,showFavoriteButton:pe,showGroupBoardAvatar:ue,showNativeReactions:p,showOverflowMenu:M,showPinStats:se,showSource:O,showTextContent:ce,showVisitSiteButton:z,showAttribution:Z,titleLines:Y})),[R,i,t,o,l,N,L,V,H,W,$,r,pe,ue,p,M,se,O,ce,z,Z,Y])};var wn=t(336331),In=t(159262),Tn=t(838419),An=t(548802),kn=t(107877),En=t(712968);const Cn=(0,n.lazy)((()=>Promise.all([t.e(97270),t.e(92982)]).then(t.bind(t,336020)))),jn=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","CommentReply","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide"],Rn=["BaseBoardPinGrid","UserProfilePinGrid",...wt];function Dn({attributionOption:e,blockClickEvents:i,debugImpressionState:t,disableReaction:l,feedback:c,imageOnlyOption:u="default",pin:p,pinId:m,pinImageCrop:h,pinImageFit:g,resolution:y="default",saveButtonOptions:v,authDesktopSurface:f,trackingParameters:x,...P}){var S,I,T,A,k,E,C,j,R,D,F,L,O,z,N;const Z=(0,B.S6)()(m)||p,U=null!==(S=null===(I=Z.board)||void 0===I?void 0:I.id)&&void 0!==S?S:"",K=(0,kn.gC)()(U)||Z.board;Z.grid_title=Z.grid_title||p.grid_title;const G=(0,M.F)(),{checkExperiment:H}=G,{collaborated_by_me:V,collaborator_count:W,is_collaborative:$}=K||{},{is_quick_promotable:Y,pinner:q,showFeedback:J,sponsorship:ee}=Z,ie=!!Z.promoter&&!Z.is_downstream_promotion,te=!!Z.promoted_is_removable,ne=(0,Q.Z)(),ae=(0,Qt.Z)(),{anyEnabled:oe}=H("web_m10n_business_access_orbac_www"),{anyEnabled:le}=H("web_m10n_business_access_orbac_ga"),re=le?(0,en.lJ)(ne,ae):"",se=(0,o.useLocation)(),{slotIndex:de,viewParameter:ce}=x,ue=["AuthHomefeed","BaseBoardPinGrid"].includes(f)&&H("web_repin_flow").anyEnabled,pe=(0,An.x)(),_e=(0,Wt.P)()||ne.isEligibleForImageOnlyGrid,{appUI:{videosAutoplaying:me}}=(0,tn.I)(),he=(0,Jt.Z)(Z.id,me),ge=(0,a.useSelector)((({changeBoardFromToast:e})=>e))||{},ye=((((null===(T=Z.rich_metadata)||void 0===T?void 0:T.products)||[])[0]||{}).additional_images||[]).length>0,ve=!(null===(A=Z.carousel_data)||void 0===A||!A.id),fe=ne.isAuth&&ne.isEmployee,xe=ne.isAuth&&((0,$t.Z)(ne.createdAt)||(0,Yt.Z)(null,ne))&&!ne.isPartner;let be=xe;"TodayArticleFeed"===f&&(be=!1),"default"!==u&&(be="image-only"===u),(0,Et.Z)(f)&&(be=!1),"ShoppingSquareGridDomainNoMetadata"===f&&(be=!0);let Pe=e;(xe&&!Pe||_e)&&(Pe="image-only");const Se=(0,In.Z)({feedbackType:null==c?void 0:c.type,viewParameter:ce,boardFollowedByMe:!(null===(k=Z.board)||void 0===k||!k.followed_by_me),hasPromoter:!!Z.promoter,isDownstreamPromotion:!!Z.is_downstream_promotion,pinnerFollowedByMe:!(null===(E=Z.pinner)||void 0===E||!E.explicitly_followed_by_me),hasRecommendationReason:!!Z.recommendation_reason,recommendationReasonReason:null!==(C=null===(j=Z.recommendation_reason)||void 0===j?void 0:j.reason)&&void 0!==C?C:void 0,recommendationReasonHasBoard:!(null===(R=Z.recommendation_reason)||void 0===R||!R.board)}),{data:we}=c||{},Ie="number"==typeof W&&W>0||$;let Te=!1;["OtherProfilePinGrid","ShoppingGridSmall"].includes(f)?Te=!0:"BaseBoardPinGrid"===f?Te="dense"===(null==pe?void 0:pe.boardPinDensity):"UserProfilePinGrid"===f&&(Te="dense"===(null==pe?void 0:pe.profilePinDensity));const Ae=Boolean(Ie&&"BaseBoardPinGrid"===f),ke=(0,Tn.Z)(),Ee=(0,En.kW)(),Ce=Ee&&Ee[null!==(D=null===(F=ke.data)||void 0===F?void 0:F.id)&&void 0!==D?D:""]?Ee[null!==(L=null===(O=ke.data)||void 0===O?void 0:O.id)&&void 0!==L?L:""]:ke.data,je=(0,X.Z)(ne,K);let Re=!1;if(!!(0,o.matchPath)(se.pathname,{path:"/:username/_created/",exact:!0}))Re=(0,en.q6)(ne,null==Ce?void 0:Ce.id,ae);else if((0,qt.am)(se)||(0,qt.OJ)(se)){const e=K&&K.owner&&K.owner.id||"";Re=(0,en.q6)(ne,e,ae)}const De=Boolean(ne.isAuth&&q&&q.id===ne.id),Fe=Boolean(V||Ie&&je),Le=ne.isAuth&&ne.isPartner,Oe=!(null===(z=Z.story_pin_data)||void 0===z||!z.is_deleted),Ne=(0,n.useMemo)((()=>function({hasCarouselData:e,isDeletedStoryPin:i,surface:t}){const n={primaryContent:null,secondaryContent:null,actionBar:yn.includes(t)||i?"none":"visible",accessoryContent:e?"visible":"none"};return i||gn.includes(t)?(n.primaryContent="none",n.secondaryContent="none"):["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(t)&&(n.primaryContent="visible"),n}({hasCarouselData:ve,isDeletedStoryPin:Oe,surface:f})),[ve,Oe,f]),Me=(0,n.useMemo)((()=>function({board:e,isDenseView:i,isGroupBoard:t,isInlineBetterSave:n,isOwnBoard:a,isORBACProfileManager:o,isQuickPromotable:l,isRemovable:r,saveButtonOptions:s,surface:d,viewer:c,viewerIsCollaborator:u}){const p=c.isAuth?c.boardCount:void 0;let _=s||function(e=0){return 0===e?{type:"classic"}:{type:"inline"}}(p);l?_={type:"promote"}:(u||a||["OtherProfilePinGrid","UserProfilePinGrid"].includes(d))&&!["BoardlessPins","CreatorProfileActivityPinGrid","CreatorProfileStoryPinGrid","BaseBoardPinGrid"].includes(d)?_={type:"classic"}:(u||a)&&["BaseBoardPinGrid"].includes(d)&&null!=e&&e.name&&e.url&&e.id&&(_={type:"inline",initialSelection:{title:e.name,boardId:e.id,url:e.url}});return n&&(_={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===d}),(r||hn.includes(d)||o)&&(_={type:"none"}),{board:e,derivedSaveButtonOptions:_,showLikeButton:u&&t&&Ht.UP.includes(d),supportsReactionBar:!i}}({board:K,isInlineBetterSave:ue,isDenseView:Te,isGroupBoard:Ae,isOwnBoard:je,isOwnPin:De,isORBACProfileManager:Re,isQuickPromotable:Y,isRemovable:te,saveButtonOptions:v,surface:f,viewer:ne,viewerIsCollaborator:Fe})),[K,ue,Te,Ae,je,De,Re,Y,te,v,f,ne,Fe]);let Be;["ShoppingDynamicHeightGrid","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadataWithVisitButton"].includes(f)&&!ie&&(Be="white");const Ze=(0,n.useMemo)((()=>function({allowProductCarousel:e=!1,shoppingLabelColor:i,surface:t}){return{allowProductCarousel:e,allowShoppingPriceIndicator:Ht.Wv.includes(t),shoppingLabelColor:i}}({allowProductCarousel:ye,shoppingLabelColor:Be,surface:f})),[ye,Be,f]),Ue=(0,n.useMemo)((()=>function({board:e,feedbackData:i,feedbackType:t,isDenseView:n,isGroupBoard:a,isOwnBoard:o,isORBACProfileManager:l,isORBACBeta:r,isORBACGA:s,pin:d,isRemovable:c,surface:u,viewer:p}){var _,m,h,g,y,v,f;const x=!(null===(_=d.access)||void 0===_||!_.includes("write")),b=!!d.promoter&&!d.is_downstream_promotion,P=(null===(m=d.carousel_data)||void 0===m?void 0:m.index)||0,S=an({isGroupBoard:a,surface:u,gridTitle:d.grid_title,hasRichSummary:!!d.rich_summary,hasCarouselData:!!d.carousel_data,richSummaryTypeName:null===(h=d.rich_summary)||void 0===h?void 0:h.type_name,richSummaryDisplayName:null===(g=d.rich_summary)||void 0===g?void 0:g.display_name,title:d.title,hasPromoter:!!d.promoter,isDownstreamPromotion:d.is_downstream_promotion,pinAccess:d.access,carouselSlotsTitle:null===(y=d.carousel_data)||void 0===y||null===(v=y.carousel_slots)||void 0===v?void 0:v[P].title}),w=e&&(0,nn.Z)({action:4,board:e,viewer:p})||x,I=d.savedInfo&&d.savedInfo.localPinId,T=Boolean(o&&!a||"UserProfilePinGrid"===u&&w||I),A=Boolean(a&&w||T||l&&(!d.story_pin_data_id||r)),k=Boolean((null==e?void 0:e.is_collaborative)||T),E=!(b||o||a||on.includes(u)||l),C=ln({surface:u,isORBACProfileManager:l,isORBACGA:s,isRemovable:c}),{tracked_link:j,link:R}=d,D=!(null===(f=null!=j?j:R)||void 0===f||!f);let F=a&&n?"equally-spaced":"default",L="default";return n&&(L=a?"icon-only":"truncated-text"),n&&["ShoppingGridSmall","UserProfilePinGrid","BaseBoardPinGrid","BoardlessPins"].includes(u)&&(L="icon-only",F="equally-spaced"),{actionBarEditBeforeShare:k,feedbackData:i,feedbackType:t,layout:F,pinTitle:S,showEditButton:A,showOverflowMenu:E,showShareButton:C,showSourceLinkButton:D,sourceLinkStyle:L}}({board:K,feedbackData:we,feedbackType:Se,isDenseView:Te,isGroupBoard:Ae,isOwnBoard:je,isORBACProfileManager:Re,isORBACBeta:oe,isORBACGA:le,isRemovable:te,pin:Z,surface:f,viewer:ne})),[K,we,Se,Te,Ae,je,Re,oe,le,te,Z,f,ne]);let Ke=!1;Z.story_pin_data&&!ne.isPartner&&(Ke=H("web_auth_remove_pinner_pinstats").anyEnabled);const Ge=!Ke&&(0,Xt.rh)(Z&&{aggregatedPinData:Z.aggregated_pin_data&&{creatorAnalytics:Z.aggregated_pin_data.creator_analytics&&{_30dRealtime:Z.aggregated_pin_data.creator_analytics["30d_realtime"]&&{carId:Z.aggregated_pin_data.creator_analytics["30d_realtime"].id}}},board:Z.board&&{privacy:Z.board.privacy},creatorAnalytics:Z.creator_analytics&&{_30dRealtime:Z.creator_analytics["30d_realtime"]&&{carId:Z.creator_analytics["30d_realtime"].id}},isRepin:Z.is_repin,pinner:Z.pinner&&{entityId:Z.pinner.id},storyPinDataId:Z.story_pin_data_id,videos:Z.videos&&{videoList:Z.videos.video_list&&{__typename:"VideoList"}}},ne,G,re)&&Rn.includes(f)&&(De||le&&Re),He=["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadata","ShoppingGridShippedMetadataWithVisitButton","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridSmall"].includes(f),Ve=!ie&&He?"shopping":"standard";let We=(l||"CreatorProfileStoryPinGrid"!==f||De)&&(0,ze.J6)({board:Z.board&&{isCollaborative:Z.board.is_collaborative,collaboratedByMe:Z.board.collaborated_by_me},videos:Z.videos&&Z.videos.id?{entityId:Z.videos.id}:null,isDownstreamPromotion:Z.is_downstream_promotion,isPromoted:Z.is_promoted,storyPinDataId:Z.story_pin_data_id},Oe);const $e=(0,hi.Xx)();We=!_e&&We;const Ye=Sn({attributionOption:Pe,board:K,contentType:Ve,experimentsClient:G,feedbackData:we,feedbackType:Se,hasCarouselData:ve,isGroupBoard:Ae,isORBACProfileManager:Re,isOwnBoard:je,showImageOnly:be,showNativeReactions:We,showPromotedShoppingPrice:ie&&He,surface:f,viewer:ne,variantData:$e,pinKey:{type:"deprecated",data:Z}}),qe=!!Z.story_pin_data_id,Xe=Z.created_at?new Date(Z.created_at):null,Je=(0,s.pN)({isOwnPin:De,isStoryPin:qe,pinCreationDate:Xe,surface:f});Ke&&(Ye.showPinStats=!1);let Qe=Boolean(Ye.pinTitle||Ye.contentType||Ye.userNote||Ye.showSource||"none"!==Ye.attributionType||Ye.showNativeReactions||Ye.productCurrentPrice||Ye.productOriginalPrice||Ye.showPinStats)||Ae;"BaseBoardPinGrid"===f&&je&&Le||ee?Qe=!0:jn.includes(f)||Te&&(je||V)?Qe=!1:De||"CreatorProfileStoryPinGrid"!==f&&"CreatorProfileActivityPinGrid"!==f||(Qe=!1),!_e||ie||ee||(Qe=!1);const ei=Boolean(J),{showLeadPinStdBeta:ii}=(0,r.Z)({promotedIsLeadAd:!!Z.promoted_is_lead_ad}),ti={showNoPinBorderRadius:"TopicBestPinNarrow"===f||"TopicBestPinWide"===f||"ConversationView"===f,showPromotedPinBorderTreatment:"BaseBoardPinGrid"===f&&ie,shouldUseLegoWash:!0,showLeadPinStdBeta:ii},ni={feedbackType:Se},{anyEnabled:ai}=H("ads_desktop_video_ads",{dangerouslySkipActivation:!0}),oi=(0,n.useMemo)((()=>function({hasCarouselData:e,isDenseView:i,pinImageCrop:t,pinImageFit:n,resolution:a,showPromotedVideos:o,showLeadPinStdBeta:l,surface:r}){const s=Ht.zl.includes(r);let d="backend";"CloseupRelatedProducts"===r?d={height:un.GZ,width:un.OE}:"TopicBestPinWide"===r?d={height:rn,width:sn}:"TopicBestPinNarrow"===r?d={height:dn,width:cn}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomainNoMetadata"].includes(r)||s?d={height:un.zX,width:un.zX}:t&&(d=t);let c="none",u=null!=a?a:"default";"string"!=typeof d&&(c="cover",(s||"ShoppingDynamicHeightGrid"===r&&!n||["ShoppingGridSmall","ShoppingSquareGridDomainNoMetadata"].includes(r))&&(c="contain",u="high-res"));const p=s||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(r)?"transparent":"dominant",_=(0,_n.e)(r);return{autoplaySettingOff:"undefined"!=typeof window&&0===pn.Z.getItem(mn._e),fallbackColor:p,imageFit:c,isDenseView:i,resolution:u,rootMargin:_,pinImageCrop:d,showCarousel:e&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(r),showPromotedVideos:o,showLeadPinStdBeta:l}}({hasCarouselData:ve,isDenseView:Te,isPromoted:ie,pinImageCrop:h,pinImageFit:g,resolution:y,showPromotedVideos:ai,showLeadPinStdBeta:ii,surface:f})),[ve,Te,ie,h,g,y,ai,ii,f]),li=fe&&xt(),ri=(0,n.useMemo)((()=>({debugImpressionState:t,slotIndex:de})),[t,de]),si=(0,n.useMemo)((()=>({surface:f})),[f]);return(0,w.jsx)(d.Z,{name:"PinRepConfiguration",children:(0,w.jsx)(b.B,{value:x,children:(0,w.jsxs)(wn.B,{value:si,children:[(0,w.jsx)(Vt,{actionBarProps:Ue,blockClickEvents:i,currentlyPlayingVideo:he,footerProps:Ye,impressionsDebuggerProps:ri,obscuredPinOverlayProps:ni,pin:Z,pinVisualProps:oi,presentationProps:ti,primaryContentProps:Me,secondaryContentProps:Ze,showFooter:Qe||Je,showImpressionsDebugger:li,showObscuredPinOverlay:ei,showSeeStatsButton:Ge,showSignalDebugger:fe,showUnavailablePin:Oe,surface:f,visibilityOverrides:Ne,...P}),ge.shouldOpenModal&&ge.newPin&&(null===(N=ge.originalPin)||void 0===N?void 0:N.id)===Z.id&&(0,w.jsx)(d.Z,{name:"SafeSuspense_PinRepConfiguration_ChangeBoardModal",children:(0,w.jsx)(_.Z,{children:(0,w.jsx)(Cn,{experience:ge.experience,newPin:ge.newPin})})})]})})})}},394214:(e,i,t)=>{t.r(i),t.d(i,{default:()=>x});var n=t(667294),a=t(616550),o=t(762113),l=t(946618),r=t(183929),s=t(898252),d=t(245410),c=t(950695),u=t(282802),p=t(473183),_=t(684913),m=t(525104),h=t(883119),g=t(709512),y=t(785893);const v={overlay:{__style:{backgroundColor:"#000"}}};function f({image:e,pinId:i,title:t,videoDuration:a,videoStatusMessage:o}){var l,r,s;return(0,y.jsx)(n.Fragment,{children:(0,y.jsx)(h.st,{children:(0,y.jsxs)(h.Tg,{href:`/pin/${i}`,rounding:2,children:[(0,y.jsxs)(h.xu,{overflow:"hidden",position:"relative",rounding:2,children:[e&&(0,y.jsx)(h.Ee,{alt:t||"",color:"lightGray",naturalHeight:null!==(l=e.height)&&void 0!==l?l:1,naturalWidth:null!==(r=e.width)&&void 0!==r?r:1,src:null!==(s=e.url)&&void 0!==s?s:""}),!!a&&(0,y.jsx)(h.xu,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex",children:(0,y.jsx)(g.Z,{duration:a})}),(0,y.jsx)(h.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:v.overlay}),(0,y.jsxs)(h.xu,{position:"absolute",top:!0,left:!0,padding:5,width:"100%",children:[(0,y.jsx)(h.X6,{color:"light",overflow:"normal",size:"400",children:null==o?void 0:o.title}),(0,y.jsx)(h.xu,{marginTop:4,children:(0,y.jsx)(h.xv,{color:"light",size:"200",overflow:"normal",children:null==o?void 0:o.subtitle})})]})]}),(0,y.jsx)(h.xu,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1,children:(0,y.jsx)(h.xu,{flex:"grow",children:t&&(0,y.jsx)(h.xu,{paddingY:1,children:(0,y.jsx)(h.xv,{inline:!0,size:"200",weight:"bold",children:t})})})})]})})})}function x({trackingParams:e,objectIdStr:i,impressionData:t,auxData:h,componentType:g,slotIndex:v,viewData:x,viewParameter:b,viewType:P,pin:S,pinId:w,...I}){var T,A,k,E,C,j,R,D,F,L,O,z,N,M,B,Z,U,K,G,H;const V=(0,a.useLocation)(),W=(0,m.S6)(),$=(w?W(w):null)||S,Y=!(null===(T=$.story_pin_data)||void 0===T||!T.is_deleted),q=(0,p.Z)({type:"deprecated",data:$}),X=e||(0,l.Z)({boardUrl:null===(A=$.board)||void 0===A?void 0:A.url,location:V,pinId:$.id,pinnerUserName:null===(k=$.pinner)||void 0===k?void 0:k.username,storyPinDataId:$.story_pin_data_id,trackingParams:$.tracking_params,trackingParamsMap:$.tracking_params_map}),J=(null===(E=$.videos)||void 0===E||null===(C=E.video_list)||void 0===C?void 0:C.V_HLSV3_MOBILE)||(null===(j=$.videos)||void 0===j||null===(R=j.video_list)||void 0===R?void 0:R.V_HLSV4)||(null===(D=$.videos)||void 0===D||null===(F=D.video_list)||void 0===F?void 0:F.V_720P),Q=!!(J&&J.url&&J.height&&J.width)||void 0,ee=J&&$.videos?$.videos.id:void 0,[ie,te]=(0,n.useState)(!1),ne=(0,n.useCallback)((()=>te(!Y)),[Y]),ae=(0,n.useCallback)((()=>te(!1)),[]),oe=(0,c.yz)();var le;!$.promoted_is_lead_ad||(h={lead_form_id:null===(le=$.promoted_lead_form)||void 0===le?void 0:le.lead_form_id,is_lead_ad:1});const{anyEnabled:re}=(0,d.F)().checkExperiment("m10n_view_event_conversion_measurement_chrome"),se=(0,u.B)();return(0,y.jsx)(r.Z,{componentType:g,contextLogData:{pwa_type:oe,...h,...q({default:null===(L=h)||void 0===L?void 0:L.commerce_data})},impressionAuxFields:{...t||{},isNativeVideoAndWatchable:Q,chromeAraViewExp:re,appType:se.appTypeDetailed,videoIdStr:ee,clientTrackingParams:X||`${$.tracking_params||""}-0`,imageURL:null!==(O=null===(z=$.images)||void 0===z||null===(N=z["236x"])||void 0===N?void 0:N.url)&&void 0!==O?O:"",richTypes:($.shopping_flags||[]).concat(!((null===(M=$.product_pin_data)||void 0===M||null===(B=M.items)||void 0===B?void 0:B[0])||{}).additional_images||null!==(Z=$.shopping_flags)&&void 0!==Z&&Z.includes(10)?[]:[10])},impressionType:"Pin",isPaused:!ie,loggingId:$.id,slotIndex:v,objectIdStr:i,viewData:x,viewParameter:b,viewType:P,children:(0,s._J)($.video_status)?(0,y.jsx)(f,{image:(null===(U=$.images)||void 0===U?void 0:U["236x"])&&{width:$.images["236x"].width,height:$.images["236x"].height,url:$.images["236x"].url},pinId:$.id,title:$.title,videoDuration:null===(K=$.videos)||void 0===K||null===(G=K.video_list)||void 0===G||null===(H=G[_.Z.V_HLSV4])||void 0===H?void 0:H.duration,videoStatusMessage:$.video_status_message&&{title:$.video_status_message.title,subtitle:$.video_status_message.subtitle}}):(0,y.jsx)(o.Z,{...I,debugImpressionState:ie?"started":"paused",onError:ae,onLoad:ne,pin:$,pinId:w,trackingParameters:{componentType:g,contextLogData:h,slotIndex:v,viewParameter:b,viewType:P}})})}},661900:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(245410);const a=({promotedIsLeadAd:e})=>{const{checkExperiment:i}=(0,n.F)();return{showLeadPinStdBeta:!!e&&i("web_lead_ads_std_beta").anyEnabled,showLeadPinStdAlpha:!!e&&i("web_lead_gen_ads").anyEnabled}}},101789:(e,i,t)=>{t.d(i,{Z:()=>c});var n=t(667294),a=t(883119),o=t(536042),l=t(245410),r=t(282802),s=t(549201),d=t(785893);function c({children:e,heading:i}){const t=(0,s.ml)(),{checkExperiment:c}=(0,l.F)(),{isAuthenticated:u,isBot:p}=(0,r.B)(),_=t&&c(u?"closeup_auth_mweb_collapsable_modules":"closeup_unauth_mweb_collapsable_modules").anyEnabled,[m,h]=(0,n.useState)(_&&!p),g=()=>{h(!m)},y=(0,o.ZP)();return _?(0,d.jsxs)(a.kC,{direction:"column",dataTestId:"collapsible-layout",children:[(0,d.jsxs)(a.kC,{flex:"grow",justifyContent:"between",alignItems:"center",children:[(0,d.jsx)(a.X6,{size:"300",accessibilityLevel:2,children:(0,d.jsx)(a.xu,{"data-test-id":"collapsible-layout-heading",display:"inlineBlock",children:i})}),(0,d.jsx)(a.xu,{"data-test-id":"collapse-button",display:"inlineBlock",children:(0,d.jsx)(a.hU,{accessibilityLabel:y._('Show more details drop-down', 'Closeup.common.CollapsibleLayout', 'Collapse the content wrapped in the layout'),icon:m?"arrow-down":"arrow-up",onClick:g,size:"sm"})})]}),!m&&(0,d.jsx)(n.Fragment,{children:e})]}):(0,d.jsxs)(a.kC,{direction:"column",dataTestId:"collapsible-layout",children:[(0,d.jsxs)(a.X6,{align:"start",size:"400",accessibilityLevel:2,children:[(0,d.jsx)(a.xu,{"data-test-id":"collapsible-layout-heading",display:"inlineBlock",children:i}),(0,d.jsx)(a.xu,{"data-test-id":"collapse-button",display:"inlineBlock",marginStart:1,children:(0,d.jsx)(a.hU,{accessibilityLabel:y._('Show more details drop-down', 'Closeup.common.CollapsibleLayout', 'Collapse the content wrapped in the layout'),icon:m?"arrow-down":"arrow-up",onClick:g,size:"md"})})]}),!m&&(0,d.jsx)(n.Fragment,{children:e})]})}},342693:(e,i,t)=>{t.d(i,{n:()=>n});const n="300"},44081:(e,i,t)=>{t.d(i,{Z:()=>s});var n=t(667294),a=t(883119),o=t(342693),l=t(536042),r=t(785893);function s({children:e,maxLines:i=10}){const t=(0,n.useRef)(null),[s,d]=(0,n.useState)({isFirstLoad:!0,isTruncated:!1}),c=(0,l.ZP)(),{isFirstLoad:u,isTruncated:p}=s;return(0,n.useEffect)((()=>{var e;u&&t.current&&((e=t.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&d({isFirstLoad:!1,isTruncated:!0})}),[u,p]),(0,r.jsxs)(a.xu,{position:"relative","data-test-id":"truncated-text",children:[(0,r.jsx)(a.xv,{ref:t,lineClamp:u||p?i:0,inline:!0,children:e}),p&&(0,r.jsx)(a.xu,{position:"absolute",display:"block",width:"100%",bottom:!0,children:(0,r.jsxs)(a.kC,{flex:"grow",children:[(0,r.jsx)(a.xu,{display:"inlineBlock",width:"120px",height:"14px"}),(0,r.jsx)(a.xu,{"data-test-id":"more-button",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{background:"white"}},children:(0,r.jsx)(a.iP,{fullWidth:!1,onTap:()=>d({...s,isTruncated:!1}),children:(0,r.jsx)(a.xv,{inline:!0,size:o.n,weight:"bold",children:c._(' \u2026 more', 'closeup.TruncatedTextContent.moreLabel', 'Expand content label')})})}),(0,r.jsx)(a.xu,{display:"inlineBlock",flex:"grow",dangerouslySetInlineStyle:{__style:{background:"white"}}})]})})]})}},340906:(e,i,t)=>{t.d(i,{Z:()=>u});var n=t(245410),a=t(549201),o=t(802071),l=t(329689),r=t(384722);const s="sce_lightswitch_organic",d="sce_lightswitch_monetized",c=Object.freeze({dweb:{organic:"web_sce_organic_pinbuilder_dep",monetized:"web_sce_monetized_pinbuilder_dep"},mweb:{organic:"mweb_sce_organic_pinbuilder_dep",monetized:"mweb_sce_monetized_pinbuilder_dep"}});function u(e){const i=(0,a.HG)(),{checkExperiment:t}=(0,n.F)(),u=(0,l.Z)(),p=(0,o.Z)(),_=(0,r.lJ)(p,u),m=c[i?"dweb":"mweb"];return e&&!_&&(t(s),t(d)),!_&&(t(m.organic).anyEnabled||t(m.monetized).anyEnabled)}},976641:(e,i,t)=>{t.d(i,{Z:()=>d});var n=t(616550),a=t(883119),o=t(388011),l=t(310561),r=t(536042),s=t(785893);function d({arrowType:e,pinId:i,viewParameter:t,viewType:d}){const c=(0,r.ZP)(),u=(0,n.useHistory)(),{previous:p}=(0,l.Hv)(),{logContextEvent:_}=(0,o.v)();return(0,s.jsx)(a.hU,{accessibilityLabel:c._('Go back', 'Accessible icon for close button', 'Accessible icon for close button'),icon:null!=e?e:"directional-arrow-left",iconColor:"darkGray",onClick:()=>{_({event_type:101,view_type:d,element:34,view_parameter:t}),0!==p.length?u.goBack():u.replace(`/pin/${i}/`)}})}},29152:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(739425);function a(e){const i=(0,n.mB)(e.search),t=parseInt(i.x,10),a=parseInt(i.y,10),o=parseInt(i.w,10),l=parseInt(i.h,10);return function(...e){return e.every(Number.isInteger)}(t,a,o,l)?{x:t,y:a,w:o,h:l}:null}},675187:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(128681),a=t(488167),o=t(477288);function l({initialCropArea:e,pin:i,disableInitialCrop:t,imageSignature:l,surface:r}){if(e)return e;const{width:s,height:d}=(0,a.Z)({pin:i,imageSignature:l,maxWidth:["stela","experimental-flashlight"].includes(r)?o.RZ:void 0});return t?{x:0,y:0,w:s,h:d}:{x:n.S,y:n.S,w:s-2*n.S,h:d-2*n.S}}},303318:(e,i,t)=>{t.d(i,{Z:()=>c});var n=t(883119),a=t(394214),o=t(388011),l=t(24286),r=t(769340),s=t(666331),d=t(785893);function c({action:e,component:i,dangerouslySetActionUrl:t,element:c,contextLogData:u,id:p,objects:_,viewType:m,viewParameter:h}){const{logContextEvent:g}=(0,o.v)(),y=null!=e&&e.url&&e.text?n=>(0,d.jsx)(s.Z,{coverImages:n.images,height:l.yF,onClick:()=>g({event_type:101,view_type:m,view_parameter:h,component:i,element:c,aux_data:{story_id:p,...u}}),text:e.text,url:null!=t?t:e.url,width:l.yF},"actionBubble"):null,{containerRef:v,itemsToRender:f,actionItem:x}=(0,r.n)({items:_,itemWidth:l.yF,itemGap:l.oX,actionItemType:y?"one":void 0});return(0,d.jsxs)(r.Z,{itemGap:l.oX,containerRef:v,children:[f.map(((e,t)=>(0,d.jsx)(n.xu,{flex:"none",width:l.yF,"data-grid-item":"true",children:(0,d.jsx)(a.default,{pin:e,pinId:e.id,authDesktopSurface:"ShoppingDynamicHeightGrid",auxData:u,componentType:i,slotIndex:t,viewParameter:h,viewType:m,pinImageCrop:{height:l.yF,width:l.yF}})},e.id))),x&&(null==y?void 0:y(x))]})}},873213:(e,i,t)=>{t.d(i,{Z:()=>_});var n=t(616550),a=t(883119),o=t(388011),l=t(911386),r=t(272109),s=t(826935),d=t(602531),c=t(620368),u=t(838419),p=t(785893);function _({productGroup:e,slotIndex:i}){const{logContextEvent:t}=(0,o.v)(),{data:_}=(0,u.Z)(),{search:m}=(0,n.useLocation)(),{pin:h}=(0,l.Z)(m),g=h?"pdp":"profile",y=null==_?void 0:_.username,v=(0,d.N0)();if((0,r.Z)((()=>{var i;c.Z.StructuredFeed.ProductGroups.viewProductGroup({productGroupId:e.entityId,source:g,groupType:null!==(i=e.groupType)&&void 0!==i?i:"",componentType:13698},t)})),!y)return null;const f=`/${y}/_shop/${e.entityId}/`;return(0,p.jsx)(a.Tg,{onTap:()=>{var n;c.Z.StructuredFeed.ProductGroups.tapProductGroup({productGroupId:e.entityId,source:g,groupType:null!==(n=e.groupType)&&void 0!==n?n:"",componentType:13698,index:i},t)},href:f,children:(0,p.jsx)(s.Z,{productGroup:e,showControls:v})})}},941191:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(883119),a=t(497051),o=t(785893);function l({fetchMore:e,isAtEnd:i,isFetching:t,items:l,leftAlign:r,loadingLabel:s,marginBottom:d,renderItem:c}){return(0,o.jsxs)(n.xu,{"data-test-id":"square-shopping-grid",display:"flex",direction:"row",justifyContent:r?void 0:"center",marginBottom:d,wrap:!0,children:[(0,o.jsx)(n.gr,{isAtEnd:i,isFetching:t,fetchMore:e}),(l||[]).map(((e,i)=>c({item:e,itemIdx:i}))),Array.apply(0,Array(12)).map(((e,i)=>(0,o.jsx)(n.xu,{width:a.jh,margin:a.iO},i))),(0,o.jsx)(n.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,o.jsx)(n.$j,{accessibilityLabel:s,show:t})})]})}},139488:(e,i,t)=>{t.d(i,{Z:()=>I});var n=t(883119),a=t(667294),o=t(536042),l=t(630089),r=t(993926),s=t(549201),d=t(196039),c=t(785893);function u(){const e=(0,o.ZP)();return e._('Free shipping', 'closeup.product.shipping', 'product shipping info')}function p({freeShippingPrice:e}){const i=(0,o.ZP)();return(0,l.nk)(i._('Free shipping with {{ shippingPrice }}+', 'closeup.product.shipping', 'product shipping info'),{shippingPrice:e}).join("")}function _(){const e=(0,o.ZP)();return e._('Shipping info', 'closeup.product.shipping', 'product shipping info')}function m({clickthroughFn:e}){const i=(0,o.ZP)(),[t,l]=(0,a.useState)(!1),r=(0,s.HG)(),u=(0,a.useRef)(null),p=()=>{l(!t)},_=i._('Check the merchant\'s site for shipping to your region', 'closeup.product.shipping', 'Text on how the user can get more shipping information for the product'),m=i._('Visit site', 'closeup.product.shipping', 'Button to visit the merchant site'),h=r?(0,c.jsx)(n.J2,{anchor:u.current,onDismiss:p,idealDirection:"right",children:(0,c.jsx)(n.xu,{padding:5,rounding:4,children:(0,c.jsx)(n.xv,{children:_})})}):(0,c.jsx)(n.Io,{onDismiss:p,zIndex:d.lp,size:"auto",heading:"",children:(0,c.jsxs)(n.xu,{alignItems:"center",direction:"column",marginStart:10,marginEnd:10,display:"flex",children:[(0,c.jsx)(n.xu,{marginBottom:5,children:(0,c.jsx)(n.xv,{size:"400",weight:"bold",align:"center",children:_})}),(0,c.jsx)(n.zx,{text:m,accessibilityLabel:m,size:"lg",onClick:e})]})});return(0,c.jsxs)(n.xu,{display:"flex",alignItems:"center",marginStart:1,children:[(0,c.jsx)(n.iP,{ref:u,onTap:p,children:(0,c.jsx)(n.JO,{accessibilityLabel:i._('Show shipping information', 'closeup.product.shipping', 'Accessibility label for showing more shipping information'),color:"default",icon:"info-circle",size:14})}),t&&h]})}function h({clickthroughFn:e,customStyles:i,showPrevDot:t,freeShippingPrice:a,freeShippingValue:o,showShippingCountryDisclaimer:l}){const s=t?[""]:[],{color:d="subtle",size:h="200"}=i||{};if(!Number.isFinite(o)&&!l)return null;let g;return 0===o?g=(0,c.jsx)(u,{}):a?g=(0,c.jsx)(p,{freeShippingPrice:a}):l&&(g=(0,c.jsx)(_,{})),g&&s.push((0,c.jsxs)(n.kC,{direction:"row",children:[g,l&&(0,c.jsx)(m,{clickthroughFn:e})]})),0===s.length?null:(0,c.jsx)(n.xv,{color:d,size:h,children:(0,c.jsx)(r.Z,{color:d,items:s})})}var g=t(734417),y=t(31407),v=t(282802);function f({count:e,rating:i}){return Boolean(i&&"None"!==i&&Number.isFinite(e))}const x=({rating:e,textSize:i,type:t})=>{if("single"===t){const t=parseFloat(e);return Number.isNaN(t)?null:(0,c.jsxs)(n.kC,{alignItems:"center",children:[(0,c.jsx)(y.A,{fill:"full",width:12}),(0,c.jsx)(n.xv,{size:i,children:t.toFixed(1)})]})}return(0,c.jsx)(y.Z,{rating:e,width:12})},b=({bracket:e,count:i,countFormat:t,countType:a,marginStart:r,textSize:s,underline:d})=>{const{locale:u}=(0,v.B)(),p=(0,o.ZP)(),_=(0,g.Z)();if(null==i)return null;let m=_(u,i,{shortform:!0,shortform_maximum_fraction_digits:1});if("text"===t){const e="review"===a?p.ngettext('{{ count }} review', '{{ count }} reviews', i, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total reviews count'):p.ngettext('{{ count }} rating', '{{ count }} ratings', i, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total ratings count');m=(0,l.nk)(e,{count:i}).join("")}return e&&(m=`(${m})`),(0,c.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:d?"1px solid gray":"none"}},marginStart:r,children:(0,c.jsx)(n.xv,{color:d?"subtle":"default",size:s,underline:d,children:(0,c.jsx)(n.xu,{"data-test-id":"ratings-count-text",display:"inlineBlock",children:m})})})};function P({bracket:e,count:i,countFormat:t,countType:a,rating:o,textSize:l,underline:r}){return f({count:i,rating:o})?(0,c.jsxs)(n.kC,{alignItems:"center",justifyContent:"start",children:[(0,c.jsx)(x,{rating:o,textSize:l,type:"multiple"}),(0,c.jsx)(b,{bracket:e,count:i,countFormat:t,countType:a,textSize:l,underline:r})]}):null}const S=({count:e,countFormat:i,ratingValue:t,shippingInfo:a})=>(0,c.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,c.jsx)(P,{count:e,countFormat:i,rating:t,textSize:"200"}),(0,c.jsx)(n.xu,{marginTop:f({count:e,rating:t})?1:0,children:(0,c.jsx)(h,{customStyles:{color:"subtle",size:"200"},freeShippingPrice:null==a?void 0:a.freeShippingPrice,freeShippingValue:null==a?void 0:a.freeShippingValue})})]}),w=({clickthroughFn:e,count:i,countType:t,countFormat:a,hideSeparationDot:o,bracket:l,ratingValue:r,shippingInfo:s,shipsToUserCountry:d})=>{const u=!1===d;return(0,c.jsxs)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},display:"flex",marginTop:1,wrap:!0,children:[(0,c.jsx)(P,{bracket:l,count:i,countFormat:a,countType:t,rating:r,textSize:"300"}),(0,c.jsx)(n.xu,{marginStart:f({count:i,rating:r})&&o?2:0,children:(0,c.jsx)(h,{clickthroughFn:e,customStyles:{color:"default",size:"300"},showPrevDot:f({count:i,rating:r})&&!o,freeShippingPrice:null==s?void 0:s.freeShippingPrice,freeShippingValue:null==s?void 0:s.freeShippingValue,showShippingCountryDisclaimer:u})})]})};function I(e){return e.isGridView?(0,c.jsx)(S,{...e}):(0,c.jsx)(w,{...e})}},212490:(e,i,t)=>{t.d(i,{M:()=>y,Z:()=>v});var n=t(667294),a=t(883119),o=t(976641),l=t(536042),r=t(630089),s=t(245410);var d=t(818577),c=t(785893);function u({title:e,variant:i}){const t=(0,l.ZP)(),{checkExperiment:o}=(0,s.F)(),{anyEnabled:u}=o("web_unified_visual_feed"),p={default:(0,r.nk)(t._('Shop {{ category }}', 'relatedProducts.stela.header', 'header for related products stela feed'),{category:(e||"").toLowerCase()}).join("").trim(),"unified-feed":(0,r.nk)(t._('{{ category }}', 'unifiedHeader.stela.header', 'header for related products stela feed'),{category:(_=e||"",_.toLowerCase().charAt(0).toUpperCase()+_.toLowerCase().slice(1))}).join("").trim(),"closeup-shop":"","unified-feed-no-label":"","closeup-shop-idea-pin":t._('Shop similar items', 'relatedProducts.header', 'header for related products stela feed'),"related-products":"",flashlight:e};var _;const m={"closeup-shop":t._('Shop similar items', 'relatedProducts.header', 'header for related products stela feed'),"unified-feed":"","unified-feed-no-label":"","related-products":t._('More to shop', 'relatedProducts.header', 'header for related products feed'),"closeup-shop-idea-pin":t._('Shop similar items', 'relatedProducts.header', 'header for related products stela feed'),flashlight:""},h=e?p[["flashlight","unified-feed","closeup-shop-idea-pin"].includes(i)?i:"default"]:m[i];return(0,c.jsx)(n.Fragment,{children:h?(0,c.jsx)(a.X6,{size:u&&"flashlight"!==i?"500":"400",accessibilityLevel:1,children:h}):(0,c.jsx)(d.Z,{text:t._('Related products page', 'relatedProducts.unifiedFeed.accessibilityhiddenheading', 'accessibility label for related products page')})})}var p=t(388011),_=t(906215),m=t(282802),h=t(870601);function g({buttonText:e,handleDrawerClose:i,isDrawerOpen:t,onClick:n,largeSize:o=!1,reversed:r=!1,invertWhenDrawerIsOpen:s=!1,hasProductFiltersApplied:d=!1}){const u=(0,l.ZP)(),p=s&&t,_=(0,c.jsx)(a.JO,{accessibilityLabel:"",icon:"filter",color:p?"light":"dark"},"filterIcon"),m=e&&(0,c.jsx)(a.xv,{align:"center",color:p?"inverse":"default",weight:"bold",children:e},e),h=r?[m,_]:[_,m];return(0,c.jsx)(a.iP,{onTap:()=>{t?i():n()},rounding:"pill",accessibilityLabel:u._('Filter', 'productsFilterButton', 'Button to filter products results'),children:(0,c.jsxs)(a.xu,{position:"relative",children:[(0,c.jsx)(a.xu,{display:"flex",justifyContent:"center",alignContent:"center",color:p?"dark":"secondary",rounding:"pill",minHeight:40,paddingX:4,dangerouslySetInlineStyle:o?{__style:{padding:"18px"}}:void 0,children:(0,c.jsx)(a.kC,{gap:{row:2,column:0},alignItems:"center",children:h})}),d&&(0,c.jsx)(a.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},display:"flex",height:14,justifyContent:"center",minWidth:14,position:"absolute",rounding:"pill",top:!0,right:!0})]})})}const y=60;function v({filtersText:e,handleDrawerClose:i,handleDrawerOpen:t,isDrawerOpen:l,isProductOnlyFeed:r,pinId:s,showFilter:d,title:v,variant:f,viewParameter:x,viewType:b}){const{logContextEvent:P}=(0,p.v)(),{isRTL:S}=(0,m.B)(),w=(0,n.useRef)(null);(0,n.useEffect)((()=>(d&&P({event_type:120,view_type:b,component:13467,element:11735,view_parameter:x}),w.current&&_.Z.addObstruction("top",w.current),()=>{w.current&&_.Z.removeObstruction("top",w.current)})),[d]);const I=()=>{P({event_type:101,view_type:b,component:13467,element:11735,view_parameter:x}),t&&t()};return(0,c.jsx)(h.Z,{position:"fixed",style:{width:"100%",zIndex:3,backgroundColor:"#ffffff"},children:(0,c.jsxs)(a.xu,{alignItems:"center",color:"default",display:"flex",height:y,justifyContent:"center",paddingY:4,position:"absolute",top:!0,width:"100%","data-test-id":"related-products-header",ref:w,children:[(0,c.jsx)(a.xu,{marginStart:5,position:"absolute",left:!S,right:S,children:(0,c.jsx)(o.Z,{pinId:s,arrowType:r?"directional-arrow-left":"cancel",viewType:b,viewParameter:x})}),(0,c.jsx)(u,{title:v,variant:f}),d&&"boolean"==typeof l&&I&&e&&i&&(0,c.jsx)(a.xu,{marginEnd:12,position:"absolute",left:S,right:!S,children:(0,c.jsx)(g,{isDrawerOpen:l,onClick:I,buttonText:e,handleDrawerClose:i})})]})})}},920394:(e,i,t)=>{t.d(i,{Z:()=>A});var n=t(667294),a=t(883119),o=t(941191),l=t(394214),r=t(705882),s=t(738783),d=t(785893);const c=function({config:{commerce_data:e,image_signature:i,pinId:t,pinImageCrop:n,searchId:a,shoppingSurface:o,viewParameter:c,viewType:u},pin:p,slotIndex:_}){const m=`/pin/${t}/related-products/domain/`;let h=[];switch("BUBBLE_ONE_COL"===p.story_type&&(h=p.objects.slice(0,2)),p.type){case"story":switch(p.story_type){case"related_domain_collage":return(0,d.jsx)(r.Z,{story:p,dangerouslySetActionUrl:m,slotIndex:_});case"BUBBLE_ONE_COL":return(0,d.jsx)(s.Z,{bubbles:h,id:p.id,referringSource:p.referring_source,slotIndex:_,storyType:p.story_type,title:p.title,viewType:u,viewParameter:c});default:return null}case"pin":return(0,d.jsx)(l.default,{pin:p,pinId:p.id,pinImageCrop:n,authDesktopSurface:o,auxData:{search_identifier:a,image_signature:i,commerce_data:{entrypoint:"shopping",...e||{}}},componentType:0,slotIndex:_,viewData:{search_identifier:a},viewParameter:c,viewType:u});default:return null}};var u=t(497051),p=t(388011),_=t(536042),m=t(963375),h=t(552369),g=t(272109);function y({commerceData:e,pinId:i,viewParameter:t,viewType:l,visualSearchFlashlightUnifiedResource:r,imageSignature:s,searchId:y}){var v;const{logContextEvent:f}=(0,p.v)(),x=(0,_.ZP)(),b=(0,n.useRef)(),{auxData:P,data:S,isAtEnd:w,isFetching:I,fetchMore:T}=r,A=null==S?void 0:S.results,k=()=>(0,h.Z)((()=>{f({event_type:110,view_type:l,view_parameter:t})}),100);(0,g.Z)((()=>(window.addEventListener("scroll",k),()=>{window.removeEventListener("scroll",k)}))),!b.current&&null!=P&&null!==(v=P.grid_layout)&&void 0!==v&&v.w_h_ratio&&(b.current=P.grid_layout.w_h_ratio);const E=b.current?"ShoppingDynamicHeightGrid":"ShoppingGridShippedMetadata",C={height:m.zX*(b.current||1),width:m.zX},j={commerce_data:e,image_signature:s,pinId:i,pinImageCrop:C,searchId:y,shoppingSurface:E,viewParameter:t,viewType:l};return(0,d.jsx)(a.xu,{direction:"row",display:"flex",justifyContent:"center",marginStart:1,wrap:!0,children:(0,d.jsx)(o.Z,{fetchMore:T,isAtEnd:w,isFetching:I,loadingLabel:x._('Loading search results...', 'Accessibility label for loading visual search results', 'Accessibility label for loading visual search results'),items:A||[],renderItem:({item:e,itemIdx:i})=>(0,d.jsx)(a.xu,{height:"pin"===e.type?C.height+u.s_+u.dA:void 0,width:C.width,marginEnd:4,"data-grid-item":!0,children:(0,d.jsx)(c,{config:j,pin:e,slotIndex:i})},`RelatedProductsUnifiedFeed-${e.id}`)})})}var v=t(616550),f=t(303318);function x({title:e}){return(0,d.jsx)(a.xu,{"data-test-id":"unified-feed-subheader",display:"flex",justifyContent:"center",dangerouslySetInlineStyle:{__style:{marginLeft:55}},children:(0,d.jsx)(a.X6,{size:"400",accessibilityLevel:2,children:e})})}var b=t(328939);const P={flashlight:72,shop:427,stela:427};function S({pinId:e,variant:i,visualSearchFlashlightUnifiedResource:t}){const o=(0,v.useLocation)(),{data:l}=t,r=(null==l?void 0:l.results)||[],s=["flashlight","stela","shop"].includes(i),c=`/pin/${e}/related-products/all/${o.search}${s?`&entry=${i}`:""}`;return(0,d.jsx)(n.Fragment,{children:r.map(((e,t)=>{if("story"===e.type){const{action:n,id:o,objects:l,story_type:r,title:s}=e;switch(r){case"unified_visual_feed_product_upsell":const u=s.format||"";return(0,d.jsx)(b.qS,{auxData:{story_type:r},component:14339,loggingId:o,objectIdStr:o,slotIndex:t,viewParameter:3462,viewType:P[i],children:({impressionTrackerRef:e})=>(0,d.jsxs)(a.xu,{ref:e,children:[u&&(0,d.jsx)(x,{title:u}),(0,d.jsx)(a.xu,{marginTop:4,marginBottom:12,"data-test-id":"unified-feed-stela-story",children:(0,d.jsx)(f.Z,{action:n,component:14339,contextLogData:{story_type:r},dangerouslySetActionUrl:c,element:179,id:o,objects:l,viewType:P[i],viewParameter:3462})})]})},o);case"unified_visual_feed_organic_header":return(0,d.jsx)(b.qS,{auxData:{story_type:r},component:14339,loggingId:o,objectIdStr:o,slotIndex:t,viewParameter:3462,viewType:P[i],children:({impressionTrackerRef:i})=>(0,d.jsx)(a.xu,{ref:i,marginBottom:4,children:(0,d.jsx)(x,{title:e.title.format||""})})},o);default:return null}}return null}))})}function w({commerceData:e,isFilterOpened:i,isProductFeed:t,searchId:o,viewParameter:r,viewType:s,visualSearchFlashlightUnifiedResource:c}){const u=(0,_.ZP)(),{logContextEvent:m}=(0,p.v)(),[g,y]=(0,n.useState)(),[v,f]=(0,n.useState)(!1),x=(0,n.useRef)(null),b=(0,n.useRef)(null),P=(0,h.Z)((()=>{x.current&&y(x.current.getBoundingClientRect().y)}),100);(0,n.useEffect)((()=>{var e;null===(e=b.current)||void 0===e||e.handleResize()}),[i]),(0,n.useEffect)((()=>{if(!v)return window.addEventListener("scroll",P),()=>window.removeEventListener("scroll",P)})),(0,n.useEffect)((()=>{var e,i;const t=(null===(e=window)||void 0===e?void 0:e.innerHeight)||(null===(i=document.body)||void 0===i?void 0:i.clientHeight);!v&&g<t&&(f(!0),m({event_type:110,view_type:s,view_parameter:r}))}),[g,m,v,f,s,r]);const{data:S,isFetching:w,fetchMore:I}=c,T=((null==S?void 0:S.results)||[]).filter((e=>"pin"===e.type));return(0,d.jsxs)(a.xu,{"data-test-id":"visual-search-feed",children:[(0,d.jsx)(a.xu,{marginTop:2,ref:x,children:(0,d.jsx)(a.Rk,{renderItem:({data:i,itemIdx:n})=>"pin"===i.type?(0,d.jsx)(l.default,{auxData:{commerce_data:e},pin:i,pinId:i.id,authDesktopSurface:t?"ShoppingDynamicHeightGrid":"SearchItem",componentType:0,slotIndex:n,viewData:{search_identifier:o},viewParameter:r,viewType:s}):null,items:T||[],loadItems:I,ref:b,scrollContainer:()=>window})}),(0,d.jsx)(a.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,d.jsx)(a.$j,{accessibilityLabel:u._('Loading visual search results', 'visualSearch.spinner.label', 'Accessibility label for spinner when loading the visual search results'),show:w})})]})}var I=t(245410),T=t(473183);function A({imageSignature:e,isFilterOpened:i,isProductOnlyFeed:t,pin:a,variant:o,viewParameter:l,viewType:r,visualSearchFlashlightUnifiedResource:s}){const{checkExperiment:c}=(0,I.F)(),{logContextEvent:u}=(0,p.v)(),_="shop"===o,m=_||t,h=m&&c("web_masonry_product_feed").anyEnabled,{data:v}=s,f=null==v?void 0:v.search_identifier,x={is_product_only_feed:m},b=(0,T.Z)({type:"deprecated",data:a});(0,g.Z)((()=>{u({event_type:13,view_type:r,view_parameter:l,aux_data:b({default:x})})}));const{id:P}=a;return(0,d.jsxs)(n.Fragment,{children:[!_&&(0,d.jsx)(S,{pinId:P,variant:o,visualSearchFlashlightUnifiedResource:s}),!m||h?(0,d.jsx)(w,{commerceData:x,isFilterOpened:i,isProductFeed:m,searchId:f,viewParameter:l,viewType:r,visualSearchFlashlightUnifiedResource:s}):(0,d.jsx)(y,{commerceData:m?x:{},imageSignature:e,pinId:P,searchId:f,viewParameter:l,viewType:r,visualSearchFlashlightUnifiedResource:s})]})}},678546:(e,i,t)=>{function n(e){const{category_filters:i,domain_filters:t,price_filters:n}=e||{};return!!i||!!t||!!n}t.d(i,{Z:()=>n})},636125:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(667294),a=t(678546),o=t(819079);function l({resourceOptions:e}){const[i,t]=(0,n.useState)(),[l,r]=(0,n.useState)(""),[s,d]=(0,n.useState)(),c=(0,o.Z)(e?{name:"VisualSearchFlashlightUnifiedResource",options:e}:null);return(0,n.useEffect)((()=>{const{data:e}=c,i=null==e?void 0:e.search_identifier;i&&r(i),t(e)}),[c]),(0,n.useEffect)((()=>{const{data:e}=c,t=null==e?void 0:e.search_identifier,n=null==i?void 0:i.search_identifier;e&&(t&&n&&t===n||!(0,a.Z)(i)&&(0,a.Z)(e)&&d({category_filters:e.category_filters,domain_filters:e.domain_filters,price_filters:e.price_filters}))}),[s,i,c]),{visualSearchFlashlightUnifiedResource:c,filters:s,searchId:l,setSearchId:r}}},497051:(e,i,t)=>{t.d(i,{Je:()=>n,dA:()=>o,iO:()=>l,jh:()=>r,s_:()=>a,wq:()=>s});const n=350,a=134,o=16,l=2,r=236,s=20},705882:(e,i,t)=>{t.d(i,{Z:()=>g});var n=t(667294),a=t(883119),o=t(785893);function l({isTopRow:e,image:i}){var t,n,l;return(0,o.jsxs)(a.zd,{wash:!0,height:e?217:168,width:e?236:117,children:[(0,o.jsx)(a.Ee,{alt:i.alt||"",fit:"cover",naturalHeight:null!==(t=i.height)&&void 0!==t?t:1,naturalWidth:null!==(n=i.width)&&void 0!==n?n:1,src:null!==(l=i.url)&&void 0!==l?l:""}),!!i.price&&(0,o.jsx)(a.xu,{"data-test-id":"shopping-upsell-price",height:24,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, 0.8)",borderRadius:"18px",color:"#111",fontSize:"10px",fontWeight:"600",lineHeight:"24px",padding:"06px"}},left:!0,margin:1,paddingX:2,paddingY:1,position:"absolute",top:!0,children:i.price})]})}var r=t(388011),s=t(870243),d=t(183929),c=t(176172),u=t(28630),p=t(946543),_=t(299402);const m={container:{borderRadius:`${c.Oc}px ${c.Oc}px 25px 25px`,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},content:{marginBottom:"2px"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, .1)"}},h=({images:e,firstImageIndex:i})=>{const t=i+1,n=i+2;return(0,o.jsxs)(a.xu,{overflow:"hidden",rounding:4,children:[(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:m.content},children:e.at(i)?(0,o.jsx)(l,{image:e[i],isTopRow:!0}):null}),e.length>n?(0,o.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,o.jsx)(l,{image:e[t]}),(0,o.jsx)(l,{image:e[n]})]}):null]})};function g({dangerouslySetActionUrl:e,query:i,story:t,slotIndex:l}){const{logContextEvent:c}=(0,r.v)(),{action:g,id:y,objects:v,story_type:f,subtitle:x}=t,{text:b,url:P}=g||{},[S,w]=(0,n.useState)(!1),I=(0,n.useCallback)((()=>w(!0)),[w]),T=(0,n.useCallback)((()=>w(!1)),[w]),A=(v||[]).reduce(((e,i)=>{var t,n,a,o,l,r,s,d,c;if("pin"!==i.type)return e;const u=i;return[...e,{domain:u.domain,image:{alt:u.title||u.description,height:null===(t=u.images)||void 0===t||null===(n=t["474x"])||void 0===n?void 0:n.height,url:null===(a=u.images)||void 0===a||null===(o=a["474x"])||void 0===o?void 0:o.url,width:null===(l=u.images)||void 0===l||null===(r=l["474x"])||void 0===r?void 0:r.width,price:null===(s=((null===(d=u.rich_summary)||void 0===d||null===(c=d.products)||void 0===c?void 0:c[0])||{}).offer_summary)||void 0===s?void 0:s.price}}]}),[]),k=(A[0]||{}).domain||void 0;let E,C,j={story_type:f};["search_product_collage_story","shop_article_story"].includes(f)?(E=2,C=43,j={...j,story_id:y,entered_query:i}):"shop_brand_story"===f||"shop_brand_affinity_story"===f?(E=1,C=92,k&&(j={...j,commerce_data:JSON.stringify({domain:k})})):["stela_in_flashlight_card","stela_in_flashlight_onecol"].includes(f)?(E=72,C=3050):"related_domain_collage"===f?(E=72,C=3455):"related_products_collage"===f&&(E=1,C=3177);const R=x?4:2;let D,F;if(["related_domain_collage","shop_brand_story","shop_brand_affinity_story"].includes(f)&&g){const e=g.user;D=e&&(e.image_medium_url||e.image_large_url),F=e&&e.full_name}const L=e||P;if(!L)return null;const O=(0,u.Z)({url:L})?"nofollow":"none";return(0,o.jsx)(d.Z,{componentType:200,contextLogData:j||{},impressionType:"Story",loggingId:f,slotIndex:l,viewParameter:C,viewType:E,children:(0,o.jsx)(a.Tg,{rel:O,href:L,onTap:()=>c({event_type:101,element:372,component:200,view_type:E,view_parameter:C,aux_data:{story_type:f}}),children:(0,o.jsxs)(a.xu,{overflow:"hidden",position:"relative",onMouseEnter:I,onMouseLeave:T,dangerouslySetInlineStyle:{__style:m.container},children:[(0,o.jsx)(h,{images:A.map((({image:e})=>e)),firstImageIndex:["related_domain_collage","related_products_collage"].includes(f)?1:0}),(0,o.jsx)(a.xu,{color:"secondary",display:"flex",paddingX:3,alignItems:"center",justifyContent:"center",marginTop:2,paddingY:R,rounding:"pill",children:(0,o.jsxs)(a.xu,{justifyContent:"center",alignContent:"start",display:"flex",direction:"column",margin:2,children:[x?(0,o.jsx)(a.xu,{marginBottom:1,children:(0,o.jsx)(a.xv,{align:"start",color:"subtle",children:x.format})}):null,(0,o.jsx)(a.xv,{align:"start",weight:"bold",children:b})]})}),F&&D&&(0,o.jsx)(a.xu,{position:"absolute",right:!0,top:!0,margin:2,children:(0,o.jsx)(s.qE,{name:F,size:"md",src:D,outline:!0})}),(0,o.jsx)(_.Z,{visibility:S?"visible":"none",children:(0,o.jsx)(p.Z,{additionalStyles:m.visualOverlay})})]})})})}},316196:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(883119),a=t(785893);function o({hovered:e,rounding:i}){return(0,a.jsx)(n.xu,{display:e?"block":"none",height:"100%",width:"100%",left:!0,top:!0,position:"fixed",zIndex:new n.Ry(1),color:"transparentDarkGray",rounding:i,opacity:.2})}},293926:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(667294),a=t(883119),o=t(785893);function l({color:e="red",duration:i,finalProgress:t,shape:l="pill"}){const[r,s]=(0,n.useState)(!1);(0,n.useEffect)((()=>{const e=setTimeout((()=>{s(!0)}),0);return()=>{clearTimeout(e)}}),[]);const d="pill"===l;return(0,o.jsx)(a.xu,{color:e,height:d?8:6,rounding:d?"pill":2,width:`${t}%`,dangerouslySetInlineStyle:{__style:{transform:d?`translateX(${r?"-5px":"-100%"})`:`scaleX(${r?1:0})`,transformOrigin:"left",transitionDuration:`${i}ms`,transitionTimingFunction:"ease-in"}}})}},589845:(e,i,t)=>{t.d(i,{Z:()=>y});var n=t(667294),a=(t(167912),t(616550)),o=t(946618),l=t(310561);var r,s=t(388011),d=t(970588),c=t(825389),u=t(898252),p=t(385075),_=t(473183),m=t(785893);const h=void 0!==r?r:r=t(823706),g=e=>{var i;return{board:e.board&&{url:e.board.url},entityId:e.id,link:e.link,pinner:e.pinner&&{username:e.pinner.username},richMetadata:e.rich_metadata&&{article:e.rich_metadata.article&&{__typename:"ArticleMetadata"},products:e.rich_metadata.products&&e.rich_metadata.products.map((()=>({__typename:"RichPinProductMetadata"}))),recipe:(null===(i=e.rich_metadata)||void 0===i?void 0:i.recipe)&&{__typename:"RecipeMetadata"}},storyPinData:e.story_pin_data&&{__typename:"StoryPinData"},storyPinDataId:e.story_pin_data_id,trackedLink:e.tracked_link,trackingParams:e.tracking_params}};function y({children:e,hovered:i,pinKey:t,slotIndex:r,trafficSource:y,trackingParamsMap:v,viewType:f}){var x,b,P,S,w;const{logContextEvent:I}=(0,s.v)(),[T,A]=(0,n.useState)(),[k,E]=(0,n.useState)(),{data:C,childDataKey:j}=(0,c.uf)(h,t,{useLegacyAdapter:g}),{entityId:R,trackedLink:D,link:F}=C,L=D||F||"",O=()=>{A(!0)},z=function(e){const i=(0,a.useLocation)(),{previous:t}=(0,l.Hv)();return(0,o.Z)({...e,location:i,previousHistory:t})}({boardUrl:null===(x=C.board)||void 0===x?void 0:x.url,pinId:R,pinnerUserName:null===(b=C.pinner)||void 0===b?void 0:b.username,storyPinDataId:C.storyPinDataId,trackingParams:C.trackingParams,trackingParamsMap:v}),N=(0,p.Z)({hasPin:!!C,hasPinRichMetadata:!!C.richMetadata,hasPinRichMetadataProducts:!(null===(P=C.richMetadata)||void 0===P||!P.products),hasPinRichMetadataArticle:!(null===(S=C.richMetadata)||void 0===S||!S.article),hasPinRichMetadataRecipe:!(null===(w=C.richMetadata)||void 0===w||!w.recipe),hasPinStoryPinData:!!C.storyPinData}),M=(0,_.Z)(j),B=(0,n.useCallback)((()=>{const e=M();(0,d.Z)({url:"/v3/offsite/",data:{check_only:!1,pin_id:R,url:L,client_tracking_params:z,aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:R,...r||{},...e})}}).then((i=>{i&&(I({event_type:12,object_id_str:R,view_type:f,view_parameter:N,aux_data:{clickthrough_type:"rightClick",...r||{},...e}}),I({event_type:8948,view_type:f,object_id_str:R,view_parameter:N,aux_data:{click_type:"clickthrough",closeup_navigation_type:y&&(0,u.sV)(y)?"deeplink":"click",clickthrough_type:"rightClick",...r||{},...e}}))}))})),Z=e=>{var i;T&&(/^\/pin/.test(null===(i=e.target.activeElement.attributes.href)||void 0===i?void 0:i.value)||(B(),A(!1)),window.removeEventListener(k,Z,!1))};return(0,n.useEffect)((()=>{var e,i,t,n,a,o;void 0!==(null===(e=window)||void 0===e||null===(i=e.document)||void 0===i?void 0:i.hidden)?E("visibilitychange"):void 0!==(null===(t=window)||void 0===t||null===(n=t.document)||void 0===n?void 0:n.msHidden)?E("msvisibilitychange"):void 0!==(null===(a=window)||void 0===a||null===(o=a.document)||void 0===o?void 0:o.webkitHidden)&&E("webkitvisibilitychange")}),[]),(0,n.useEffect)((()=>(T&&window&&window.addEventListener(k,Z,!1),()=>window.removeEventListener(k,Z))),[T,k]),(0,n.useEffect)((()=>(i&&window.addEventListener("contextmenu",O),()=>{window.removeEventListener("contextmenu",O)})),[i]),(0,m.jsx)(n.Fragment,{children:e})}},128681:(e,i,t)=>{t.d(i,{S:()=>b,Z:()=>w});var n=t(667294),a=t(615071),o=t(883119),l=t(563962),r=t(785893);const s=6,d={nw:0,ne:90,se:180,sw:270},c={ne:[7,-7],se:[7,7],sw:[-7,7],nw:[-7,-7]},u={nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},p=(e,i,t,n)=>{if("rounded"===n){const[n,a]=c[e];return`translate(${i+n}, ${t+a}), rotate(${d[e]})`}return`translate(${i}, ${t}), rotate(${d[e]})`};function _({corner:e,x:i,y:t,size:n,cornerStyle:a}){return(0,r.jsxs)("g",{transform:p(e,i,t,a),style:{cursor:u[e]},children:[(0,r.jsx)("rect",{fill:"rgba(0,0,0,0)",stroke:"none",x:0,y:0,width:n,height:n,className:`v2cropperHandle ${e}`}),"rounded"===a?(0,r.jsx)("path",{d:"M16 0H24V8H16C11.5817 8 8 11.5817 8 16V24H0V16C0 7.16343 7.16345 0 16 0Z",fill:"#fff",className:`v2cropperHandle ${e}`}):(0,r.jsx)("path",{d:`M ${n} 0 L 0 0 L 0 ${n}`,fill:"none",stroke:"#fff",strokeWidth:s,className:`v2cropperHandle ${e}`})]})}const m={n:"ns-resize",s:"ns-resize",e:"ew-resize",w:"ew-resize"};function h({edge:e,x:i,y:t,w:n,h:a}){return(0,r.jsx)("rect",{fill:"rgba(0,0,0,0)",stroke:"none",x:i,y:t,width:n,height:a,className:`v2cropperHandle ${e}`,style:{cursor:m[e]}})}const g=20;function y({x:e,y:i,w:t,h:a}){const o="rounded";return(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(_,{corner:"nw",x:e,y:i,size:g,cornerStyle:o}),(0,r.jsx)(_,{corner:"ne",x:e+t,y:i,size:g,cornerStyle:o}),(0,r.jsx)(_,{corner:"sw",x:e,y:i+a,size:g,cornerStyle:o}),(0,r.jsx)(_,{corner:"se",x:e+t,y:i+a,size:g,cornerStyle:o}),(0,r.jsx)(h,{edge:"n",x:e+g,y:i-10,w:t-40,h:30}),(0,r.jsx)(h,{edge:"e",x:e+t-g,y:i+g,w:30,h:a-40}),(0,r.jsx)(h,{edge:"s",x:e+g,y:i+a-10,w:t-40,h:30}),(0,r.jsx)(h,{edge:"w",x:e-g,y:i+g,w:30,h:a-40})]})}function v({initialCropArea:e,imageSize:i}){const{x:t,y:n,w:a,h:o}=e,{h:l,w:r}=i;if(!l||!r)return e;let s=t,d=n,c=a,u=o;return s<b&&(s=b,c-=b-t),s+c>r-b&&(c-=s+c-r+b),d<b&&(d=b,u-=b-n),d+u>l-b&&(u-=d+u-l+b),{x:s,y:d,w:c,h:u}}var f=t(874261);function x(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}const b=16,P=48;class S extends n.Component{constructor(...e){super(...e),x(this,"state",{cropArea:!!this.props.initialCropArea&&v({initialCropArea:this.props.initialCropArea,imageSize:this.props.imageSize})||{h:0,w:0,x:0,y:0},cropChangeType:null}),x(this,"cropResizeDirection",null),x(this,"_cropperOverlay",(0,n.createRef)()),x(this,"_checkCropHandleValid",((e,i)=>{const{cropArea:{h:t,w:n,x:a,y:o}}=this.state;switch(this.cropResizeDirection){case"ne":e<a&&i>o+t?this.cropResizeDirection="sw":e<a?this.cropResizeDirection="nw":i>o+t&&(this.cropResizeDirection="se");break;case"nw":e>a+n&&i>o+t?this.cropResizeDirection="se":e>a+n?this.cropResizeDirection="ne":i>o+t&&(this.cropResizeDirection="sw");break;case"se":e<a&&i<o?this.cropResizeDirection="nw":e<a?this.cropResizeDirection="sw":i<o&&(this.cropResizeDirection="ne");break;case"sw":e>a+n&&i<o?this.cropResizeDirection="ne":e>a+n?this.cropResizeDirection="se":i<o&&(this.cropResizeDirection="nw");break;case"n":i>o+t&&(this.cropResizeDirection="s");break;case"s":i<o&&(this.cropResizeDirection="n");break;case"e":e<a&&(this.cropResizeDirection="w");break;case"w":e>a+n&&(this.cropResizeDirection="e")}})),x(this,"handleOnMouseDown",(e=>{var i;e.preventDefault(),e.stopPropagation();const{clientX:t,clientY:n}=e,{target:a}=e,o=t-this._cropperOverlayCoor.x,l=n-this._cropperOverlayCoor.y,r=a.classList?Array.from(a.classList):a instanceof Element&&(null===(i=a.getAttribute("class"))||void 0===i?void 0:i.split(" "))||[];r.includes("v2cropperHandle")?(this.setState({cropChangeType:"resize"}),r.includes("ne")&&(this.cropResizeDirection="ne"),r.includes("nw")&&(this.cropResizeDirection="nw"),r.includes("se")&&(this.cropResizeDirection="se"),r.includes("sw")&&(this.cropResizeDirection="sw"),r.includes("n")&&(this.cropResizeDirection="n"),r.includes("s")&&(this.cropResizeDirection="s"),r.includes("e")&&(this.cropResizeDirection="e"),r.includes("w")&&(this.cropResizeDirection="w")):r.includes("v2cropSection")?(this.setState({cropChangeType:"move"}),this.cropChangeStartCoor={x:o,y:l}):r.includes("v2shadowMask")&&(this.cropChangeStartCoor={x:o,y:l},this.setState({cropArea:{h:0,w:0,x:o,y:l},cropChangeType:"select"}))})),x(this,"handleOnMouseMove",(e=>{const{cropArea:{h:i,w:t,x:n,y:a},cropChangeType:o}=this.state,{imageSize:l}=this.props,{clientX:r,clientY:s}=e,d=r-this._cropperOverlayCoor.x,c=s-this._cropperOverlayCoor.y;if("resize"===o){var u,p;const e=Math.max(Math.min(d,(null!==(u=l.w)&&void 0!==u?u:1)-b),b),o=Math.max(Math.min(c,(null!==(p=l.h)&&void 0!==p?p:1)-b),b);switch(this._checkCropHandleValid(e,o),this.cropResizeDirection){case"ne":{const t=Math.max(i+(a-o),P),l=Math.max(e-n,P);this.setState({cropArea:{h:t,w:l,x:n,y:t<=P?a:o}});break}case"nw":{const l=Math.max(t+(n-e),P),r=Math.max(i+(a-o),P);this.setState({cropArea:{h:r,w:l,x:l===P?n:e,y:r===P?a:o}});break}case"se":{const i=Math.max(o-a,P),t=Math.max(e-n,P);this.setState({cropArea:{h:i,w:t,x:n,y:a}});break}case"sw":{const i=Math.max(o-a,P),l=Math.max(t+(n-e),P);this.setState({cropArea:{h:i,w:l,x:l===P?n:e,y:a}});break}case"n":{const e=Math.max(a-o+i,P);this.setState({cropArea:{h:e,w:t,x:n,y:e===P?a:o}});break}case"s":{const e=Math.max(o-a,P);this.setState({cropArea:{h:e,w:t,x:n,y:a}});break}case"e":{const t=Math.max(e-n,P);this.setState({cropArea:{h:i,w:t,x:n,y:a}});break}case"w":{const o=Math.max(t-e+n,P);this.setState({cropArea:{h:i,w:o,x:o===P?n:e,y:a}});break}}}else if("move"===o){var _,m;const e=d-this.cropChangeStartCoor.x,o=c-this.cropChangeStartCoor.y,r=Math.max(Math.min(n+e,(null!==(_=l.w)&&void 0!==_?_:1)-t-b),b),s=Math.max(Math.min(a+o,(null!==(m=l.h)&&void 0!==m?m:1)-i-b),b);this.cropChangeStartCoor={x:d,y:c},this.setState({cropArea:{h:i,w:t,x:r,y:s}})}else if("select"===o){var h,g;const e=Math.max(Math.min(d,null!==(h=l.w)&&void 0!==h?h:1),0),i=Math.max(Math.min(c,null!==(g=l.h)&&void 0!==g?g:1),0),t=e-this.cropChangeStartCoor.x,n=i-this.cropChangeStartCoor.y;this.setState({cropArea:{h:Math.abs(n),w:Math.abs(t),x:Math.min(this.cropChangeStartCoor.x,e),y:Math.min(this.cropChangeStartCoor.y,i)}})}})),x(this,"handleOnMouseUp",(()=>{const{cropChangeType:e}=this.state;"resize"!==e&&"move"!==e&&"select"!==e||this.handleCrop(),this.cropResizeDirection=null}))}componentDidMount(){const{body:e}=document,i=this._cropperOverlay.current;if(i&&e){if(i){const e=i.getBoundingClientRect();this._cropperOverlayCoor={x:e.left,y:e.top}}window.addEventListener("mouseup",this.handleOnMouseUp),e.addEventListener("mousemove",this.handleOnMouseMove),i.addEventListener("mousedown",this.handleOnMouseDown)}}componentWillUnmount(){const{body:e}=document,i=this._cropperOverlay.current;i&&e&&(window.removeEventListener("mouseup",this.handleOnMouseUp),e.removeEventListener("mousemove",this.handleOnMouseMove),i.removeEventListener("mousedown",this.handleOnMouseDown))}handleCrop(){const{imageSize:e,onChange:i,viewParameter:t,logContextEvent:n}=this.props,{cropChangeType:a,cropArea:o}=this.state;if(0===o.w&&0===o.h){var l,r;this.setState({cropChangeType:null}),i({origCrop:{h:(null!==(l=e.h)&&void 0!==l?l:1)-2*b,w:(null!==(r=e.w)&&void 0!==r?r:1)-2*b,x:b,y:b}})}else{var s,d,c,u;this.setState({cropChangeType:null});const l=Math.max(Math.min(o.x,(null!==(s=e.w)&&void 0!==s?s:1)-P-b),b),r=Math.max(Math.min(o.y,(null!==(d=e.h)&&void 0!==d?d:1)-P-b),b);let m,h;if(o.h<P)m=P;else if(r+o.h>(null!==(c=e.h)&&void 0!==c?c:1)-b){var p;m=(null!==(p=e.h)&&void 0!==p?p:1)-r-b}else m=o.h;if(o.w<P)h=P;else if(l+o.w>(null!==(u=e.w)&&void 0!==u?u:1)-b){var _;h=(null!==(_=e.w)&&void 0!==_?_:1)-l-b}else h=o.w;switch(a){case"move":n({event_type:7603,view_type:72,view_parameter:t});break;case"resize":n({event_type:7604,view_type:72,view_parameter:t})}i({origCrop:{h:m,w:h,x:l,y:r}})}}render(){const{children:e,previewCropArea:i,showPreviewArea:t}=this.props,{cropArea:{h:n,w:l,x:s,y:d},cropChangeType:c}=this.state;return(0,r.jsxs)(o.xu,{"data-test-id":"visual-search-cropper",ref:this._cropperOverlay,position:"absolute",top:!0,left:!0,width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{cursor:"crosshair"}},children:[(0,r.jsx)(f.Z,{unsafeCSS:"\n.preview-crop-area-enter {\n  opacity: 0;\n}\n\n.preview-crop-area-enter-active {\n  opacity: 1;\n  transition: opacity 300ms;\n}\n\n.preview-crop-area-exit {\n  opacity: 1;\n}\n\n.preview-crop-area-exit-active {\n  opacity: 0;\n  transition: opacity 300ms;\n}\n\n.preview-crop-area-exit-done {\n  opacity: 0;\n}\n"}),(0,r.jsxs)("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:[(0,r.jsx)("defs",{children:(0,r.jsxs)("mask",{id:"Mask",children:[(0,r.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",rx:"0",ry:"0",fill:"#fff"}),(0,r.jsx)("rect",{x:s,y:d,width:l,height:n,id:"hole",rx:0,ry:0},`${s}${d}`),(0,r.jsx)(a.Z,{in:t&&!c,timeout:300,classNames:"preview-crop-area",mountOnEnter:!0,unmountOnExit:!0,children:(0,r.jsx)("rect",{x:i.x,y:i.y,width:i.w,height:i.h,id:"preview",rx:4,ry:4},`${i.x}${i.y}`)})]})}),(0,r.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",style:{fill:"rgba(0,0,0,0.5)"},mask:"url(#Mask)",className:"v2shadowMask"}),(0,r.jsx)("use",{href:"#hole",fill:"rgba(0,0,0,0)",stroke:"#fff",strokeWidth:"2",className:"v2cropSection",style:{cursor:"move"}}),"select"!==c&&(0,r.jsx)(y,{x:s,y:d,w:l,h:n})]}),e]})}}function w(e){const i=(0,l.Z)();return(0,r.jsx)(S,{logContextEvent:i,...e})}},389838:(e,i,t)=>{t.d(i,{Z:()=>u});var n=t(667294),a=t(883119),o=t(536042),l=t(785893);function r(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}const s=16,d=32;class c extends n.Component{constructor(...e){super(...e),r(this,"state",{isHovering:!1}),r(this,"handleMouseEnter",(e=>{this.setState({isHovering:!0}),this.props.onMouseEnter&&this.props.onMouseEnter(e)})),r(this,"handleMouseLeave",(e=>{this.setState({isHovering:!1}),this.props.onMouseLeave&&this.props.onMouseLeave(e)}))}render(){const{forwardedRef:e,icon:i,onClick:t,onMouseDown:n,onMouseUp:o,selected:r,style:c,text:u,x:p,y:_,zIndex:m,backdropDiameter:h=d,dotDiameter:g=s}=this.props,{isHovering:y}=this.state,v=y?h+4:h,f={zIndex:m,position:"absolute",top:_-v/2,left:p-v/2,outline:"none"};return(0,l.jsx)("div",{"data-test-id":"flashlight-dot",onClick:t,onKeyPress:t,onMouseDown:n,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:o,ref:e,role:"button",style:f,tabIndex:"0","aria-label":this.props.i18n._('Search this item', 'flashlight.dot.a11ylabel', 'accessibility label for flashlight dot'),children:(0,l.jsxs)(a.xu,{"data-test-id":"flashlight-dot-style",alignItems:"center",borderStyle:"none",color:"default",display:"flex",height:g,justifyContent:"center",position:"absolute",padding:0,width:g,dangerouslySetInlineStyle:{__style:{boxShadow:r?"0 0 0 3px #e60023":"none",borderRadius:g,top:(v-g)/2,left:(v-g)/2,...c}},children:[!!u&&(0,l.jsx)(a.xv,{align:"center",color:"default",inline:!0,size:"100",weight:"bold",children:u}),i&&(0,l.jsx)(a.JO,{accessibilityLabel:this.props.i18n._('Tag anchor', 'accessibility label for an anchor for an object in a pin', 'accessibility label for an anchor for an object in a pin'),color:"error",icon:i,size:g/2,inline:!0})]})})}}const u=(0,n.forwardRef)(((e,i)=>{const t=(0,o.ZP)();return(0,l.jsx)(c,{...e,forwardedRef:i,i18n:t})}))},680644:(e,i,t)=>{t.d(i,{Z:()=>v});var n=t(667294),a=t(616550),o=t(128681),l=t(563962),r=t(389838),s=t(272109),d=t(785893);function c({showAnimation:e,auxData:i,index:t,isStela:n,onClick:a,onHover:o,onUnhover:c,spotlightCenter:u,viewParameter:p,viewType:_}){const m=(0,l.Z)(),h=n?1221:1260;(0,s.Z)((()=>{m({event_type:120,element:h,aux_data:i,view_parameter:p,view_type:_})}));const g=parseFloat((.1*(t+1)).toFixed(2)),y={animation:e?`spotlightDotPop 0.6s ease-out ${g}s both`:"none"};return(0,d.jsx)(r.Z,{x:u.x,y:u.y,onClick:e=>{e&&(e.stopPropagation(),e.preventDefault()),m({aux_data:i,element:h,event_type:101,view_parameter:p,view_type:_}),a(t)},onMouseEnter:e=>{e&&(e.stopPropagation(),e.preventDefault()),o(t)},onMouseLeave:e=>{e&&(e.stopPropagation(),e.preventDefault()),c()},style:y})}var u=t(874261),p=t(473183),_=t(525010);const m=({showAnimation:e,pin:i,imageSignature:t,imageSize:a,currentSpotlightIdx:o,spotlightAreas:l,handleSpotlightClick:r,handleSpotlightHover:s,handleSpotlightUnhover:m,viewParameter:h,viewType:g})=>{const y=(0,p.Z)({type:"deprecated",data:i});return(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(u.Z,{unsafeCSS:"\n@keyframes spotlightDotPop {\n  0% {\n    transform: scale(0);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n}"}),l.map(((n,l)=>{var u,p;if(l===o)return null;const v=(0,_.Z)({cropArea:n,scaledWidth:null!==(u=a.w)&&void 0!==u?u:0,scaledHeight:null!==(p=a.h)&&void 0!==p?p:0}),f={x:v.x+v.w/2,y:v.y+v.h/2},x={...y({override:{entrypoint:"flashlight"}}),pin_id:i.id,image_signature:t,visual_objects:JSON.stringify([{x:n.x,y:n.y,w:n.w,h:n.h}])},b=`${f.x}${f.y}`;return(0,d.jsx)(c,{showAnimation:e,auxData:x,index:l,isStela:!!n.is_stela,onClick:r,onHover:s,onUnhover:m,spotlightCenter:f,viewParameter:h,viewType:g},b)}))]})};var h=t(351116),g=t(732719);const y=4;function v({customCropper:e,imageSize:i,imageSignature:t,initialCropArea:l,pin:r,showAnimation:s,spotlightAreas:c=[],trafficSource:u,viewParameter:p,viewType:v}){const f=(0,a.useHistory)(),[x,b]=(0,n.useState)(!1),[P,S]=(0,n.useState)({w:0,h:0,x:0,y:0}),[w,I]=(0,n.useState)(0);(0,n.useEffect)((()=>{const e=c.findIndex((e=>{var t,n,a,o,r;return a=l,o=(0,_.Z)({cropArea:e,scaledWidth:null!==(t=i.w)&&void 0!==t?t:0,scaledHeight:null!==(n=i.h)&&void 0!==n?n:0}),r=y,Object.keys(a).reduce(((e,i)=>e+Math.abs(a[i]-o[i])),0)<=r}));I(e)}),[i,l,c]);const T=({origCrop:e,cropSource:i,trafficSource:n,title:a})=>{const{id:o}=r,l=window.location.pathname+window.location.search,s=(0,g.Z)({cropArea:e,pinId:o,cropSource:null!=i?i:6,isUnified:!1,imageSignature:t,title:a,trafficSource:n});s!==l&&(f.replace(s),f.replace({pathname:`/pin/${o}/visual-search/`,query:{...e,cropSource:i,imageSignature:t},search:(0,h.Z)({cropArea:e,cropSource:null!=i?i:6,imageSignature:t,title:a,trafficSource:n}),state:{internalNavigation:!0}}))},A=c&&!!c.length;return(0,d.jsx)(o.Z,{imageSize:i,initialCropArea:l,onChange:null!=e?e:T,previewCropArea:P,showPreviewArea:!1,viewParameter:p,children:A&&(0,d.jsx)(m,{handleSpotlightClick:t=>{var n,a;const o=c[t],l={origCrop:(0,_.Z)({cropArea:o,scaledWidth:null!==(n=i.w)&&void 0!==n?n:0,scaledHeight:null!==(a=i.h)&&void 0!==a?a:0}),cropSource:o.is_stela?4:1,trafficSource:u,title:o.title};e?e(l):T(l)},handleSpotlightHover:e=>{var t,n;e!==w&&(b(!0),S((0,_.Z)({cropArea:c[e],scaledWidth:null!==(t=i.w)&&void 0!==t?t:0,scaledHeight:null!==(n=i.h)&&void 0!==n?n:0})))},handleSpotlightUnhover:()=>{b(!1)},imageSignature:t,imageSize:i,currentSpotlightIdx:w,pin:r,showAnimation:s,spotlightAreas:c,viewParameter:p,viewType:v})},JSON.stringify(l))}},310561:(e,i,t)=>{t.d(i,{Hv:()=>s,aX:()=>u,nK:()=>p});var n=t(667294),a=t(616550),o=t(583592),l=t(785893);const{Provider:r,useHook:s}=(0,o.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),d=e=>e&&e.pathname?e.pathname+(e.search||""):"";function c(e,i){var t;const n={action:i.type,location:i.location,match:i.match};if(i.location===(null===(t=e.current)||void 0===t?void 0:t.location))return e;switch(i.type){case"POP":return e.forward.length>0&&d(e.forward[0].location)===d(n.location)?{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:i.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous}:{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:i.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:n,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:n};default:return e}}function u(){const{current:e,previous:i}=s();return(0,n.useMemo)((()=>e?i.concat(e):i),[e,i])}function p({children:e}){const i=(0,a.useHistory)(),t=(0,a.useLocation)(),o=(0,a.useRouteMatch)(),s={forward:[],current:{action:i.action,location:t,match:o},previous:[]},[d,u]=(0,n.useReducer)(c,s);return(0,n.useEffect)((()=>{const{action:e}=i;u({type:e,location:t,match:o})}),[t]),(0,l.jsx)(r,{value:d,children:e})}},869805:(e,i,t)=>{t.d(i,{Z:()=>u,v:()=>d});var n=t(40660),a=t(457628),o=t(791045);var l=t(469093),r=t(98736),s=t(782219);const d=e=>{const{userAgent:i}=e;if(!i.isMobile&&!i.isTablet)return"desktop";switch(i.platform){case s.RL:return"iphone";case s.GW:return i.isTablet?"android_tablet":"android";case s.s4:return"ipad";default:return"mobile_other"}},c=({moduleName:e,pageType:i,requestContext:t,route:s})=>{const c=d(t),u=t.isAuthenticated?"auth":"unauth",p=(()=>{const e=navigator&&navigator.userAgent.toLowerCase();if(e){if(e.indexOf("googlebot")>-1||e.indexOf("google web preview")>-1||e.indexOf("google page speed insights")>-1)return"google_bot";if(e.indexOf("msnbot")>-1||e.indexOf("bingbot")>-1)return"ms_bot";if(e.indexOf("applebot")>-1)return"apple_bot";if(e.indexOf("yahoo")>-1||e.indexOf("slurp")>-1)return"yahoo_bot";if(e.indexOf("yandex")>-1)return"yandex"}})(),_=(0,l.Z)(),m=function(){let e=!1;return a.U2(o.VL)||(a.t8(o.VL,"1",(0,a.kZ)(o.VL)),e=!0),e}(),h=document.domain||"unknown";m&&((0,r.My)(`traffic.${c}.${_}.${e}.${u}`),(0,r.My)(`traffic_subdomain.${h}.${_}.${e}.${u}`),(0,r.My)(`traffic_subdomain.${h}.${c}.${_}.${e}.${u}`),(0,r.My)(`traffic_subdomain.${h}.${c}.${u}`),(0,r.My)(`traffic_duplo.${c}.${_}.${e}.${u}`),p&&(0,r.My)(`traffic_bot.${p}.${e}`));n.Z.increment("webapp.traffic",.1,{domain:h,isAuth:u,pageType:i,userAgentPlatform:c,botType:p,firstVisit:m,moduleName:e,referrer:_,route:s})};function u({pageType:e,requestContext:i,route:t}){c({moduleName:{"/":"HomePage","/login":"LoginPage","/pin/:id":"Closeup","/:username":"ProfilePage","/:username/:slug":"BoardPage","/topics/:interest":"TopicPage","/today":"TodayTabPage","/today/:term/:title/:articleId":"TodayArticleFeedPage","/ideas":"IdeasRootPage","/ideas/:interest/:id":"IdeasPage","/videos":"VideosRootPage","/videos/:category/:id":"VideosCategoryPage","/shopping":"ShoppingRootPage","/shopping/:category/:id":"ShoppingCategoryPage"}[t]||"other",pageType:e,requestContext:i,route:t})}},633917:(e,i,t)=>{t.d(i,{N:()=>l,Z:()=>o});var n=t(883119),a=t(785893);function o({children:e,fullWidth:i}){return(0,a.jsx)(n.xu,{"data-test-id":"pointer-events-wrapper",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:i?"100%":void 0}},children:e})}function l({children:e,enabled:i}){return i?(0,a.jsx)(o,{children:e}):e}},477288:(e,i,t)=>{t.d(i,{I6:()=>a,Nv:()=>n,RZ:()=>o,ZG:()=>r,b9:()=>l});const n=44,a=24,o=446,l=36,r=20},281993:(e,i,t)=>{t.d(i,{Z:()=>p});var n=t(667294),a=t(883119),o=t(388011),l=t(377234),r=t(24286),s=t(536042),d=t(223228),c=t(549201),u=t(785893);const p=({contentIds:e,previewImageSrc:i,url:t,buttonText:p,imageWidth:_,isInMobileCarousel:m,slideWidth:h,shape:g="square",storyId:y,storyType:v,view:f,viewParameter:x,component:b,element:P})=>{const S="square"===g?4:"circle",w=null!=_?_:r.yF,I=(0,d.Z)()?r.tG:w,T=(0,c.HG)(),A=(0,l.vs)(),{logContextEvent:k}=(0,o.v)(),E=(0,s.ZP)(),C=(0,n.useMemo)((()=>!(Number.isNaN(f)||Number.isNaN(x)||Number.isNaN(b)||Number.isNaN(P))),[f,x,b,P]);let j="lg";m&&h&&(j=h>150?"lg":h>135&&h<=150?"md":"sm");const R=b;return(0,n.useEffect)((()=>{C&&k({event_type:120,view_type:f,view_parameter:x,component:R,element:P,aux_data:{content_ids:e,story_id:y,story_type:v}})}),[e,k,f,x,R,P,C,y,v]),(0,u.jsx)(a.xu,{"data-test-id":"sf-action-item-rep",children:(0,u.jsx)(a.xu,{width:m?h:I,height:m?h:I,color:"secondary",rounding:S,overflow:"hidden",children:(0,u.jsx)(a.zd,{height:"100%",width:"100%",wash:!0,rounding:S,children:(0,u.jsx)(a.Ee,{src:i,alt:E._('Action Item Rep Preview Image', 'actionItemRep.image', 'alt text for a preview image image in action item'),color:"#fff",fit:"cover",naturalHeight:50,naturalWidth:50,children:(0,u.jsx)(a.xu,{height:"100%",width:"100%",left:!0,top:!0,alignItems:"center",justifyContent:"center",display:"flex",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,0.3)"}},children:(0,u.jsx)(a.ZP,{onClick:()=>{C&&k({event_type:T?101:102,view_type:f,view_parameter:x,component:R,element:P,aux_data:{content_ids:e,story_id:y,story_type:v}})},text:p,href:t,color:A?"gray":"white",size:j})})})})})})}},407109:(e,i,t)=>{t.d(i,{Z:()=>A});var n=t(667294),a=t(616550),o=t(883119),l=t(388011),r=t(833122),s=t(316196),d=t(24286),c=t(536042),u=t(941819),p=t(806681),_=t(785893);function m({item:e={},imagePlaceholderColor:i=u.hK,onTap:t}){var a,l;const r=(0,c.ZP)(),m=null==e||null===(a=e.cover_images)||void 0===a?void 0:a[0],h=null==m?void 0:m["236x"];return(0,_.jsx)(o.iP,{onTap:t,children:(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(p.q,{children:({hovered:e,onMouseEnter:t,onMouseLeave:n})=>(0,_.jsx)(o.xu,{marginBottom:2,"data-test-id":"category-bubble",onMouseEnter:t,onMouseLeave:n,children:(0,_.jsxs)(o.zd,{height:d.yF,rounding:"circle",wash:!0,width:d.yF,children:[(0,_.jsx)(s.Z,{hovered:e,rounding:"circle"}),(0,_.jsx)(o.Ee,{alt:r._('Image previewing contents of an item', 'itemRep.userRep.previewImage', 'alt text for an image previewing the contents of an item'),color:i,fit:"cover",naturalHeight:d.yF,naturalWidth:d.yF,src:(null==h?void 0:h.url)||""})]})})}),(null==e||null===(l=e.title)||void 0===l?void 0:l.format)&&(0,_.jsx)(o.xu,{width:d.yF,children:(0,_.jsx)(o.xv,{align:"center",weight:"bold",children:e.title.format})})]})})}var h=t(364187),g=t(345990),y=t(294347),v=t(549201);const f=157,x=({item:e={},onTap:i})=>{var t,n,a,l;const r=(0,c.ZP)(),s=(0,v.HG)(),u=null===(t=e.action)||void 0===t?void 0:t.url;if(!u)return null;const p=e.curator||{},m=p.full_name||"",x=p.username||"",b=p.image_medium_url||"",P=(null===(n=p.verified_identity)||void 0===n?void 0:n.verified)||!1,S=p.is_verified_merchant||!1,[w,I]=e.cover_images||[],T=(null===(a=w["170x"])||void 0===a?void 0:a.url)||"",A=(null===(l=I["170x"])||void 0===l?void 0:l.url)||"",k=s?d.yF:d.tG;return(0,_.jsxs)(o.xu,{width:k,"data-test-id":"default-brand-article",children:[(0,_.jsx)(o.Tg,{rounding:3,href:u,accessibilityLabel:"",onTap:i,children:(0,_.jsxs)(o.xu,{height:f,children:[(0,_.jsx)(o.zd,{rounding:4,height:f,width:k,wash:!0,children:(0,_.jsxs)(o.kC,{children:[(0,_.jsx)(h.Z,{height:f,width:k/2,src:T}),(0,_.jsx)(o.xu,{color:"default",width:1}),(0,_.jsx)(h.Z,{height:f,width:k/2,src:A})]})}),(0,_.jsx)(o.xu,{display:"flex",justifyContent:"center",marginTop:-8,children:(0,_.jsx)(g.Z,{size:64,src:b||"",color:"gray",fullName:m||x})})]})}),(0,_.jsx)(o.xu,{height:40}),m&&(0,_.jsx)(y.Z,{name:m,isDomainVerified:P,isVerifiedMerchant:S}),(0,_.jsx)(o.xu,{marginTop:2,marginBottom:2,justifyContent:"center",width:"100%",display:"flex",children:(0,_.jsx)(o.ZP,{text:r._('Shop', 'StructuredFeed.ItemReps.ExploreArticleRep.DefaultBrandArticle.ButtonText', 'Text on a button under a brand article that leads to a feed of products from that brand'),size:"lg",href:u,accessibilityLabel:r._('Navigate to a feed of products from this brand', 'StructuredFeed.ItemReps.ExploreArticleRep.DefaultBrandArticle.linkAccessibilityLabel', 'Accessibility label on a brand article that leads to a feed of products from that brand')})})]})},b="pill";var P=t(22299),S=t(740612),w=t(687376);const I=()=>{},T={2:m,3:function({item:e={},onTap:i}){const t=(0,c.ZP)(),n=null==e?void 0:e.identifier_icon_type,{icon:a,text:l}=((e,i)=>{switch(e){case 2:return{icon:"workflow-status-all",text:i._('Categories', 'NavigationBubble.NavigationIcon.utils', 'Categories navigation button text')};case 3:return{icon:"shopping-bag",text:i._('Stores', 'ExploreArticleRep.NavigationBubble.utils', 'Stores navigation button text')};case 4:return{icon:"terms",text:i._('Your items', 'ExploreArticleRep.NavigationBubble.utils', 'Your items navigation button text')};default:return{icon:null}}})(n,t);return(0,_.jsx)(o.iP,{onTap:i,tapStyle:"compress",rounding:a?5:b,children:(0,_.jsx)(p.q,{children:({active:i,hovered:t,onMouseEnter:n,onMouseLeave:r,onFocus:c,onBlur:u})=>{var p,m,h;return(0,_.jsxs)(o.xu,{"data-test-id":"navigation-bubble",onMouseEnter:n,onMouseLeave:r,onFocus:c,onBlur:u,rounding:5,children:[a&&(0,_.jsxs)(o.zd,{height:85,rounding:5,wash:!0,width:85,children:[(0,_.jsx)(s.Z,{hovered:t}),(0,_.jsx)(o.xu,{alignItems:"center",color:"secondary",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%",children:(0,_.jsx)(o.JO,{accessibilityLabel:l||"",color:"default",icon:a,size:32})})]}),l&&(0,_.jsx)(o.xu,{marginTop:2,width:85,children:(0,_.jsx)(o.xv,{align:"center",weight:"bold",children:l})}),!a&&!l&&(null==e||null===(p=e.title)||void 0===p?void 0:p.format)&&(0,_.jsx)(o.xu,{rounding:b,dangerouslySetInlineStyle:{__style:{backgroundColor:null===(m=e.aux_fields)||void 0===m?void 0:m.button_background_color}},children:(0,_.jsx)(o.xu,{rounding:b,padding:4,dangerouslySetInlineStyle:{__style:{backgroundColor:(i?"rgba(0, 0, 0, 0.15)":t&&"rgba(0, 0, 0, 0.06)")||void 0}},children:(0,_.jsx)(o.xv,{align:"center",weight:"normal",color:"#ffffff"===(null===(h=e.aux_fields)||void 0===h?void 0:h.button_text_color)?"inverse":"default",children:(0,_.jsx)(o.xu,{maxWidth:d.yF-16,overflow:"hidden",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",textOverflow:"ellipsis"}},children:e.title.format})})})})]})}})})},1:function({item:e={},onTap:i}){var t;const n=(0,c.ZP)(),a=null==e||null===(t=e.cover_images)||void 0===t?void 0:t[0],l=null==a?void 0:a["236x"];return(0,_.jsx)(o.iP,{onTap:i,tapStyle:"compress",rounding:3,children:(0,_.jsx)(p.q,{children:({hovered:i,onMouseEnter:t,onMouseLeave:a})=>{var r;return(0,_.jsx)(o.xu,{"data-test-id":"search-bubble",onMouseEnter:t,onMouseLeave:a,rounding:3,children:(0,_.jsxs)(o.zd,{height:150,rounding:3,wash:!0,width:300,children:[(0,_.jsx)(s.Z,{hovered:i}),(0,_.jsx)(o.Ee,{alt:n._('Image previewing contents of an item', 'itemRep.userRep.previewImage', 'alt text for an image previewing the contents of an item'),fit:"cover",naturalHeight:150,naturalWidth:300,role:"presentation",src:(null==l?void 0:l.url)||"",children:(0,_.jsx)(o.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",justifyContent:"center",height:150,padding:3,position:"absolute",top:!0,width:300,children:(null==e||null===(r=e.title)||void 0===r?void 0:r.format)&&(0,_.jsx)(o.X6,{color:"inverse",size:"400",children:e.title.format})})})]})})}})})},4:S.Z,13:x,19:w.ZP,20:P.ZP};function A(e){var i,t;const{component:s,slotIndex:d,item:c,showExpandedHeader:u,story:p,view:h,viewParameter:g}=e,{display_options:y,story_type:v,id:f,content_ids:x}=p||{},{logContextEvent:b}=(0,l.v)(),P=(0,a.useHistory)(),S=null==c?void 0:c.id,w=(0,n.useMemo)((()=>({story_type:v,story_id:f,content_ids:x,article_id:S})),[S,x,f,v]),A=(0,r.Z)({componentType:s,contextLogData:w,impressionType:"Article",loggingId:S,objectIdStr:S,slotIndex:d,viewParameter:g,viewType:h}),k=u?null==y||null===(i=y.item_view_rep_style)||void 0===i?void 0:i.expanded_explore_article_rep_style:null==y||null===(t=y.item_view_rep_style)||void 0===t?void 0:t.explore_article_rep_style,{action:E}=c||{},{url:C=""}=E||{},j=Object.hasOwnProperty.call(T,k)?T[k]:m,R=u?I:()=>{P.push(C),b({event_type:101,component:s,view_type:h,view_parameter:g,aux_data:w})};return(0,_.jsx)(o.xu,{ref:A,children:(0,_.jsx)(j,{...e,onTap:R})})}},22299:(e,i,t)=>{t.d(i,{ZP:()=>f,dZ:()=>y,mR:()=>v});var n=t(883119),a=t(9507),o=t(393272),l=t(549201),r=t(785893);const s=118,d=137,c=80,u=92,p=160,_=186,m=108,h=126,g=4,y=216,v=258;function f({item:e,onTap:i}){const t=(0,l.HG)(),{action:f,cover_images:x,aux_fields:b,title:P,subtitle:S,dominant_colors:w=[]}=e,I=(null==P?void 0:P.format)||"",{background_color:T}=b||{};if(!(I&&x&&f&&T))return null;const A=t?v:y,k=t?_:p,E=t?h:m,C=t?d:s,j=t?u:c,R=(null==S?void 0:S.format)||"",D=x.slice(0,3).map((e=>{var i;return(null===(i=(0,o.Z)({images:e,resolutionPreferences:["200x","236x","400x"]}))||void 0===i?void 0:i.url)||""})),F=(0,a.zI)(T)?"light":"dark";return(0,r.jsx)(n.iP,{onTap:i,tapStyle:"compress",rounding:g,children:(0,r.jsx)(n.xu,{"data-test-id":"stacked-collage-display-card",rounding:g,width:A,height:A,dangerouslySetInlineStyle:{__style:{backgroundColor:T}},overflow:"hidden",children:(0,r.jsxs)(n.xu,{position:"relative",height:A,padding:2,children:[(0,r.jsxs)(n.xu,{marginTop:4,marginBottom:3,children:[(0,r.jsx)(n.kC,{justifyContent:"center",children:(0,r.jsx)(n.xv,{lineClamp:1,align:"center",size:"400",weight:"bold",color:F,children:I})}),R&&(0,r.jsx)(n.xu,{display:"flex",justifyContent:"center",marginTop:1,children:(0,r.jsx)(n.xv,{lineClamp:1,align:"center",size:"100",color:F,children:null==S?void 0:S.format})})]}),(0,r.jsx)(n.xu,{position:"absolute",left:!0,bottom:!0,children:(0,r.jsx)(n.zd,{height:C,wash:!0,width:j,rounding:g,children:(0,r.jsx)(n.xu,{height:C,width:j,children:(0,r.jsx)(n.Ee,{alt:"",color:w[1],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:D[1]})})})}),(0,r.jsx)(n.xu,{position:"absolute",right:!0,bottom:!0,children:(0,r.jsx)(n.zd,{height:C,wash:!0,width:j,rounding:g,children:(0,r.jsx)(n.xu,{height:C,width:j,children:(0,r.jsx)(n.Ee,{alt:"",color:w[2],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:D[2]})})})}),(0,r.jsx)(n.xu,{display:"flex",justifyContent:"center",left:!0,right:!0,dangerouslySetInlineStyle:{__style:{bottom:"-22px"}},position:"absolute",children:(0,r.jsx)(n.zd,{height:k,wash:!0,width:E,rounding:g,children:(0,r.jsx)(n.xu,{height:k,width:E,children:(0,r.jsx)(n.Ee,{alt:"",color:w[0],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:D[0]})})})})]})})})}},740612:(e,i,t)=>{t.d(i,{Z:()=>s,u:()=>l});var n=t(883119),a=t(785893);const o=258,l=369,r=4;function s({item:e,onTap:i,slotIndex:t}){const{action:s,aux_fields:d,cover_images:c,dominant_colors:u,title:p}=e;if(!p||!c||!s)return null;const _=c.length<=0?[{}]:c.slice(0,2);return(0,a.jsx)(n.iP,{onTap:i,tapStyle:"compress",rounding:r,children:(0,a.jsxs)(n.xu,{alignItems:"center","data-test-id":"style-bubble",display:"flex",height:o,justifyContent:"center",overflow:"hidden",position:"relative",rounding:r,width:l,children:[(0,a.jsx)(n.kC,{children:_.map(((e,i)=>{var r,s,d;return(0,a.jsx)(n.zd,{height:o,wash:!0,width:l/_.length,children:(0,a.jsx)(n.Ee,{alt:"",color:(u||[])[i],fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:(null===(r=e["474x"])||void 0===r?void 0:r.url)||(null===(s=e["736x"])||void 0===s?void 0:s.url)||(null===(d=e["236x"])||void 0===d?void 0:d.url)||""})},`styleCarousel_bubble${t}_pin${i}`)}))}),(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:null==d?void 0:d.button_background_color}},paddingX:4,paddingY:3,position:"absolute",rounding:"pill",children:(0,a.jsx)(n.xv,{align:"center",weight:"bold",children:(0,a.jsx)("span",{style:{color:null==d?void 0:d.button_text_color,margin:"0"},children:p.format})})})]})})}},687376:(e,i,t)=>{t.d(i,{Gd:()=>p,ZP:()=>m,d:()=>_});var n=t(883119),a=t(393272),o=t(549201),l=t(785893);const r=150,s=200,d=108,c=124,u=4,p=3*d,_=3*c;function m({item:e,onTap:i}){const t=(0,o.HG)(),{action:m,cover_images:h,dominant_colors:g,title:y,subtitle:v}=e,f=null==y?void 0:y.format;if(!f||!h||!m)return null;const x=t?s:r,b=t?c:d,P=t?_:p,S=(null==v?void 0:v.format)||"",w=h.slice(0,3);return(0,l.jsx)(n.iP,{onTap:i,tapStyle:"compress",rounding:u,children:(0,l.jsxs)(n.xu,{"data-test-id":"triple-preview-display-card",rounding:u,width:P,children:[(0,l.jsx)(n.zd,{height:x,wash:!0,width:P,rounding:u,children:(0,l.jsx)(n.kC,{alignItems:"stretch",justifyContent:"start",children:w.map(((e,i)=>{var t;const o=(null===(t=(0,a.Z)({images:e,resolutionPreferences:["200x","236x","400x"]}))||void 0===t?void 0:t.url)||"";return(0,l.jsx)(n.xu,{height:x,width:b,children:(0,l.jsx)(n.Ee,{alt:"",color:(g||[])[i],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:o})},o)}))})}),(0,l.jsxs)(n.xu,{marginTop:4,children:[(0,l.jsx)(n.kC,{justifyContent:"center",children:(0,l.jsx)(n.xv,{size:"400",weight:"bold",align:"center",children:f})}),S&&(0,l.jsx)(n.xu,{display:"flex",justifyContent:"center",marginTop:1,children:(0,l.jsx)(n.xv,{size:t?"200":"100",color:"subtle",align:"center",children:S})})]})]})})}},527793:(e,i,t)=>{t.d(i,{ZP:()=>g,lf:()=>m,wg:()=>h,xR:()=>_});var n=t(883119),a=t(628062),o=t(279203),l=t(134661),r=t(784980),s=t(19494),d=t(549201),c=t(785893);const u=110,p=90,_=299,m=270,h=232;function g(e){var i;const{pinCards:t,isClicked:g,isHovered:y,item:v={},story:f}=e,x=(0,d.HG)(),b=(0,s.Z)(),P=f&&(null===(i=f.objects)||void 0===i?void 0:i.length),{board_name:S,header_text:w,top_image_dominant_color_rgb:I}=v;let T=g?u-4:u,A=g?_-4:_;x||(T=p,A=1===P?"100%":b?h:m);let k=155;return x||(k=b?108:148),(0,c.jsxs)(n.xu,{height:T,display:"flex",paddingY:2,position:"relative",rounding:a.N3,width:A,dangerouslySetInlineStyle:{__style:(0,l.f)(I,g,y)},children:[(0,c.jsx)(r.Z,{}),(0,c.jsx)(n.xu,{width:x?112:100,position:"relative",children:t.map(((e,i)=>(0,c.jsx)(o.Z,{fanOut:y||g,card:e,index:i,size:x?"SMALL":"MOBILE"},i)))}),(0,c.jsxs)(n.xu,{display:"flex",direction:"column",justifyContent:"center",marginStart:x?2:3,width:k,children:[(0,c.jsx)(n.xv,{size:x?"200":"100",children:w}),(0,c.jsx)(n.xv,{lineClamp:2,size:"400",weight:"bold",children:S})]})]})}},849191:(e,i,t)=>{t.d(i,{Z:()=>g});var n=t(667294),a=t(883119),o=t(388011),l=t(628062),r=t(527793),s=t(279203),d=t(134661),c=t(784980),u=t(785893);var p=t(549201);const _=700,m={1:r.ZP,3:function(e){const{pinCards:i,isClicked:t,isHovered:n,item:o}=e,{board_name:r,top_image_dominant_color_rgb:p}=o;return(0,u.jsxs)(a.xu,{height:t?165:169,display:"flex",alignItems:"end",justifyContent:"center",paddingX:4,paddingY:3,position:"relative",rounding:l.N3,width:t?232:236,dangerouslySetInlineStyle:{__style:(0,d.f)(p,t,n)},children:[(0,u.jsx)(c.Z,{}),i.map(((e,i)=>(0,u.jsx)(s.Z,{fanOut:n||t,card:e,index:i,size:"DEFAULT"},i))),(0,u.jsx)(a.xv,{align:"center",lineClamp:1,size:"200",weight:"bold",children:r})]})},4:function(e){var i;const{logContextEvent:t}=(0,o.v)(),{pinCards:n,isHovered:r,item:p,view:_,viewParameter:m}=e,{action:h,board_name:g,header_text:y,ideas_deep_link_url:v,top_image_dominant_color_rgb:f}=p,x=null!==(i=null==h?void 0:h.url)&&void 0!==i?i:v.concat("?ideas_referrer=25");return(0,u.jsxs)(a.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"end",marginBottom:6,minHeight:377,position:"relative",paddingX:4,paddingY:8,rounding:l.N3,width:236,dangerouslySetInlineStyle:{__style:(0,d.f)(f,!1,r)},children:[n.map(((e,i)=>(0,u.jsx)(s.Z,{fanOut:r,card:e,index:i,size:"LARGE"},i))),(0,u.jsx)(a.xu,{height:168,width:"100%"}),(0,u.jsx)(c.Z,{}),(0,u.jsxs)(a.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"end",children:[(0,u.jsxs)(a.xu,{display:"flex",direction:"column",alignItems:"center",marginTop:5,marginBottom:5,children:[(0,u.jsx)(a.xu,{marginBottom:1,children:(0,u.jsx)(a.xv,{size:"200",weight:"bold",children:y})}),(0,u.jsx)(a.xv,{align:"center",size:"500",weight:"bold",children:g})]}),(0,u.jsx)(a.xu,{display:"flex",justifyContent:"center",marginTop:1,position:"relative",width:"100%",children:(0,u.jsx)(a.ZP,{color:"white",href:x,size:"lg",onClick:({event:e})=>{e.stopPropagation(),t({event_type:101,view_type:_,view_parameter:m,component:14268,element:13002,object_id_str:p.board_id})},text:"Explore"})})]})]})}},h=["100%","60%"];function g(e){var i,t;const{component:r,isInViewOrNext:s,item:{action:c,board_id:g,ideas_deep_link_url:y,images:v,image_dominant_color_rgb:f},slotIndex:x,story:b={},view:P,viewParameter:S}=e,{logContextEvent:w}=(0,o.v)(),I=(0,p.ZP)(),{display_options:T,objects:A}=b,k=null==A?void 0:A.length,[E,C]=(0,n.useState)(!1),[j,R]=(0,n.useState)(!1),[D,F]=(0,n.useState)(!1);(0,n.useEffect)((()=>{if("desktop"===I){const e=setTimeout((()=>F(!0)),_);return()=>{clearTimeout(e)}}}),[I]);let L=[];const O="desktop"!==I?l.mS:l.S$;(s||"desktop"!==I)&&(L=D?[...v[O]]:[v[O][0]]);const z=3-L.length;for(let n=0;n<z;n+=1)L.push({colorRGB:f,opacity:h[n]});L.reverse();const N=null==T||null===(i=T.item_view_rep_style)||void 0===i?void 0:i.more_ideas_rep_style,M=m[N],B=r||d.k[N],Z=null!==(t=null==c?void 0:c.url)&&void 0!==t?t:y.concat("?ideas_referrer=25");return M&&(0,u.jsx)(a.Tg,{href:Z,onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1),onMouseDown:()=>R(!0),onTap:()=>w({event_type:101,view_type:P,view_parameter:S,component:B,element:13002,object_id_str:g,aux_data:{index:x,total_object_count:k}}),children:(0,u.jsx)(M,{isClicked:j,isHovered:E,pinCards:L,...e})})}},279203:(e,i,t)=>{t.d(i,{Z:()=>r,i:()=>o});var n=t(883119),a=t(785893);const o={MOBILE:{HEIGHT_PX:64,WIDTH_PX:48},SMALL:{HEIGHT_PX:72,WIDTH_PX:54},DEFAULT:{HEIGHT_PX:96,WIDTH_PX:72},LARGE:{HEIGHT_PX:130,WIDTH_PX:98}},l=(e,i,t)=>{let n;switch(t){case"MOBILE":n={0:{transform:"rotate(-15deg)",top:"6px",left:"16px"},1:{transform:"rotate(0deg)",top:"3px",left:"30px"},2:{transform:"rotate(15deg)",top:"6px",left:"44px"}};break;case"SMALL":n={0:{transform:i?"rotate(-22deg)":"rotate(-15deg)",top:"12px",left:"12px"},1:{transform:i?"rotate(1deg)":"rotate(0deg)",top:i?"6px":"10px",left:"26px"},2:{transform:i?"rotate(24deg)":"rotate(15deg)",top:"12px",left:"40px"}};break;case"LARGE":n={0:{transform:i?"rotate(-26deg)":"rotate(-15deg)",top:"50px",left:"44px"},1:{transform:i?"rotate(1deg)":"rotate(0deg)",top:i?"36px":"40px",left:"68px"},2:{transform:i?"rotate(26deg)":"rotate(15deg)",top:"56px",left:"98px"}};break;default:n={0:{transform:i?"rotate(-22deg)":"rotate(-15deg)",top:"20px",left:"64px"},1:{transform:i?"rotate(1deg)":"rotate(0deg)",top:i?"10px":"14px",left:"82px"},2:{transform:i?"rotate(24deg)":"rotate(15deg)",top:"20px",left:"100px"}}}const a=n[e];return a.border="1px solid #FFFFFF",a.transition="all 150ms ease-out",a};function r({fanOut:e,card:i,index:t,size:r}){const s=o[r],{height:d=s.HEIGHT_PX,url:c,width:u=s.WIDTH_PX,colorRGB:p,opacity:_}=i;let m;return c?m=(0,a.jsx)(n.Ee,{alt:c,fit:"cover",naturalHeight:d,naturalWidth:u,src:c}):p&&_&&(m=(0,a.jsx)(n.xu,{height:s.HEIGHT_PX,width:s.WIDTH_PX,dangerouslySetInlineStyle:{__style:{backgroundColor:`rgba(${p.join(", ")}, ${_})`}}})),(0,a.jsx)(n.xu,{rounding:5,position:"absolute",dangerouslySetInlineStyle:{__style:l(t,e,r)},children:(0,a.jsx)(n.zd,{height:s.HEIGHT_PX,rounding:5,width:s.WIDTH_PX,wash:!0,children:m})})}},784980:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(883119),a=t(628062),o=t(785893);function l(){return(0,o.jsx)(n.xu,{position:"absolute",rounding:a.N3,top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.03)"}}})}},628062:(e,i,t)=>{t.d(i,{N3:()=>n,Ql:()=>a,S$:()=>l,a$:()=>o,mS:()=>r});const n=4,a=.35,o=.5,l="170x",r="136x136"},134661:(e,i,t)=>{t.d(i,{f:()=>a,k:()=>o});var n=t(628062);const a=(e,i,t)=>{return{backgroundColor:`rgba(${e.join(", ")}, ${a=t||i,a?n.a$:n.Ql})`,marginRight:i?"2px":"0px",marginLeft:i?"2px":"0px"};var a},o={1:14114,3:14074,4:14268}},294219:(e,i,t)=>{t.d(i,{Z:()=>m});var n=t(616550),a=t(883119),o=t(24286),l=t(520636),r=t(938818),s=t(739425),d=t(549201),c=t(684993),u=t(785893);const p=new Set(["shopping_module_closeup","product_pins","shopping_list","shop_tab_upsell"]),_=e=>null!=e&&e.shop_source||p.has(null==e?void 0:e.story_type)?"ShoppingDynamicHeightGrid":"StoryFeedNonProduct";function m(e){var i,t,p;const{pins_display:m}=(0,s.mB)((0,n.useLocation)().search),{component:h,isInMobileCarousel:g,imageWidth:y,item:v,slideWidth:f,slotIndex:x,story:b,surface:P,view:S,viewParameter:w}=e,I=null!=y?y:o.yF,T="desktop"===(0,d.ZP)(),A=T?I:o.tG;if(!v)return null;const{story_type:k,id:E,content_ids:C,display_options:j}=b||{},{pins_display:R}=(null==j?void 0:j.content_display)||{},{id:D,debug:F}=v,L=![3,1].includes(null!=R?R:Number(m)),O={story_type:k,story_id:E,content_ids:C},z=P||_(b),N={auxData:O,componentType:null!==(i=null==b||null===(t=b.display_options)||void 0===t||null===(p=t.content_display)||void 0===p?void 0:p.component_type)&&void 0!==i?i:h,impressionData:O,pinId:D,slotIndex:x,viewData:{pin_id:D},viewParameter:w,viewType:S},M={authDesktopSurface:z,disableHover:!T,pin:v,pinImageCrop:L?{height:A,width:A}:null},B={duploDisablePinCardPadding:g,duploIsSquarePin:L,duploQueryRef:null,trafficSource:"ShoppingDynamicHeightGrid"===z?"shop_feed":void 0},Z=(0,u.jsxs)(a.xu,{"data-test-id":l.Kb,children:[(0,u.jsx)(c.ZP,{...N,...M,...B}),F&&(0,u.jsx)(r.Wu,{data:F})]});return L?(0,u.jsx)(a.xu,{flex:"none",width:g?f:A,children:Z},D):Z}},364187:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(883119),a=t(785893);function o({height:e,width:i,src:t}){return(0,a.jsx)(n.xu,{height:e,width:i,children:(0,a.jsx)(n.Ee,{naturalHeight:e,naturalWidth:i,src:t,color:"lightGray",fit:"cover",alt:"",role:"presentation"})})}},435628:(e,i,t)=>{t.d(i,{Z:()=>v});var n=t(667294),a=t(616550),o=t(883119),l=t(388011),r=t(833122),s=t(24286),d=t(345990),c=t(294347),u=t(941819),p=t(785893);const _=({item:e,imagePlaceholderColor:i=u.hK})=>{const{username:t,image_large_url:n,full_name:a,domain_verified:l=!1,is_verified_merchant:r=!1}=e;return(0,p.jsxs)(o.xu,{width:s.yF,children:[(0,p.jsx)(o.xu,{display:"flex",justifyContent:"center",marginBottom:2,children:(0,p.jsx)(d.Z,{size:120,fullName:a||t,src:n||"",color:i})}),a&&(0,p.jsx)(c.Z,{name:a,isDomainVerified:l,isVerifiedMerchant:r})]})};var m=t(364187);const h=.4*s.yF,g=.75*s.yF,y={5:_,1:({item:e={},story:i,imagePlaceholderColor:t=u.hK})=>{var n,a,l;const{username:r,image_large_url:_,full_name:y,id:v,domain_verified:f=!1,is_verified_merchant:x=!1}=e,b=(null==i||null===(n=i.custom_properties)||void 0===n||null===(a=n.preview_image_map)||void 0===a||null===(l=a[v])||void 0===l?void 0:l[0])||"";return(0,p.jsxs)(o.xu,{width:s.yF,height:s.yF,children:[(0,p.jsx)(o.zd,{rounding:4,height:g,width:s.yF,wash:!0,children:(0,p.jsx)(m.Z,{height:s.yF,width:s.yF,src:b})}),(0,p.jsx)(o.xu,{display:"flex",justifyContent:"center",marginTop:-12,marginBottom:2,children:(0,p.jsx)(d.Z,{size:h,src:_||"",color:t,fullName:y||r})}),y&&(0,p.jsx)(c.Z,{name:y,isDomainVerified:f,isVerifiedMerchant:x})]})},2:({item:e={},story:i})=>{var t,n;const{username:a,image_large_url:l,full_name:r,id:u,domain_verified:_=!1,is_verified_merchant:y=!1}=e,[v="",f=""]=(null==i||null===(t=i.custom_properties)||void 0===t||null===(n=t.preview_image_map)||void 0===n?void 0:n[u])||[];return(0,p.jsxs)(o.xu,{width:s.yF,children:[(0,p.jsxs)(o.xu,{height:s.yF,children:[(0,p.jsx)(o.zd,{rounding:4,height:g,width:s.yF,wash:!0,children:(0,p.jsxs)(o.kC,{children:[(0,p.jsx)(m.Z,{height:s.yF,width:s.yF/2,src:v}),(0,p.jsx)(o.xu,{color:"default",width:2}),(0,p.jsx)(m.Z,{height:s.yF,width:s.yF/2,src:f})]})}),(0,p.jsx)(o.xu,{display:"flex",justifyContent:"center",marginTop:-12,marginBottom:2,children:(0,p.jsx)(d.Z,{size:h,src:l||"",color:"gray",fullName:r||a})})]}),r&&(0,p.jsx)(c.Z,{name:r,isDomainVerified:_,isVerifiedMerchant:y})]})}};function v(e){var i,t;const{logContextEvent:s}=(0,l.v)(),d=(0,a.useHistory)(),{story:c={},slotIndex:u,component:_,view:m,viewParameter:h,item:g}=e,v=(null===(i=c.display_options)||void 0===i||null===(t=i.item_view_rep_style)||void 0===t?void 0:t.user_rep_style)||5,f=y[v],x=(0,n.useMemo)((()=>({story_type:c.story_type,story_id:c.id,content_ids:c.content_ids,user_id:g.id})),[g,c]),b=(0,r.Z)({contextLogData:x,impressionType:"User",loggingId:g.id,objectIdStr:g.id,slotIndex:u,viewParameter:h,viewType:m});return f?(0,p.jsx)(o.iP,{ref:b,onTap:()=>{s({event_type:101,view_type:m,view_parameter:h,component:_,aux_data:x}),d.push(`/${g.username}`)},children:(0,p.jsx)(f,{...e})}):null}},345990:(e,i,t)=>{t.d(i,{Z:()=>d});var n=t(883119),a=t(316196),o=t(536042),l=t(630089),r=t(806681),s=t(785893);function d({color:e,fullName:i,size:t,src:d}){const c=(0,o.ZP)();return(0,s.jsx)(r.q,{children:({hovered:o,onMouseEnter:r,onMouseLeave:u})=>(0,s.jsx)(n.xu,{marginBottom:2,"data-test-id":"category-bubble",onMouseEnter:r,onMouseLeave:u,children:(0,s.jsxs)(n.zd,{height:t,rounding:"circle",width:t,wash:!0,children:[(0,s.jsx)(a.Z,{hovered:o,rounding:"circle"}),(0,s.jsx)(n.Ee,{naturalHeight:t,naturalWidth:t,src:d,color:e,alt:(0,l.nk)(c._('Logo of {{ fullName }}', 'itemRep.userRep.brandLogo', 'Alt text for the brand logo'),{fullName:i}).join("")})]})})})}},294347:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(883119),a=t(251163),o=t(785893);function l({name:e,isDomainVerified:i,isVerifiedMerchant:t}){return(0,o.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"center",alignContent:"center",gap:1,children:[e&&(0,o.jsx)(n.xv,{inline:!0,weight:"bold",children:e}),(0,o.jsx)(a.Z,{size:"sm",isVerifiedMerchant:t,hasVerifiedIdentity:i})]})}},733245:(e,i,t)=>{t.d(i,{i:()=>r});var n=t(883119),a=t(24286),o=t(785893);function l(){return(0,o.jsx)(n.xu,{width:a.yF})}function r(e){return new Array(e).fill().map(((e,i)=>(0,o.jsx)(l,{},i)))}},93082:(e,i,t)=>{t.d(i,{Z:()=>P,v:()=>g});var n=t(167912),a=t.n(n),o=t(240684),l=t(873213),r=t(128340),s=t(448709),d=t(407109),c=t(849191),u=t(294219),p=t(435628),_=t(785893),m;const h=(0,o.ZP)({resolved:{},chunkName:()=>"DefaultPinRep",isReady(e){const i=this.resolve(e);return!0===this.resolved[i]&&!!t.m[i]},importAsync:()=>Promise.all([t.e(97270),t.e(39921)]).then(t.bind(t,593502)),requireAsync(e){const i=this.resolve(e);return this.resolved[i]=!1,this.importAsync(e).then((e=>(this.resolved[i]=!0,e)))},requireSync(e){const i=this.resolve(e);return t(i)},resolve(){return 593502}});function g(e){var i;return"pin"===(null==e?void 0:e.type)&&((null===(i=e.images)||void 0===i?void 0:i["236x"])||{}).url||null}const y=void 0!==m?m:m=t(502763);function v(e){var i,t,n;const{itemData:a,...o}=e,{slotIndex:s,view:m,item:g}=e,{pinId:y,pinGraphQLRef:v}=a;if(v)return y&&m?(0,_.jsx)(h,{duploQueryRef:v,slotIndex:s,pinId:y,viewType:m}):null;switch(null==g?void 0:g.type){case"pin":return(0,_.jsx)(u.Z,{...o});case"user":return(0,_.jsx)(p.Z,{...o});case"board_more_ideas_feed_upsell":return(0,_.jsx)(c.Z,{...o});case"explorearticle":return(0,_.jsx)(d.Z,{...o});case"productgroup":const e=g;return(0,_.jsx)(l.Z,{productGroup:{coverImages:null===(i=e.cover_images)||void 0===i?void 0:i.map((e=>(0,r.b)(e))),description:e.description,entityId:null!==(t=e.id)&&void 0!==t?t:"",groupType:e.group_type,name:e.name,previewPins:null===(n=e.preview_pins)||void 0===n?void 0:n.map((e=>({imageSignature:e.image_signature,images:e.images&&(0,r.b)(e.images)})))},slotIndex:s});default:return null}}const f=e=>e?{item:e,pinGraphQLRef:null}:null,x=e=>{const i=(0,n.useFragment)(y,e),{pinId:t}=i;return{pinId:t,pinGraphQLRef:i}},b=(0,s.Z)({useGraphQLAdapter:x,useLegacyAdapter:f});function P({pinGraphQLRef:e,...i}){return(0,_.jsx)(b,{input:e?{enabled:!0,data:e}:{enabled:!1,data:i.item},children:({data:e})=>e&&(0,_.jsx)(v,{...i,itemData:e})})}},476108:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(883119),a=t(941819),o=t(785893);const l=new Map([["pin",4]]);function r({children:e,itemType:i}){return(0,o.jsx)(n.xu,{marginBottom:l.get(i)||a.mT,children:e})}},941819:(e,i,t)=>{t.d(i,{g5:()=>l,hK:()=>a,mT:()=>o});var n=t(294219);const a="lightGray",o=8,l={itemRep:n.Z,shape:"square",getImage:()=>""}},45640:(e,i,t)=>{t.d(i,{Z:()=>M});var n,a=t(667294),o=t(167912),l=t(883119),r=t(603801),s=t(448709),d=t(24286),c=t(536042),u=t(281993),p=t(22299),_=t(740612),m=t(687376),h=t(527793),g=t(134661),y=t(93082),v=t(478860),f=t(583798),x=t(19494),b=t(619937),P=t(223228),S=t(549201),w=t(515213),I=t(310131),T=t(455256),A=t(164377),k=t(51283),E=t(785893);const C=new Set([3,4]),j=new Set([1]),R=({text:e,url:i})=>Boolean(e)&&Boolean(i),D=e=>R(e)&&C.has(e.location),F=e=>R(e)&&j.has(e.location),L=void 0!==n?n:n=t(366234),O=({isMoreIdeasListCard:e,isStyleBubble:i,isStorefrontSpotlightCarousel:t,isSfModuleOnMobile:n,isSmallMobileScreen:a,isStackedCollageDisplayCard:o,isTriplePreviewDisplayCard:l,totalObjectCount:r,containerRef:s,deviceType:c,windowWidth:u,mobileContentVisibleItemCount:g})=>{const y=n?d.tG:d.yF,v="desktop"===c;if(l)return v?m.d:m.Gd;if(o)return v?p.mR:p.dZ;var f;if(e)return v?h.xR:1===r?(null===(f=s.current)||void 0===f?void 0:f.clientWidth)||0:a?h.wg:h.lf;if(i)return _.u;if(t)return k.PRODUCT_GROUP_COVER_IMAGE_DIMENSIONS.WIDTH;if(!v&&g){const e=Math.floor(g);return Math.min(Math.floor((u-e*d.yt)/g),d.tG)}return y};function z(e){var i,t,n,o,s,p,_,m,h,k,C,j,R,L,z,N;const{componentFallback:M,disableCarouselHeaderModule:B,initialSlotIndex:Z=0,storyData:U,surface:K,view:G,viewParameter:H}=e,{data:{contentIds:V,displayOptions:W,objects:$,action:Y,storyId:q,storyTitle:X,storyType:J},rawStoryData:Q,storyGraphqlRef:ee,__dataKeys:ie}=U,[te,ne]=(0,a.useState)(0),ae=(0,a.useRef)(null),oe=(0,P.Z)(),le=(0,x.Z)(),re=(0,S.ZP)(),se="desktop"===re,{width:de=0}=(0,r.Z)()||{},ce=(0,c.ZP)();if(!$)return null;const ue=null!==(i=null==W||null===(t=W.contentDisplay)||void 0===t?void 0:t.componentType)&&void 0!==i?i:M,pe=1===(null==W?void 0:W.carouselFadeEnds),_e=$.length,me={carouselSlots:$.map((e=>"graphql"===e.type?{title:void 0,id:void 0}:{title:e.data.title,id:e.data.id})),entityId:"",index:te},{text:he,url:ge,location:ye}=null!=Y?Y:{},ve={backgroundColor:"default",hoverColor:"default",iconColor:"default"},fe={backgroundColor:"secondary",hoverColor:"secondary",iconColor:"subtle",size:32},xe=null==W||null===(n=W.itemViewRepStyle)||void 0===n?void 0:n.moreIdeasRepStyle,be=1===xe,Pe=g.k[xe],Se=4===(null==W||null===(o=W.itemViewRepStyle)||void 0===o?void 0:o.exploreArticleRepStyle),we=13698===(null==W||null===(s=W.contentDisplay)||void 0===s?void 0:s.componentType),Ie=19===(null==W||null===(p=W.itemViewRepStyle)||void 0===p?void 0:p.exploreArticleRepStyle),Te=20===(null==W||null===(_=W.itemViewRepStyle)||void 0===_?void 0:_.exploreArticleRepStyle),Ae=null!==(null==W||null===(m=W.headerDisplay)||void 0===m?void 0:m.expandedTextAlignment),ke=null==W||null===(h=W.contentDisplay)||void 0===h||null===(k=h.contentVisibleItemCount)||void 0===k?void 0:k.mobile,Ee=O({containerRef:ae,isMoreIdeasListCard:be,isStyleBubble:Se,isStorefrontSpotlightCarousel:we,isSfModuleOnMobile:oe,isSmallMobileScreen:le,totalObjectCount:_e,isStackedCollageDisplayCard:Te,isTriplePreviewDisplayCard:Ie,deviceType:re,windowWidth:de,mobileContentVisibleItemCount:ke}),Ce=null==W||null===(C=W.contentDisplay)||void 0===C||null===(j=C.carouselDisplayOptions)||void 0===j?void 0:j.navigationType,je=se&&0===Ce,Re=se&&1===Ce,De=!se,Fe=se?d.oX:d.yt,Le=$.filter((({data:e})=>!!e)),Oe=null==W||null===(R=W.contentDisplay)||void 0===R||null===(L=R.gridLayout)||void 0===L?void 0:L.cols,ze="number"==typeof Oe?Oe:-1,Ne=ze*(se?d.yF:d.tG)+(ze-1)*Fe,Me=-1===ze||((null===(z=ae.current)||void 0===z?void 0:z.clientWidth)||0)<Ne?void 0:Ne,Be=(0,A.tD)({slotWidth:Ee,containerWidth:(null===(N=ae.current)||void 0===N?void 0:N.clientWidth)||0,gap:Fe,numberOfSlides:Le.length,index:te});return(0,E.jsxs)(l.kC,{direction:"column",width:Me,children:[X&&!B&&(0,E.jsx)(f.Z,{storyKey:ie.HeaderModule_story,showExpanded:Ae}),(0,E.jsxs)(l.xu,{position:"relative",ref:ae,marginBottom:je?8:0,children:[je&&(0,E.jsx)(I.default,{backNode:(0,E.jsx)(T.Z,{...ve,showFab:!0,iconType:"back"}),carouselData:me,carouselIndex:te,componentType:ue,forwardNode:(0,E.jsx)(T.Z,{...ve,showFab:!0,iconType:"forward"}),handleCarouselSwipe:e=>{ne(e)},isShowingLastSlide:Be,pinId:void 0,viewParameter:H,viewType:G,contextLogData:xe?{index:te}:{}}),(0,E.jsx)(w.Z,{componentType:Pe,containerRef:ae,gap:Fe,id:"structured-feed-carousel-module",impressionType:xe?"BoardMoreIdeasRep":"Pin",index:te,shouldBeDragCarousel:De,slideWidth:Ee,viewParameter:H,view:G,children:Le.map(((e,i)=>{var t,n;if(i===Le.length-1&&Y&&he&&ge&&D(Y)){const t="legacy"===e.type&&(0,y.v)(e.data)||"";return t&&(0,E.jsx)(u.Z,{buttonText:he,component:ue,contentIds:null!=V?V:void 0,element:179,previewImageSrc:t,url:ge,isInMobileCarousel:!se,slideWidth:Ee,storyId:null!=q?q:"",storyType:J,view:G,viewParameter:H},"graphql"===e.type?`${i}`:(0,b.Z)(e.data,i))}return(0,E.jsx)(y.Z,{isInViewOrNext:(0,A.Iw)({slotWidth:Ee,containerWidth:(null===(t=ae.current)||void 0===t?void 0:t.clientWidth)||0,gap:Fe,numberOfSlides:Le.length,index:i,currentIndex:te}),item:"legacy"===e.type?{...e.data,..."board_more_ideas_feed_upsell"===e.data.type?{header_text:ce._('More ideas for', 'moreIdeasBoardRepCarousel.carousel.headText', 'Header text for JBI Carousel on Homefeed')}:{}}:null,isInMobileCarousel:!se,slideWidth:Ee,slotIndex:Z+i,story:null!=Q?Q:void 0,surface:K,view:G,viewParameter:H,pinGraphQLRef:ee&&"graphql"===e.type&&"Pin"===(null===(n=e.data)||void 0===n?void 0:n.__typename)?e.data:null},"graphql"===e.type?`${i}`:(0,b.Z)(e.data,i))}))}),pe&&te>0&&(0,E.jsx)(l.xu,{height:"100%",position:"absolute",left:!0,top:!0,width:80,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(90deg, #FFFFFF 0%, rgba(255, 255, 255, 0) 100%)"}}}),pe&&!Be&&(0,E.jsx)(l.xu,{height:"100%",position:"absolute",right:!0,top:!0,width:80,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(270deg, #FFFFFF 0%, rgba(255, 255, 255, 0) 100%)"}}})]}),Re&&(0,E.jsx)(l.xu,{position:"relative",marginTop:3,marginBottom:8,width:"100%",children:(0,E.jsx)(I.default,{addEllipsis:!0,alwaysShowNavigationArrows:!0,backNode:(0,E.jsx)(T.Z,{...fe,showFab:!0,iconType:"back"}),carouselData:me,carouselIndex:te,componentType:ue,ellipsisVariant:"dark",forwardNode:(0,E.jsx)(T.Z,{...fe,showFab:!0,iconType:"forward"}),handleCarouselSwipe:e=>{ne(e)},isShowingLastSlide:Be,pinId:void 0,viewParameter:H,viewType:G,contextLogData:xe?{index:te}:{},sliderStyleOverride:{padding:"0px"}})}),Y&&F(Y)&&(0,E.jsx)(l.xu,{marginTop:4,children:(0,E.jsx)(v.Z,{text:he,location:ye,url:ge})})]})}const N=(0,s.Z)({useGraphQLAdapter:e=>{var i;const t=(0,o.useFragment)(L,e);return{data:{...t,objects:null===(i=t.objects)||void 0===i?void 0:i.map((e=>({type:"graphql",data:e})))},rawStoryData:null,storyGraphqlRef:t,__dataKeys:{HeaderModule_story:{type:"graphqlRef",data:t}}}},useLegacyAdapter:e=>{var i,t;return e&&{data:{action:e.action&&{location:e.action.location,text:e.action.text,url:e.action.url},contentIds:e.content_ids,displayOptions:e.display_options&&{contentDisplay:e.display_options.content_display&&{gridLayout:e.display_options.content_display.grid_layout&&{cols:e.display_options.content_display.grid_layout.cols},componentType:e.display_options.content_display.component_type,contentVisibleItemCount:{mobile:null===(i=e.display_options.content_display.content_visible_item_count)||void 0===i?void 0:i.mobile},carouselDisplayOptions:e.display_options.content_display.carousel_display_options&&{navigationType:e.display_options.content_display.carousel_display_options.navigation_type}},carouselFadeEnds:e.display_options.carousel_fade_ends,itemViewRepStyle:e.display_options.item_view_rep_style&&{exploreArticleRepStyle:e.display_options.item_view_rep_style.explore_article_rep_style,moreIdeasRepStyle:e.display_options.item_view_rep_style.more_ideas_rep_style},headerDisplay:e.display_options.header_display&&{expandedTextAlignment:e.display_options.header_display.expanded_text_alignment}},objects:null===(t=e.objects)||void 0===t?void 0:t.map((e=>({type:"legacy",data:e}))),storyId:e.id,storyTitle:e.title?{__typename:"StoryText"}:null,storyType:e.story_type},rawStoryData:e,storyGraphqlRef:null,__dataKeys:{HeaderModule_story:{type:"deprecated",data:e}}}}});function M({storyGraphqlRef:e,...i}){return(0,E.jsx)(N,{input:e?{enabled:!0,data:e}:{enabled:!1,data:i.story},children:({data:e})=>e&&(0,E.jsx)(z,{...i,storyData:e})})}},478860:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(883119),a=t(785893);function o({url:e,text:i,location:t}){return 1===t&&e&&i?(0,a.jsx)(n.kC,{alignItems:"center",justifyContent:"center",children:(0,a.jsx)(n.ZP,{text:i,href:e})}):null}},583798:(e,i,t)=>{t.d(i,{Z:()=>x});t(167912);var n,a=t(616550),o=t(883119),l=t(388011),r=t(870243),s=t(825389),d=t(536042),c=t(549201),u=t(251163),p=t(785893);const _={1:"start",2:"center"},m={1:"100",2:"300"},h={1:"400",4:"200",3:"500",2:"600"},g=new Set([2,4]),y=void 0!==n?n:n=t(414700);function v({showExpanded:e=!1,view:i,viewParameter:t,storyData:n}){var s,d,y;const v=(0,a.useHistory)(),{logContextEvent:x}=(0,l.v)(),b=(0,c.HG)(),{fullName:P,isVerifiedMerchant:S,verifiedIdentity:w,username:I,imageMediumUrl:T}=n.user||Object.freeze({}),A=P||(null===(s=n.storyTitle)||void 0===s?void 0:s.format),{url:k,text:E,location:C,style:j}=n.action||Object.freeze({}),R=k||I||"",D=n.displayOptions||Object.freeze({}),F=D.headerDisplay||Object.freeze({}),L=e?F.expandedTextAlignment:F.textAlignment,O=_[L||1],z=_[F.subtitleAlignment||1],N=m[F.headerSize||1],M=F.headerSize&&h[F.headerSize]?h[F.headerSize]:h[1],B=1===F.subtitleStyle?M:"200",Z=(e,i)=>null!=e?e:i,U=Z(D.titleTextColor,"default"),K=(G=D.titleTextColor,H="default",null!=G?G:H);var G,H;const V=Z(D.subtitleTextColor,"subtle"),W=1===F.titlePosition,$=!(null===(d=n.subtitle)||void 0===d||!d.format)&&(0,p.jsx)(o.X6,{size:B,color:V,align:z,children:n.subtitle.format}),Y=(0,p.jsx)(o.X6,{accessibilityLevel:2,size:M,color:U,align:O,children:A}),q=()=>{var e;return x({component:null===(e=D.contentDisplay)||void 0===e?void 0:e.componentType,element:179,event_type:b?101:102,view_parameter:t,view_type:i})};return(0,p.jsx)(o.xu,{marginBottom:b?4:2,children:(0,p.jsxs)(o.kC,{gap:{row:0,column:2},direction:"column",children:[W&&$,(0,p.jsxs)(o.kC,{alignItems:"center",justifyContent:O,children:[I&&T&&(0,p.jsx)(r.qE,{name:I,size:"sm",src:T}),(0,p.jsxs)(o.xu,{marginStart:O===_[1]?2:0,alignItems:"baseline",justifyContent:O,display:"flex",flex:e?"grow":"shrink",children:[R?(0,p.jsx)(o.xu,{"data-test-id":"sf-header-heading",children:(0,p.jsx)(o.iP,{role:"link",href:R,onTap:({event:e})=>{e.stopPropagation(),(e=>{q();const i=e.replace(/^\/+/,"");v.push(`/${i}`)})(R)},tapStyle:"compress",children:Y})}):Y,S&&(0,p.jsx)(o.xu,{marginStart:2,children:(0,p.jsx)(u.Z,{hasVerifiedIdentity:Boolean(null==w?void 0:w.verified),isVerifiedMerchant:S,size:"xs"})})]}),g.has(C)&&k&&(0,p.jsx)(o.xu,{"data-test-id":"sf-header-action-button",children:(0,p.jsx)(f,{headerTitle:A,onClick:q,style:j,text:E,url:k})})]}),!W&&$,null!==(y=n.storyDescription)&&void 0!==y&&y.format?(0,p.jsx)(o.xv,{size:N,color:K,align:O,weight:"bold",children:n.storyDescription.format}):null]})})}function f({headerTitle:e,onClick:i,style:t,text:n,url:a}){const l=(0,d.ZP)();return 3!==t&&n?(0,p.jsx)(o.xu,{marginStart:6,children:(0,p.jsx)(o.ZP,{text:n,href:a,onClick:i})}):(0,p.jsx)(o.hU,{accessibilityLabel:e||l._('See more', 'headerModule.headerModuleActionButton.iconButton', 'An right arrow icon button to show more similar pins to the user in a new page'),bgColor:"transparent",iconColor:"darkGray",icon:"arrow-forward",size:"sm",role:"link",href:a,onClick:i})}function x({storyKey:e,...i}){const{data:t}=(0,s.uf)(y,e,{useLegacyAdapter:e=>({action:e.action&&{location:e.action.location,style:e.action.style,text:e.action.text,url:e.action.url},displayOptions:e.display_options&&{contentDisplay:e.display_options.content_display&&{componentType:e.display_options.content_display.component_type},headerDisplay:e.display_options.header_display&&{expandedTextAlignment:e.display_options.header_display.expanded_text_alignment,headerSize:e.display_options.header_display.header_size,subtitleAlignment:e.display_options.header_display.subtitle_alignment,subtitleStyle:e.display_options.header_display.subtitle_style,textAlignment:e.display_options.header_display.text_alignment,titlePosition:e.display_options.header_display.title_position},subtitleTextColor:e.display_options.subtitle_text_color,titleTextColor:e.display_options.title_text_color},storyDescription:e.description&&{format:e.description.format},storyTitle:e.title&&{format:e.title.format},subtitle:e.subtitle&&{format:e.subtitle.format},user:e.user&&{fullName:e.user.full_name,imageMediumUrl:e.user.image_medium_url,isVerifiedMerchant:e.user.is_verified_merchant,username:e.user.username,verifiedIdentity:e.user.verified_identity&&{verified:e.user.verified_identity.verified}}})});return(0,p.jsx)(v,{...i,storyData:t})}},698791:(e,i,t)=>{t.r(i),t.d(i,{default:()=>ne});var n=t(167912),a=t(883119),o=t(448709),l=t(833122),r=t(45640),s=t(478860),d=t(24286),c=t(407109),u=t(294219),p=t(435628),_=t(941819),m=t(583798),h=t(785893);const g="rgba(0, 0, 0, 0)",y=()=>(0,h.jsx)(a.xu,{height:d.yF,width:d.yF,color:"secondary"}),v={1:{itemRep:u.Z,deprecatedActionShape:"square",deprecatedGetActionImage:e=>{var i,t;return(null===(i=e.images)||void 0===i||null===(t=i.orig)||void 0===t?void 0:t.url)||""}},4:{itemRep:c.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>{var i,t;return(null===(i=e.images)||void 0===i||null===(t=i.orig)||void 0===t?void 0:t.url)||""}},2:{itemRep:p.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>e.image_large_url}};function f({componentFallback:e,showExpanded:i=!0,story:t,view:n,viewParameter:o}){var l,r,s,d,c;const u=((null===(l=t.display_options)||void 0===l?void 0:l.content_display)||{}).model_type,p=(v[u]||_.g5).itemRep||y,f=null!==(r=null===(s=t.display_options)||void 0===s||null===(d=s.content_display)||void 0===d?void 0:d.component_type)&&void 0!==r?r:e;return(0,h.jsx)(a.xu,{marginBottom:2,children:(0,h.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"center",direction:"column",children:[t.title&&(0,h.jsx)(m.Z,{storyKey:{type:"deprecated",data:t},showExpanded:i}),(0,h.jsx)(a.kC,{wrap:!0,gap:2,justifyContent:"center",children:null===(c=t.objects)||void 0===c?void 0:c.map((function(e,i){return(0,h.jsx)(p,{component:f,imagePlaceholderColor:g,index:i,item:e,story:t,view:n,viewParameter:o},i)}))})]})})}var x=t(667294),b=t(281993),P=t(733245),S=t(476108),w=t(223228),I=t(769340),T=t(549201);const A="rgba(0, 0, 0, 0)",k=()=>(0,h.jsx)(a.xu,{height:d.yF,width:d.yF,color:"secondary"}),E={1:{itemRep:u.Z,deprecatedActionShape:"square",deprecatedGetActionImage:e=>{var i,t;return(null===(i=e.images)||void 0===i||null===(t=i.orig)||void 0===t?void 0:t.url)||""}},4:{itemRep:c.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>{var i,t;return(null===(i=e.images)||void 0===i||null===(t=i.orig)||void 0===t?void 0:t.url)||""}},2:{itemRep:p.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>e.image_large_url}};function C({componentFallback:e,dangerouslySetActionUrl:i,dangerouslySetContentVisibleItemCount:t,gutterWidth:n,initialSlotIndex:o=0,showExpanded:l,story:r,surface:s,view:c,viewParameter:u,width:p}){var g,y,v,f,C,j,R,D;const F=(0,T.HG)(),L=(null===(g=r.display_options)||void 0===g?void 0:g.content_display)||{},O=L.model_type,z=E[O]||_.g5,N=z.itemRep||k,{action:M}=r,B=i||(null===(y=r.action)||void 0===y?void 0:y.url)||"",Z=null!==(v=null===(f=r.display_options)||void 0===f||null===(C=f.content_display)||void 0===C?void 0:C.component_type)&&void 0!==v?v:e,U=null===(j=L.grid_layout)||void 0===j?void 0:j.rows,K="number"==typeof U?U:1,G=null===(R=L.grid_layout)||void 0===R?void 0:R.cols,H="number"==typeof G?G:-1,V=-1===H,W=null!=t?t:null===(D=L.content_visible_item_count)||void 0===D?void 0:D.web,$=W&&p?(0,d.Wv)({contentVisibleItemCount:W,gap:null!=n?n:d.oX,width:parseInt(p,10)}):d.yF,{containerRef:Y,itemsToRender:q,actionItem:X}=(0,I.n)({items:r.objects||[],itemWidth:(0,w.Z)()?d.tG:$,itemGap:null!=n?n:d.oX,actionItemType:Boolean(M)?"one":void 0,numRows:K}),J=X&&z.deprecatedGetActionImage?z.deprecatedGetActionImage(X):void 0,Q=V?q:r.objects||[],ee=Q.map(((e,i)=>(0,h.jsx)(S.Z,{itemType:"string"==typeof e.type?e.type:null,children:(0,h.jsx)(N,{component:Z,imagePlaceholderColor:A,imageWidth:$,index:i,item:e,slotIndex:o+i,story:r,surface:s,view:c,viewParameter:u})},i))),ie=!!B&&!(null==M||!M.text)&&J&&(0,h.jsx)(b.Z,{contentIds:r.content_ids,buttonText:M.text,component:Z,element:179,imageWidth:$,previewImageSrc:J,shape:z.deprecatedActionShape,storyId:r.id,storyType:r.story_type,url:B,view:c,viewParameter:u});return(0,h.jsxs)(a.xu,{display:"flex",color:"default",alignItems:"stretch",justifyContent:"start",direction:"column",children:[r.title&&(0,h.jsx)(m.Z,{storyKey:{type:"deprecated",data:r},showExpanded:l}),V?(0,h.jsxs)(I.Z,{itemGap:null!=n?n:d.oX,containerRef:Y,rowAlignment:"center",numRows:K,children:[ee,ie,K>1&&(0,P.i)(12)]}):(0,h.jsxs)(x.Fragment,{children:[new Array(K).fill(null).map(((e,i)=>(0,h.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",gap:F?d.jC:d.D6,wrap:H<=1,children:H>0&&new Array(H).fill(null).map(((e,t)=>ee[i*H+t]))},Q[i].id))),ie]})]})}function j({componentFallback:e,showExpanded:i=!0,story:t,view:n,viewParameter:o}){var l,r,s,c;const u=((null===(l=t.display_options)||void 0===l?void 0:l.content_display)||{}).model_type,p=(E[u]||_.g5).itemRep||k,g=null!==(r=null===(s=t.display_options)||void 0===s||null===(c=s.content_display)||void 0===c?void 0:c.component_type)&&void 0!==r?r:e,y=(0,w.Z)()?d.tG:d.yF;return(0,h.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[t.title&&(0,h.jsx)(m.Z,{storyKey:{type:"deprecated",data:t},showExpanded:i}),(0,h.jsx)(a.Rk,{columnWidth:y,renderItem:({data:e,itemIdx:i})=>(0,h.jsx)(p,{component:g,imagePlaceholderColor:A,index:i,item:e,story:t,view:n,viewParameter:o},i),gutterWidth:d.oX,items:t.objects||[],layout:"flexible"})]})}function R(e){var i,t;switch(null===(i=e.story.display_options)||void 0===i||null===(t=i.content_display)||void 0===t?void 0:t.pins_display){case 3:case 1:return(0,h.jsx)(j,{...e});default:return(0,h.jsx)(C,{...e})}}var D=t(603801),F=t(616550),L=t(388011),O=t(870243),z=t(536042);const N=500,M=400,B=822;var Z=t(938818);const U=({actionText:e,actionUrl:i,articleId:t,author:n,authorAvatar:o,component:r,contentIds:s,coverImage:d,debug:c,index:u,isFullWidth:p=!1,onImageLoad:_,storyId:m,storyType:g,subtitle:y,title:v,view:f,viewParameter:b,width:P,windowWidth:S})=>{const w=(0,z.ZP)(),I=(0,F.useHistory)(),{logContextEvent:T}=(0,L.v)(),[A,k]=(0,x.useState)(!1),E=(0,l.Z)({loggingId:t,objectIdStr:t,impressionType:"Article",contextLogData:{content_ids:s,story_id:m,story_type:g,article_id:t},slotIndex:u,viewParameter:b,viewType:f,componentType:r});return(0,h.jsx)(a.xu,{"data-test-id":"sf-hero",children:(0,h.jsxs)(a.xu,{ref:E,width:P,height:"auto",onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),children:[(0,h.jsx)(a.iP,{onTap:()=>{T({event_type:101,view_type:f,view_parameter:b,component:r,aux_data:{article_id:t,content_ids:s,story_id:m,story_type:g}}),I.push(i)},children:(0,h.jsxs)(a.xu,{height:p?400:"35vw",maxHeight:500,overflow:"hidden",position:"relative",children:[(0,h.jsx)(a.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:{transition:"transform 0.4s",transform:A?"scale(1.5)":"scale(1)"}},children:(0,h.jsx)(a.Ee,{src:d,alt:w._('Cover image of this shopping spotlight', 'hero.heroCoverImage', 'alt text for an image previewing the contents of a spotlight article'),color:"#fff",onLoad:_,fit:"cover",naturalHeight:400,naturalWidth:400,children:(0,h.jsx)(a.xu,{display:"block",height:"100%",width:"100%",color:"transparentDarkGray",opacity:.3})})}),(0,h.jsx)(a.xu,{width:"100%",position:"absolute",padding:6,marginBottom:p?12:0,bottom:!0,children:(0,h.jsxs)(a.kC,{direction:"column",height:"100%",justifyContent:"end",children:[(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.4s",transform:A?"translateY(-20px)":"translateY(20px)"}},children:(0,h.jsx)(a.X6,{size:S<=B?"600":S<1e3?"400":S<1100?"500":"600",color:"light",children:v})}),(0,h.jsxs)(a.xu,{display:"block",height:A?"auto":20,overflow:"hidden",dangerouslySetInlineStyle:{__style:{opacity:A?1:0,transition:A?"opacity 0.4s ease-in":"opacity 0.4s ease-out"}},children:[(0,h.jsx)(a.xv,{color:"inverse",children:y}),n&&(0,h.jsx)(a.xu,{marginTop:4,children:(0,h.jsxs)(a.kC,{direction:"row",alignItems:"center",children:[(0,h.jsx)(O.qE,{size:"md",src:o,name:n})," ",(0,h.jsx)(a.xv,{color:"inverse",children:n})]})})]}),(0,h.jsx)(a.xu,{width:"74px",marginTop:4,children:(0,h.jsx)(a.zx,{color:"white",size:"lg",onClick:()=>{I.push(i)},text:e})})]})})]})}),void 0!==c&&(0,h.jsx)(Z.ZP,{data:c})]})})};var K=t(515213),G=t(310131),H=t(455256);function V({onImageLoad:e,story:i,view:t,viewParameter:n,component:o,width:l}){var r;const[s,d]=(0,x.useState)(0),c=(0,x.useRef)(null),u=(null===(r=i.objects)||void 0===r?void 0:r.slice(0,3))||[];return(0,h.jsxs)(a.xu,{position:"relative",display:"flex",width:l,height:M,justifyContent:"center",alignItems:"end",ref:c,children:[(0,h.jsx)(K.Z,{id:i.id,index:s,slideWidth:l,containerRef:c,children:u.map(((a,r)=>{var s,d,c,u,p;return(0,h.jsx)(U,{actionText:(null===(s=a.action)||void 0===s?void 0:s.text)||"",actionUrl:(null===(d=a.action)||void 0===d?void 0:d.url)||"",articleId:a.id,coverImage:a.cover_images&&(null===(c=a.cover_images[0].originals)||void 0===c?void 0:c.url)||"",debug:a.debug,onImageLoad:e,storyId:i.id,storyType:i.story_type,subtitle:(null===(u=a.subtitle)||void 0===u?void 0:u.format)||"",title:(null===(p=a.title)||void 0===p?void 0:p.format)||"",index:r,isFullWidth:!0,view:t,viewParameter:n,component:o,width:l,windowWidth:l},a.id)}))}),(0,h.jsx)(a.xu,{display:"inlineBlock",height:"auto",position:"absolute",width:"60%",paddingY:5,children:(0,h.jsx)(G.default,{addEllipsis:!0,pinId:i.id,carouselIndex:s,carouselData:{index:s,entityId:"",carouselSlots:u.map((e=>({id:e.id,title:null})))},handleCarouselSwipe:e=>{d(e)},forwardNode:(0,h.jsx)(H.Z,{showFab:!0,iconType:"forward",iconColor:"inverse"}),backNode:(0,h.jsx)(H.Z,{showFab:!0,iconType:"back",iconColor:"inverse"})})})]})}function W({component:e,onImageLoad:i,story:t,view:n,viewParameter:o,windowWidth:l}){var r;const s=(null===(r=t.objects)||void 0===r?void 0:r.slice(0,3))||[];return(0,h.jsxs)(x.Fragment,{children:[(0,h.jsx)(a.xu,{flex:"grow",dangerouslySetInlineStyle:{__style:{backgroundColor:s[0].dominant_colors[0]}}}),s.map(((a,r)=>{var s,d,c,u,p;return(0,h.jsx)(U,{actionText:(null===(s=a.action)||void 0===s?void 0:s.text)||"",actionUrl:(null===(d=a.action)||void 0===d?void 0:d.url)||"",articleId:a.id,coverImage:a.cover_images&&(null===(c=a.cover_images[0].originals)||void 0===c?void 0:c.url)||"",debug:a.debug,index:r,onImageLoad:i,storyId:t.id,storyType:t.story_type,subtitle:(null===(u=a.subtitle)||void 0===u?void 0:u.format)||"",title:(null===(p=a.title)||void 0===p?void 0:p.format)||"",view:n,viewParameter:o,component:e,width:N,windowWidth:l},a.id)})),(0,h.jsx)(a.xu,{flex:"grow",dangerouslySetInlineStyle:{__style:{backgroundColor:s[2].dominant_colors[0]}}})]})}function $({component:e,pwtSurfaceContext:i,story:t,view:n,viewParameter:o}){const{width:l}=(0,D.Z)()||{},r=()=>{i&&i.markConstraintComplete("RenderHeroImages")},s=!l||l>B?3:1;return(0,h.jsx)(x.Fragment,{children:(0,h.jsx)(a.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",width:l,children:3===s?(0,h.jsx)(W,{component:e,onImageLoad:r,story:t,windowWidth:l,view:n,viewParameter:o}):(0,h.jsx)(V,{component:e,onImageLoad:r,story:t,width:l,view:n,viewParameter:o})})})}function Y({story:e}){var i;const t=(0,F.useHistory)(),{user:n,custom_properties:o,action:l}=e||{},{full_name:r,username:s,image_medium_url:c}=n||{},u=r||(null===(i=e.title)||void 0===i?void 0:i.format)||"",{url:p,text:_}=l||{},{image:m}=o||{};if(!p||!_)return null;const g=(0,h.jsxs)(a.xu,{height:"100%",padding:2,display:"flex",justifyContent:"center",alignItems:"center",color:"transparentDarkGray",position:"relative",children:[s&&c&&(0,h.jsx)(a.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,h.jsx)(O.qE,{name:s,size:"sm",src:c})}),u&&(0,h.jsx)(a.xv,{color:"inverse",weight:"bold",children:u})]});return(0,h.jsxs)(a.xu,{marginBottom:4,width:d.yF,children:[(0,h.jsx)(a.iP,{onTap:()=>t.push(p),children:(0,h.jsx)(a.zd,{rounding:2,wash:!0,height:d.yF,children:"string"==typeof m&&m?(0,h.jsx)(a.Ee,{naturalHeight:d.yF,naturalWidth:d.yF,src:m,fit:"contain",alt:u,children:g}):(0,h.jsx)(a.xu,{width:d.yF,height:d.yF,children:g})})}),(0,h.jsx)(a.xu,{marginTop:3,children:(0,h.jsx)(a.ZP,{fullWidth:!0,text:_,href:p})})]})}const q=new Set([101]);function X(e){return q.has(e)}var J;const Q="UNKNOWN_CONTAINER_TYPE",ee=void 0!==J?J:J=t(359433);function ie(e){var i,t;const{componentFallback:n,initialSlotIndex:o,view:d,viewParameter:c,width:u,story:{data:{action:p,containerType:_,contentIds:g,displayOptions:y,storyId:v,storyType:x,trackingParams:b},forward:{dataKeys:P,rawStoryData:S,storyGraphqlRef:w}}}=e,I=null!==(i=null==y||null===(t=y.contentDisplay)||void 0===t?void 0:t.componentType)&&void 0!==i?i:n,T=(0,l.Z)({clientTrackingParams:b,componentType:I,contextLogData:{story_id:v,story_type:x,content_ids:g},impressionType:"Story",loggingId:v,slotIndex:o||0,viewParameter:c,viewType:d}),A={...e,component:I},k=(()=>{switch(_){case 90:return(0,h.jsx)(r.Z,{...A,story:S,storyGraphqlRef:w});case 88:const{story:e,...i}=A,t={...i,storyKey:P.HeaderModule_story};return(0,h.jsx)(m.Z,{...t});case 89:const{location:n,text:a,url:o}=p||{};return(0,h.jsx)(s.Z,{url:o,location:n,text:a});case 91:return!!S&&(0,h.jsx)(R,{...A,story:S});case 101:return!!S&&(0,h.jsx)($,{...A,story:S});case 92:return!!S&&(0,h.jsx)(Y,{...A,story:S});case 131:return!!S&&(0,h.jsx)(f,{...A,story:S});default:return Q}})();return k===Q?null:(0,h.jsxs)(a.xu,{ref:T,width:X(_)?void 0:u,children:[k,(0,h.jsx)(a.xu,{})]})}const te=(0,o.Z)({useGraphQLAdapter:e=>{const i=(0,n.useFragment)(ee,e);return{data:i,forward:{rawStoryData:null,storyGraphqlRef:i,dataKeys:{HeaderModule_story:{type:"graphqlRef",data:i}}}}},useLegacyAdapter:e=>{var i;return e&&{data:{action:e.action&&{location:e.action.location,text:e.action.text,url:e.action.url},containerType:"number"==typeof e.container_type?e.container_type:void 0,contentIds:e.content_ids,displayOptions:e.display_options&&{contentDisplay:e.display_options.content_display&&{componentType:e.display_options.content_display.component_type}},storyId:null!==(i=e.id)&&void 0!==i?i:"",storyType:e.story_type,trackingParams:e.tracking_params},forward:{rawStoryData:e,storyGraphqlRef:null,dataKeys:{HeaderModule_story:{type:"deprecated",data:e}}}}}});function ne({storyGraphqlRef:e,...i}){return(0,h.jsx)(te,{input:e?{enabled:!0,data:e}:{enabled:!1,data:i.story},children:({data:e})=>e&&(0,h.jsx)(ie,{...i,story:e})})}},19494:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(667294),a=t(549201);function o(){const[e,i]=(0,n.useState)(!1),t=(0,a.HG)();return(0,n.useEffect)((()=>{!t&&window.innerWidth<320&&i(!0)}),[t,i]),e}},619937:(e,i,t)=>{function n(e,i){var t;const n=`${e.type||""} ${i.toString()}`;switch(e.type){case"pin":return e.title||n;case"user":return e.username||n;case"explorearticle":return(null===(t=e.title)||void 0===t?void 0:t.format)||n;case"story":return e.id||n;default:return n}}t.d(i,{Z:()=>n})},223228:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(603801),a=t(24286);function o(){const{width:e}=(0,n.Z)()||{width:0};return e<2*a.yF+a.$H}},882973:(e,i,t)=>{t.d(i,{Pw:()=>n,SB:()=>a,ZP:()=>l,x9:()=>o});const n=80,a=56,o=e=>"phone"===e?a:n;function l(e,i){return i?0:o(e)}},793085:(e,i,t)=>{t.d(i,{Z:()=>c});var n=t(667294),a=t(883119),o=t(563962),l=t(536042),r=t(262600),s=t(785893);const d={sm:12,md:16,lg:20,xl:24};function c({isVerifiedMerchant:e,size:i,showText:t,showVerifiedIdentity:c,inspirationalBadges:u,inspirationalBadgesColor:p}){const _=(0,l.ZP)(),[m,h]=(0,n.useState)(!1),{dangerousInlineStyle:g,iconColor:y}=(0,r.W)(!!e),v=(0,o.Z)();return(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(a.iP,{onTap:()=>{v({component:13534,element:11717,event_type:102}),h(!0)},rounding:"circle",children:(0,s.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:g,display:"flex","data-test-id":"verified-badge-icon",children:[(0,s.jsx)(a.JO,{accessibilityLabel:e?_._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'):_._('Badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),icon:"workflow-status-ok",color:y,inline:!0,size:d[i]}),t&&!c&&(0,s.jsx)(a.xu,{marginStart:2,children:(0,s.jsx)(a.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:g,children:_._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})})]})}),(e||t&&!c)&&(0,s.jsx)(r.Z,{showModal:m,setShowModal:h,inspirationalBadges:u,inspirationalBadgesColor:p})]})}},262600:(e,i,t)=>{t.d(i,{W:()=>u,Z:()=>p});var n=t(667294),a=t(883119),o=t(770130),l=t(563962),r=t(88622),s=t(536042),d=t(837792),c=t(785893);const u=e=>{const i=e?"shopping":"error";return{iconColor:i,dangerousInlineStyle:{__style:{color:i}}}};function p({inspirationalBadges:e=[],inspirationalBadgesColor:i,showModal:t,setShowModal:p}){const _=(0,s.ZP)(),[m,h]=(0,n.useState)(!0),{dangerousInlineStyle:g,iconColor:y}=u(!0),v=(0,l.Z)();return(0,n.useEffect)((()=>{t&&m&&(h(!1),v({event_type:13,component:13534}))}),[t]),(0,c.jsx)(r.ZP,{accessibilityModalLabel:_._('Verified merchant information', 'creator.verifiedMerchant.accessibilityModalLabel', 'Accessibility label for modal informing about a verified merchant'),isOpen:t,mobileAccessibilityCloseIconLabel:_._('Close', 'Close modal window', 'Close modal'),onDismiss:()=>{v({component:13534,element:11716,event_type:102}),p(!1)},type:"verified_merchant_modal",children:(0,c.jsx)(a.xu,{padding:3,children:(0,c.jsxs)(a.xu,{display:"flex",direction:"column",padding:2,"data-test-id":"verified-badge-modal",children:[(0,c.jsx)(a.xu,{display:"flex",dangerouslySetInlineStyle:g,justifyContent:"center",children:(0,c.jsx)(a.JO,{accessibilityLabel:_._('Merchant verification badge icon', 'creator.verifiedMerchant.modalIcon', 'Badge indicating that a merchant or user is verified'),color:y,icon:"workflow-status-ok",size:24})}),(0,c.jsx)(a.xu,{marginTop:4,children:(0,c.jsx)(a.xv,{color:"shopping",weight:"bold",align:"center",children:(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:g,children:_._('Verified merchant', 'creator.verifiedMerchant.modalHeader', 'this merchant is a verified merchant')})})}),(0,c.jsx)(a.xu,{marginTop:4,marginBottom:4,children:(0,c.jsx)(a.xv,{align:"center",overflow:"normal",children:_._('This retailer meets Pinterest\'s Merchant Guidelines', 'creator.verifiedMerchant.modalText.', 'this merchant is a verified merchant')})}),e.map((e=>(0,c.jsxs)(a.xu,{display:"flex",direction:"column",marginTop:4,children:[(0,c.jsx)(a.kC,{alignItems:"stretch",justifyContent:"center",children:(0,c.jsx)(a.xv,{overflow:"noWrap",size:"100",weight:"bold",children:(0,c.jsx)(a.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:2,dangerouslySetInlineStyle:{__style:(0,o.ym)(i)},"data-test-id":"verified-badge-modal-inspirational-badge",children:e.label})})}),(0,c.jsx)(a.xu,{marginTop:2,children:(0,c.jsx)(a.xv,{align:"center",overflow:"normal",children:e.description})})]},e.id))),(0,c.jsx)(a.xu,{display:"flex",marginTop:8,justifyContent:"center",width:"100%","data-test-id":"verified-badge-modal-learn-more",children:(0,c.jsx)(a.ZP,{accessibilityLabel:_._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com'),target:"blank",size:"lg",href:d.vB,text:_._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com')})})]})})})}},387977:(e,i,t)=>{function n(e){return"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame")||e&&e(),window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{e&&e()}))}))}t.d(i,{Z:()=>n})},798198:(e,i,t)=>{t.d(i,{CC:()=>n,Ll:()=>o,XF:()=>a});const n=(e,i)=>((e,i,t)=>({x:Math.floor(e*Math.cos(t)),y:Math.floor(i*Math.sin(t))}))(i/2,e/2,2*Math.random()*Math.PI),a=(e,i)=>Math.floor(Math.random()*(i-e+1))+e,o=e=>["@-webkit-keyframes","@keyframes"].map((i=>e.map((e=>i+" "+e)).join("\n"))).join("\n")},468e3:(e,i,t)=>{function n(e){return[0,24,21,26].includes(e)}function a({articleType:e,id:i,title:t}){const n=t.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${n}/${i}/`:`/discover/article/${n}/${i}/`}t.d(i,{x:()=>a,y:()=>n})},55350:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(219224),a=t(906466);function o({action:e,board:i,viewer:t}){var o;return(0,n.Z)(t,i)||(0,a.Z)({board:i,viewer:t})&&!(null===(o=i.collaborator_permissions)||void 0===o||!o.includes(e))}},219224:(e,i,t)=>{function n(e,i){const t=i&&i.owner&&i.owner.id;return e.isAuth&&t===e.id}t.d(i,{Z:()=>n})},906466:(e,i,t)=>{function n({board:e,viewer:i}){const{collaborated_by_me:t}=e;return Boolean(i.isAuth&&t)}t.d(i,{Z:()=>n})},309926:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(219224),a=t(906466);function o({board:e,viewer:i}){return(0,n.Z)(i,e)||(0,a.Z)({board:e,viewer:i})}},463310:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(965533),a=t(98736),o=t(799665);const l=(e,i)=>{null!=i&&i.disableOriginCheck||(0,o.Z)(e)||(e="/",(0,a.My)("url_reset")),(0,n.Z)(e)}},603801:(e,i,t)=>{t.d(i,{Z:()=>s});var n=t(667294);function a(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}function o(){return window.innerWidth}function l(){return window.innerHeight}function r(){return null}function s(){const e=(0,n.useSyncExternalStore)(a,l,r),i=(0,n.useSyncExternalStore)(a,o,r);return null!==e&&null!==i?{height:e,width:i}:null}},519677:(e,i,t)=>{t.d(i,{Z:()=>n});const n={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},980124:(e,i,t)=>{function n(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}t.d(i,{Z:()=>o});class a{static reportGoogleConversion(e,i,t,n){n||(void 0!==window.gtag_report_conversion?window.gtag_report_conversion(e,i,t):a.queuedGoogleConversions.push({id:e,label:i,url:t}))}static reportFacebookConversion(e,i,t){void 0!==window.fbq?t?window.fbq("track",i,t):window.fbq("track",i):a.queuedFacebookConversions.push({id:e,event:i,data:t})}static reportCustomFacebookConversion(e,i,t){void 0!==window.fbq?t?window.fbq("trackCustom",i,t):window.fbq("trackCustom",i):a.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:i,data:t})}static reportPinterestConversion(e,i,t){void 0!==window.pintrk?t?window.pintrk("track",i,t):window.pintrk("track",i):a.queuedPinterestConversions.push({id:e,event:i,data:t})}static reportTheTradeDeskConversion(e,i){const t=document.createElement("img");t.setAttribute("height","1"),t.setAttribute("width","1"),t.setAttribute("role","presentation"),t.style.borderStyle="none",t.style.position="absolute",t.setAttribute("src",`//insight.adsrvr.org/track/conv/?adv=${e}&ct=0:${i}&fmt=3`),document.body.insertBefore(t,document.body.lastChild)}static reportLinkedInConversion(e,i){const t=document.createElement("img");t.setAttribute("width","1"),t.setAttribute("height","1"),t.setAttribute("role","presentation"),t.setAttribute("src",`https://dc.ads.linkedin.com/collect/?pid=${e}&conversionId=${i}&fmt=gif`),t.style.display="none",document.body.insertBefore(t,document.body.lastChild)}static reportDoubleClickConversion(e,i,t){const n=1e13*Math.random(),a=document.createElement("iframe");a.setAttribute("width","1"),a.setAttribute("height","1"),a.setAttribute("frameborder","0"),a.setAttribute("src",`https://${e}.fls.doubleclick.net/activityi;src=${e};\n    type=${i};cat=${t};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=${n}?`),a.style.display="none",document.body.insertBefore(a,document.body.lastChild)}static insertGoogleAdWordsTag(e,i){const t=document.createElement("script");i||(t.setAttribute("async",""),t.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=AW-${e}`),t.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(e,i,t){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,i,t){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+i,event_callback:function(){void 0!==t&&window.location.assign(t)}}),!1};const t=a.queuedGoogleConversions;for(let n=0;n<t.length;n+=1){const o=t[n];o.id===e&&a.reportGoogleConversion(o.id,o.label,o.url,i)}}),document.body.insertBefore(t,document.body.firstChild)}static insertFacebookPixelTag(e){var i,t,n,o,l,r;i=window,t=document,n="script",i.fbq||(o=i.fbq=function(){o.callMethod?o.callMethod.apply(o,arguments):o.queue.push(arguments)},i._fbq||(i._fbq=o),o.push=o,o.loaded=!0,o.version="2.0",o.queue=[],(l=t.createElement(n)).async=!0,l.src="//connect.facebook.net/en_US/fbevents.js",(r=t.getElementsByTagName(n)[0]).parentNode.insertBefore(l,r)),window.fbq("init",e),window.fbq("track","PageView");const s=a.queuedFacebookConversions;for(let d=0;d<s.length;d+=1){const i=s[d];i.id===e&&(i.isCustomEvent?a.reportCustomFacebookConversion(e,i.event,i.data):a.reportFacebookConversion(e,i.event,i.data))}}static insertPinterestTag(e){!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};const e=window.pintrk;e.queue=[],e.version="3.0";const i=document.createElement("script");i.async=!0,i.src="https://s.pinimg.com/ct/core.js";const t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(i,t)}}(),window.pintrk("load",e),window.pintrk("page");const i=a.queuedPinterestConversions;for(let t=0;t<i.length;t+=1){const n=i[t];n.id===e&&a.reportPinterestConversion(e,n.event,n.data)}}}n(a,"queuedGoogleConversions",[]),n(a,"queuedFacebookConversions",[]),n(a,"queuedPinterestConversions",[]);const o=a},770130:(e,i,t)=>{t.d(i,{Bu:()=>m,Dm:()=>r,I:()=>y,NG:()=>p,QP:()=>c,S4:()=>d,Xe:()=>u,_f:()=>_,eT:()=>h,hm:()=>g,yQ:()=>s,ym:()=>f});var n=t(9507);const a=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",TURKISH:"turkish",ROMA:"roma",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),o=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),l=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),r=[...Object.keys(a).map((e=>a[e])),...Object.keys(o).map((e=>o[e]))],s=[...Object.keys(l).map((e=>l[e]))],d=3,c=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],u={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:c[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},p="https://help.pinterest.com/article/merchant-details",_="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile";function m({verifiedMerchant:e}){var i,t;const n=null==e?void 0:e.isVerifiedMerchant,a=null==e||null===(i=e.inspirational_signal)||void 0===i?void 0:i.is_inspirational,o=null==e||null===(t=e.inspirational_signal)||void 0===t?void 0:t.is_eligible_for_storefront_badges;return Boolean(n&&a&&o)}function h(e){return e.badge_details?e.badge_details.map((e=>e.id)):[]}function g(e){return(null==e?void 0:e.profile_badges)||[]}function y(e,i,t){return i&&t?i.map((e=>t.find((i=>i.id===e.trim())))).filter(Boolean):[]}function v(e){const i=(0,n.oo)(e);if(!i)return"white";const[t,a,o]=i;return(0,n.DW)(t,a,o)<=n.I?"white":"black"}function f(e){const i=e||c[0];return{backgroundColor:i,color:v(i)}}},222443:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(616550),a=t(946618),o=t(525104);function l(){const e=(0,o.S6)(),i=(0,n.useLocation)();return(t,n)=>{let o;const l=e(t);if(null!=n&&n.shouldTrackForPrevLocation){const e=(null==l?void 0:l.tracking_params_map)||{},i=Object.keys(e).find((e=>"PinResource"!==e));l&&(o=i?e[i]:e.PinResource)}else if(l){var r,s;o=(0,a.Z)({boardUrl:null===(r=l.board)||void 0===r?void 0:r.url,location:i,pinId:l.id,pinnerUserName:null===(s=l.pinner)||void 0===s?void 0:s.username,storyPinDataId:l.story_pin_data_id,trackingParams:l.tracking_params,trackingParamsMap:l.tracking_params_map})}return o}}},9507:(e,i,t)=>{t.d(i,{DW:()=>o,I:()=>a,oo:()=>n,zI:()=>l});const n=e=>{const i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return i&&[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]},a=.18,o=(e,i,t)=>.2126*(e/255)**2.2+.7151*(i/255)**2.2+.0721*(t/255)**2.2,l=e=>{const i=e.replace("#","");return(299*parseInt(i.substr(0,2),16)+587*parseInt(i.substr(2,2),16)+114*parseInt(i.substr(4,2),16))/1e3<155}},777610:(e,i,t)=>{t.d(i,{Q:()=>d,Z:()=>c});var n=t(667294),a=t(682492),o=t.n(a),l=t(563962),r=t(788241),s=t(282802);function d(e,i){const{setViewContextData:t}=(0,r.sV)(),{requestIdentifier:a}=(0,s.B)(),d=(0,l.Z)(),{viewData:c}=(0,r.SU)();(0,n.useEffect)((()=>{var i;e&&(t({viewType:null!==(i=e.view_type)&&void 0!==i?i:1,viewParameter:e.view_parameter,viewData:e.view_data?o()(c,e.view_data):o()({},c),component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:a}))}),[i])}function c(e){const{children:i,log:t}=e;return d(t),i||null}},388011:(e,i,t)=>{t.d(i,{B:()=>s,v:()=>r});var n=t(788241),a=t(583592),o=t(785893);const{Provider:l,useHook:r}=(0,a.Z)("ContextLogger");function s({children:e,value:i}){const{setViewContextData:t}=(0,n.sV)();return i.injectSetViewContextDataFromHook=t,(0,o.jsx)(l,{value:i,children:e})}},563962:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(388011);const a=()=>(0,n.v)().logContextEvent},788241:(e,i,t)=>{t.d(i,{BE:()=>d,Ih:()=>c,SU:()=>u,sV:()=>r});var n=t(667294),a=t(583592),o=t(785893);const{Provider:l,useHook:r}=(0,a.Z)("View");let s;function d(){return s}function c({children:e,initialState:i={}}){const[t,a]=(0,n.useState)(i),r=(0,n.useCallback)((()=>{s={},a({})}),[]),d=(0,n.useCallback)((e=>{s={...s,...e},a((i=>({...i,...e})))}),[]),c=(0,n.useMemo)((()=>({viewContextData:t,clearViewContextData:r,setViewContextData:d})),[t,d,r]);return(0,o.jsx)(n.Fragment,{children:(0,o.jsx)(l,{value:c,children:e})})}function u(){const{viewContextData:e}=r();return e}},583592:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(667294);function a(e,i){return`\n  ${"consumer"===i?`${e}Consumer`:`use${e}`} must be used within a ${e}Provider.\n  Please see https://pdocs.pinadmin.com/docs/webapp/docs/testing-jest#createhydra-errors for more information.\n  `}function o(e,i){const t=(0,n.createContext)(i),{messageDisplayName:o}=function(e,i){let t=e.slice(1);if(t=t.endsWith("Context")?t:`${t}Context`,i)return{hocDisplayName:`with${e[0].toUpperCase()}${t}(${i})`};return{propsDisplayName:`${e[0].toLowerCase()}${t}`,messageDisplayName:`${e[0].toUpperCase()}${t}`}}(e);t.displayName=o;const{Provider:l}=t,r=({children:e})=>{const i=(0,n.useContext)(t);if(void 0===i)throw new Error(a(o,"consumer"));return e(i)},s=()=>(0,n.useContext)(t);return l.displayName=`${o}Provider`,r.displayName=`${o}Consumer`,{Provider:l,Consumer:r,MaybeConsumer:({children:e})=>e((0,n.useContext)(t)),useMaybeHook:s,useHook:function(){const e=s();if(void 0===e)throw new Error(a(o,"hook"));return e}}}},377234:(e,i,t)=>{t.d(i,{F6:()=>u,Hs:()=>c,Yc:()=>s,vs:()=>d});var n=t(667294),a=t(611756),o=t(98736);const l="theme",r="dark"===(0,a.qn)(l),s=()=>r;function d(){const[e,i]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{i(s())}),[i]),e}const c=()=>{(0,a.Nh)(l,"dark"),(0,o.My)("mweb.dark_mode.enable"),window.location.reload()},u=()=>{(0,a.L_)(l),(0,o.My)("mweb.dark_mode.disable"),window.location.reload()}},921270:(e,i,t)=>{t.d(i,{Z:()=>l,k:()=>n.k});var n=t(642447),a=t(282802),o=t(785893);const l=({dateFormatType:e,useUTC:i=!0,value:t})=>(0,o.jsx)(a.LC,{children:a=>(0,n.Z)(a.locale,t,e,i)})},642447:(e,i,t)=>{t.d(i,{Z:()=>o,k:()=>n});const n={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit"},a=function(e){switch(e){case n.YEAR:return{year:"numeric"};case n.LONG:return{year:"numeric",month:"long",day:"numeric"};case n.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case n.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case n.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case n.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case n.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.MONTH_DAY:return{month:"long",day:"numeric"};case n.SHORT_MONTH:return{month:"short"};case n.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case n.DAY:return{day:"numeric"};case n.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case n.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case n.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case n.TIME:return{hour:"numeric",minute:"2-digit"};case n.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.HOUR:return{hour:"numeric"};default:throw new Error('invalid dateFormatType "'+e+'"')}};function o(e,i,t,n=!0){const o=a(t);n&&(o.timeZone="UTC");return new Intl.DateTimeFormat(e,o).format(i)}},117651:(e,i,t)=>{function n(e){const i=Math.round(e/1e3),t=i%60;return Math.floor(i/60)+":"+(t<10?"0":"")+t}t.d(i,{Z:()=>n})},758360:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(667294),a=t(973935);function o(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class l extends n.Component{constructor(...e){super(...e),o(this,"observer",null),o(this,"handleVisibilityChanged",((e,i)=>{this.props.onVisibilityChange(e,i)}))}componentDidMount(){const e=a.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return n.Children.only(this.props.children)}}const r=l},391670:(e,i,t)=>{t.d(i,{Mi:()=>a,lO:()=>o});var n=t(583592);const{Provider:a,useMaybeHook:o}=(0,n.Z)("pageContext")},737311:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(667294),a=t(40660),o=t(391297);function l(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class r extends n.Component{constructor(...e){super(...e),l(this,"state",{error:null,info:null}),l(this,"resetError",(()=>{this.setState({error:null,info:null})}))}componentDidCatch(e,i){try{var t;const{name:i}=this.props,n=this.props.type||"secondary";(0,o.T)({extraData:null!==(t=e.extraData)&&void 0!==t?t:{},errorBoundary:i,errorBoundaryType:n,message:e.message,name:e.name,stack:e.stack}),a.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(n){a.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:i})}render(){const{renderErrorState:e}=this.props,{error:i,info:t}=this.state;return i&&t?e?e({error:i,info:t,resetError:this.resetError}):null:this.props.children}}},604094:(e,i,t)=>{t.d(i,{Z:()=>n});const n=t(737311).Z},33476:(e,i,t)=>{t.d(i,{Z:()=>c});var n=t(667294),a=t(702664),o=t(527386),l=t(216702),r=t(785893);function s(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class d extends n.Component{constructor(...e){super(...e),s(this,"state",{hasCompleted:[],hasDismissed:[]}),s(this,"view",(()=>{const{experience:e,isBackendExperience:i,targeting:t,viewExperience:n,viewExperienceObject:a}=this.props;e&&"viewed"!==e.status&&(i?(e.status="viewed",a(e)):t?n(e.placement_id,e.experience_id,t):n(e.placement_id,e.experience_id))})),s(this,"complete",(e=>{const{completeExperience:i,completeExperienceObject:t,experience:n,isBackendExperience:a,preventRemoval:o,targeting:l}=this.props,r=e||1;if(n&&!this.state.hasCompleted.includes(n.experience_id)){const{placement_id:e,experience_id:s}=n||{},d=o||2===r;(1===r||d)&&e&&s&&(a?t(n,d):l?i(e,s,d,l):i(e,s,d),this.setState((e=>({hasCompleted:[...e.hasCompleted,s]}))))}})),s(this,"dismiss",(()=>{const{dismissExperience:e,dismissExperienceObject:i,experience:t,isBackendExperience:n,preventRemoval:a,targeting:o}=this.props,{placement_id:l,experience_id:r}=t||{};t&&!this.state.hasDismissed.includes(r)&&(n?i(t):o?e(l,r,!!a,o):e(l,r,!!a),this.setState((e=>({hasDismissed:[...e.hasDismissed,r]}))))})),s(this,"shouldRenderExperience",(()=>{const{experience:e}=this.props;if(e){const{eligibleIds:i,eligibleTypes:t,predicate:n,transitionType:a}=this.props,{experience_id:o,type:l}=e;if(i&&i.includes(o))return!0;if(null==i||!i.length){if(n&&n(e))return!0;if(t&&t.includes(l))return!0;if(a&&a===l)return!0}}return!1}))}componentDidMount(){if(this.props.disableAutoView)return;const{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;const i=e.experience,t=this.props.experience;t&&this.shouldRenderExperience()&&(i&&i.experience_id===t.experience_id||this.view())}render(){const{children:e,experience:i,disableAutoView:t}=this.props;return i&&this.shouldRenderExperience()?"function"==typeof e?e({experience:i,complete:this.complete,dismiss:this.dismiss,...t?{view:this.view}:Object.freeze({})}):n.Children.only(e):null}}function c(e){const i=(0,a.useSelector)((({experiences:i})=>e.experience||(e.placementId?i[e.placementId]:void 0))),t=(0,a.useDispatch)();return(0,r.jsx)(d,{...e,experience:i,completeExperience:(e,i,n,a)=>t((0,o.CK)(e,i,n,!1,{},a)),completeExperienceObject:(e,i)=>t((0,l.Tl)(e,i)),dismissExperience:(e,i,n,a)=>t((0,o.Qu)(e,i,n,void 0,a)),dismissExperienceObject:e=>t((0,l.CF)(e)),viewExperience:(e,i,n)=>t((0,o.UT)(e,i,!1,!1,void 0,n)),viewExperienceObject:e=>t((0,l.dy)(e))})}s(d,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},220590:(e,i,t)=>{t.d(i,{F:()=>p,M:()=>u});var n=t(667294),a=t(702664),o=t(14890),l=t(583592),r=t(527386),s=t(256558),d=t(785893);const{Provider:c,useHook:u}=(0,l.Z)("ExperienceContext");function p({children:e}){const[i,t]=(0,n.useReducer)(((e,i)=>{if("MOUNT_PLACEMENT"===i.type)return{...e,[i.payload]:!0};if("UNMOUNT_PLACEMENT"===i.type){const t={...e};return delete t[i.payload],t}return e}),{}),l=(0,a.useDispatch)(),u=(0,a.useSelector)((e=>e.experiences)),p=(0,n.useMemo)((()=>{const e=(0,o.bindActionCreators)({completeExperience:r.CK,dismissExperience:r.Qu,fetchAllExperiences:r.fO,fetchAllExperiencesMulti:s.NW,fetchExperienceForPlacements:r.pz,mountPlacement:r.N,triggerExperimentsForPlacement:r.kd,viewExperience:r.UT},l);return{...e,mountPlacement:(i,...n)=>{e.mountPlacement(i,...n),t({type:"MOUNT_PLACEMENT",payload:i})},unmountPlacement:e=>{t({type:"UNMOUNT_PLACEMENT",payload:e})}}}),[l,t]),_=(0,n.useMemo)((()=>({experiences:u,mountedPlacements:i,...p})),[u,i,p]);return(0,d.jsx)(c,{value:_,children:e})}},297776:(e,i,t)=>{t.r(i),t.d(i,{default:()=>u});var n=t(667294),a=t(883119),o=t(33476),l=t(785893);function r(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class s extends n.PureComponent{constructor(...e){super(...e),r(this,"onScroll",(()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout((()=>{e(),this.dismissed=!0,this.timer=void 0}),3e3))})),r(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:i,thumbnails:t,idealDirection:n}=this.props,o=t.slice(-3);return(0,l.jsx)(a.J2,{anchor:e,color:"white",idealDirection:n,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,l.jsxs)(a.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,l.jsx)(a.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,l.jsx)(a.xv,{color:"default",weight:"bold",children:i})}),(0,l.jsx)(a.xu,{display:"flex",marginEnd:-2,paddingX:2,children:o.map((e=>(0,l.jsx)(a.xu,{height:60,width:50,paddingX:1,children:(0,l.jsx)(a.zd,{rounding:2,height:60,children:(0,l.jsx)(a.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)))})]})})}}var d=t(133149);function c(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class u extends n.Component{constructor(...e){super(...e),c(this,"dismissRef",(0,n.createRef)()),c(this,"state",{paused:!1}),c(this,"dismissCb",(()=>{var e,i;null===(e=(i=this.dismissRef).current)||void 0===e||e.call(i)})),c(this,"handlePulsarClick",((e,i)=>{e?this.setState({paused:!0}):i()}))}componentWillUnmount(){const{anchor:e}=this.props;clearTimeout(this.timer),null==e||e.removeEventListener("click",this.dismissCb)}setDefaultPulsarTooltip(e){const i=e=>!(null==e);e.has_pulsar=!i(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!i(e.has_tooltip)||e.has_tooltip}getText(e,i,t){return i&&e.text.replace("{boardName}",i),t?t(e):e.text}render(){const{anchor:e,customWrapper:i,experienceIds:t,boardTextOverride:r,flyoutSize:c,fontSize:u,hasFullWidthButton:p=!0,idealDirection:_,useMasonryFlyout:m,noClickToDismiss:h,onClickComplete:g,onClickDismiss:y,placementId:v,positionRelativeToAnchor:f,shouldTimeoutDismiss:x,showCaret:b,textAlign:P,textOverflow:S,textOverrideFn:w,textWeight:I,customizedComplete:T,pulsarZIndex:A,advertiserId:k}=this.props,E=i||(({children:e})=>m?(0,l.jsx)(a.mh,{children:e}):e),C="blue";return(0,l.jsx)(o.Z,{eligibleIds:t,placementId:v,eligibleTypes:[8],targeting:k?{advertiserId:parseInt(k,10)}:null,children:({complete:i,dismiss:t,experience:o})=>{const{display_data:{scroll_to_dismiss:v,scroll_to_dismiss_delay_in_seconds:k=0,...j}}=o,R=v&&e,D=()=>{F(),setTimeout(t,1e3*k)},F=()=>{R&&(window.removeEventListener("scroll",D),window.removeEventListener("touchmove",D))},L=()=>{F(),i()};if(R&&(window.addEventListener("scroll",D),window.addEventListener("touchmove",D)),this.setDefaultPulsarTooltip(j),!j.has_pulsar&&!j.has_tooltip)return L(),null;x&&j.disappearTime&&j.disappearTime>0&&(this.timer=setTimeout((()=>(D(),null)),j.disappearTime));const O=501041===o.experience_id||505086===o.experience_id;return j.has_tooltip&&!j.has_pulsar&&(this.dismissRef.current=D,null==e||e.addEventListener("click",this.dismissCb)),(0,l.jsxs)(n.Fragment,{children:[j.has_pulsar&&(0,l.jsx)(d.Z,{anchor:e,leftOverride:O?342:void 0,onTouch:()=>this.handlePulsarClick(j.has_tooltip,L),paused:this.state.paused,topOverride:O?-5:void 0,zIndex:A&&A.index()}),j.has_tooltip&&(!j.has_pulsar||this.state.paused)&&(j.thumbnail_urls?(0,l.jsx)(s,{anchor:e,dismiss:D,idealDirection:_||"down",text:j.text,thumbnails:j.thumbnail_urls}):(0,l.jsx)(E,{children:(0,l.jsx)(a.J2,{anchor:e,color:"deprecatedBlue",idealDirection:_||"down",onDismiss:h?()=>{}:D,positionRelativeToAnchor:!m&&f,shouldFocus:!1,_deprecatedShowCaret:b,size:c,children:(0,l.jsxs)(a.xu,{column:12,padding:3,children:[(0,l.jsxs)(a.xv,{align:"right"===P?"end":P,color:"inverse",overflow:S,size:u,weight:I||"bold",children:[this.getText(j,r,w),j.secondary_cta_link&&(0,l.jsx)(a.xu,{display:"inlineBlock",marginStart:1,children:(0,l.jsx)(a.xv,{size:u,weight:"bold",color:"inverse",children:(0,l.jsx)(a.rU,{display:"inlineBlock",target:"blank",href:j.secondary_cta_link.url,underline:"hover",children:j.secondary_cta_link.text})})})]}),j.sub_text&&(0,l.jsx)(a.xu,{paddingY:2,children:(0,l.jsx)(a.xv,{color:"inverse",size:u,children:j.sub_text})}),(j.dismiss_button_text||j.complete_button_text)&&(0,l.jsxs)(a.xu,{display:"flex",alignItems:"center",marginTop:2,children:[j.dismiss_button_text&&(0,l.jsx)(a.xu,{marginEnd:1,column:6,children:(0,l.jsx)(a.zx,{fullWidth:p,color:C,onClick:()=>{y&&y(),D()},size:"md",text:j.dismiss_button_text})}),j.complete_button_text&&(0,l.jsx)(a.xu,{column:j.dismiss_button_text?6:12,children:T?(0,l.jsx)(a.iP,{fullHeight:!0,onTap:()=>{L(),g&&g()},rounding:2,children:(0,l.jsx)(a.xu,{display:"flex",color:"default",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,l.jsx)(a.xv,{color:"shopping",weight:"bold",children:j.complete_button_text})})}):(0,l.jsxs)(a.kC,{justifyContent:"center",children:[j.complete_button_cta_url&&(0,l.jsx)(a.ZP,{fullWidth:p,color:"white",href:j.complete_button_cta_url,size:"md",target:j.complete_button_cta_url?"blank":null,text:j.complete_button_text,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),L(),g&&g()}}),!j.complete_button_cta_url&&(0,l.jsx)(a.zx,{fullWidth:p,color:"white",size:"md",role:"button",text:j.complete_button_text,onClick:()=>{L(),g&&g()}})]})})]})]})})}))]})}})}}c(u,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},216702:(e,i,t)=>{t.d(i,{CF:()=>r,Tl:()=>l,dy:()=>s});var n=t(690108),a=t(527386);const o=(e,i)=>(t,o)=>l=>{if(t&&t.id){const r=n.Z.create(e,{placed_experience_id:t.id,extra_context:{}});switch(i){case"dismissed":r.callDelete().then((()=>{l((0,a.fO)())}));break;case"completed":r.callUpdate().then((()=>{o||l((0,a.fO)())}));break;case"viewed":r.callUpdate()}}},l=o("UserExperienceCompletedResource","completed"),r=o("UserExperienceResource","dismissed"),s=o("UserExperienceViewedResource","viewed")},187815:(e,i,t)=>{t.d(i,{HI:()=>l,f8:()=>s,hm:()=>r,sH:()=>o});var n=t(883119),a=t(785893);const o=({children:e})=>(0,a.jsx)(n.xu,{padding:4,position:"absolute",bottom:!0,left:!0,right:!0,children:e}),l=({children:e})=>(0,a.jsx)(n.xu,{padding:2,children:e}),r=({children:e})=>(0,a.jsx)(n.xu,{display:"flex",position:"absolute",top:!0,height:"100%",width:"100%",alignItems:"center",justifyContent:"center",children:e}),s=({children:e})=>(0,a.jsx)(n.xu,{padding:4,position:"absolute",top:!0,left:!0,right:!0,children:e})},105095:(e,i,t)=>{t.d(i,{Ec:()=>d,IA:()=>g,LX:()=>c,Mf:()=>h,SF:()=>r,_e:()=>s,l0:()=>l,ml:()=>o,q4:()=>a,zn:()=>n});const n=e=>["feed_card_default","feed_card_video"].includes(e),a=2/3,o=2/3,l=1/3,r="36px",s="28px",d=.4,c=.65,u={0:"start",1:"center",2:"end"},p={web:{0:"16",1:"20",2:"24"},mweb:{0:"12",1:"16",2:"18",3:"20"}},_={1:"italics",0:"normal"},m={1:"bold",0:"normal"},h=({color:e,font_style:i,font_weight:t,horizontal_alignment:n,size:a},o)=>({color:e,fontStyle:_[null!=i?i:0],fontWeight:m[null!=t?t:1],horizontalAlignment:u[null!=n?n:0],fontSize:p[o][null!=a?a:0]+"px"}),g=e=>e<=280?1.25:e>280&&e<=540?.75:e>540&&e<1024?c:d},133149:(e,i,t)=>{t.d(i,{Z:()=>s});var n=t(883119),a=t(667294),o=t(785893);const l=(e,i,t,n)=>({horizontalOffset:-(n/2-i/2),verticalOffset:-(t/2-e/2)});function r({anchor:e,children:i,zIndex:t,leftOverride:r,topOverride:s}){const d=(0,a.useRef)(null),[c,u]=(0,a.useState)(0),[p,_]=(0,a.useState)(0),{height:m,width:h}=e.getBoundingClientRect();(0,a.useEffect)((()=>{const{current:i}=d;if(e&&i){const{height:e,width:t}=i.getBoundingClientRect(),{horizontalOffset:n,verticalOffset:a}=l(m,h,e,t);u(n),_(a)}}));const g=r||c,y=s||p;return(0,o.jsx)(n.xu,{position:"absolute",zIndex:t?new n.Ry(t):void 0,dangerouslySetInlineStyle:{__style:{left:g,top:y}},ref:d,children:i})}const s=function(e){const{anchor:i,leftOverride:t,onTouch:a,onMouseEnter:l,paused:s,size:d,topOverride:c,zIndex:u}=e;return i?(0,o.jsx)(r,{anchor:i,leftOverride:t,topOverride:c,zIndex:u,children:(0,o.jsx)(n.iP,{fullWidth:!1,onTap:({event:e})=>a(e),onMouseEnter:l,rounding:"circle",children:(0,o.jsx)(n.o3,{paused:s,size:d})})}):null}},765456:(e,i,t)=>{t.d(i,{_:()=>d,a:()=>c});var n=t(667294),a=t(702664),o=t(618446),l=t.n(o),r=t(527386),s=t(282802);const d=({extraContext:e,id:i,shouldUsePlacedExperience:t=!0})=>{const o=(0,n.useRef)(),d=(0,a.useDispatch)(),{isBot:c}=(0,s.B)(),u=(0,a.useSelector)((e=>e.experiences[i]));return(0,n.useEffect)((()=>{d((0,r.kd)(i))}),[d,u,i]),(0,n.useEffect)((()=>{t||l()(o.current,e)||(d((0,r.pz)([i],c,e)),o.current=e)}),[d,e,c,i,t]),u},c=e=>(d(e),(0,a.useSelector)((i=>i.experiencesMulti[e.id])))},624799:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(667294),a=(t(527386),t(220590)),o=t(703688),l=(t(256558),t(282802));function r(e){const{mountedPlacements:i,completeExperience:t,dismissExperience:r,experiences:s,fetchAllExperiences:d,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:p,viewExperience:_}=(0,a.M)(),{isBot:m}=(0,l.B)(),h=e&&!m?(0,o.MQ)(s,i,e):null;return(0,n.useMemo)((()=>({completeExperience:t,dismissExperience:r,experienceForPlacement:h,fetchAllExperiences:d,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:p,viewExperience:_})),[t,r,h,d,c,u,p,_])}},917027:(e,i,t)=>{t.r(i),t.d(i,{default:()=>S});var n=t(667294),a=t(604094),o=t(365434),l=t(883119),r=t(388011),s=t(51992);function d({isRTL:e,maxItemWidth:i=300,maxColumns:t=16,minColumns:n=2}){let a=`\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n  max-width: ${t*i}\n}\n\n.gridCentered .static {\n  position: absolute !important;\n  visibility: hidden !important;\n}\n\n@media (min-width: ${t*i}px) {\n  .gridCentered .static:nth-child(-n+${t}) {\n    position: static !important;\n    visibility: visible !important;\n    float: ${e?"right":"left"};\n    display: block;\n  }\n\n  .gridCentered .static:nth-child(-n+${t}) {\n    position: static !important;\n    visibility: visible !important;\n    float: ${e?"right":"left"};\n    display: block;\n  }\n\n  .gridCentered .static {\n    width: ${i}px !important;\n  }\n}\n`;for(let o=n;o<t+1;o+=1){a+=`\n@media (min-width: ${o===n?0:(o-1)*i+1}px) and (max-width: ${o*i}px) {\n  .gridCentered .static:nth-child(-n+${o}) {\n    position: static !important;\n    visibility: visible !important;\n    float: ${e?"right":"left"};\n    display: block;\n  }\n\n  .gridCentered .static {\n    width: calc(100% / ${o}) !important;\n  }\n}\n`}return a}var c,u,p,_=t(24286),m=t(874261),h=t(245410),g=t(282802),y=t(935340),v=t(785893);class f extends n.Component{getGutters(){const{gutterWidth:e,paddingStyle:i}=this.props,t="simplified"===i,n=t?_.oX:e,a=t?16:6;return{gutterWidth:null!=n?n:_.ZZ,paddingBottom:a}}render(){const{_batchPaints:e,columnWidth:i,flexible:t,isGridCentered:n,isInitialRender:a,isRTL:o,isTwoColMasonryExpEnabled:r,items:c,layout:u,loadItems:p,logContextEvent:h,masonryRef:g,measurementStore:f,minCols:x,positionStore:b,renderItem:P,scrollContainerRef:S,serverRender:w,virtualBufferFactor:I,virtualize:T}=this.props,{gutterWidth:A,paddingBottom:k}=this.getGutters(),E=w?"serverRenderedFlexible":"flexible";let C;n&&a&&(C="gridCentered");const j=()=>(null==S?void 0:S.current)||window;return(0,v.jsxs)("div",{className:C,children:[w&&a&&(0,v.jsx)(m.Z,{unsafeCSS:t?d({isRTL:o,maxItemWidth:(i||_.yF)+A,maxColumns:c.length||_.g5,minColumns:x||_.yc}):(0,s.Z)({isRTL:o,itemWidth:(i||_.yF)+A,maxColumns:c.length||_.g5,minColumns:x||_.yc})}),(0,v.jsx)(l.Rk,{columnWidth:(null!=i?i:_.yF)+A,gutterWidth:0,items:c,layout:t?E:null!=u?u:"basic",loadItems:p,measurementStore:f,minCols:x,_twoColItems:r,_logTwoColWhitespace:r?e=>{(0,y.S0)("webapp.masonry.twoColWhitespace",e,{sampleRate:1,tags:{columnWidth:i,minCols:x}}),h({event_type:14705,component:14468,aux_data:{whitespace_px:e}})}:void 0,ref:e=>{g&&(g.current=e)},renderItem:e=>(0,v.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:k,paddingLeft:A/2,paddingRight:A/2}},children:P(e)}),positionStore:b,scrollContainer:j,virtualize:T,virtualBufferFactor:I,_batchPaints:e})]})}}function x(e){var i;const{isRTL:t}=(0,g.B)(),{logContextEvent:a}=(0,r.v)(),{checkExperiment:o}=(0,h.F)(),l=null!==(i={enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"}[o("web_masonry_virtual_buffer_factor").group])&&void 0!==i?i:.7,s=(0,n.useRef)(!0);return(0,n.useEffect)((()=>{s.current&&(s.current=!1)}),[]),(0,v.jsx)(f,{...e,isInitialRender:s.current,isRTL:t,virtualBufferFactor:l,logContextEvent:a})}c=f,u="defaultProps",p={gutterWidth:_.ZZ,isGridCentered:!0,minCols:_.yc,paddingStyle:"simplified",virtualize:!0},u in c?Object.defineProperty(c,u,{value:p,enumerable:!0,configurable:!0,writable:!0}):c[u]=p;var b=t(282442);class P extends n.Component{constructor(...e){super(...e),function(e,i,t){i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t}(this,"loadItems",(()=>{const{isFetching:e,loadItems:i}=this.props;!e&&i&&i()}))}render(){const{cacheKey:e,columnWidth:i,flexible:t,gutterWidth:n,isGridCentered:l,items:r,layout:s,masonryRef:d,minCols:c,paddingStyle:u,renderItem:p,scrollContainerRef:_,serverRender:m,virtualize:h,_batchPaints:g,isTwoColMasonryExpEnabled:y}=this.props;return(0,v.jsx)(x,{columnWidth:i,flexible:t,gutterWidth:n,isGridCentered:l,isTwoColMasonryExpEnabled:y,renderItem:e=>(0,v.jsx)(a.Z,{name:"MasonryPerfTimingItem",children:p(e)}),items:r,layout:s,loadItems:this.loadItems,masonryRef:d,measurementStore:(0,o.z)(e),minCols:c,paddingStyle:u,scrollContainerRef:_,serverRender:m,virtualize:h,_batchPaints:g,...y?{positionStore:(0,o.Y)(e)}:{}})}}function S({cacheKey:e,columnWidth:i,flexible:t,gutterWidth:n,isAtEnd:a,isFetching:o,isGridCentered:l=!0,renderItem:r,items:s,pinData:d,layout:c,loadItems:u,masonryRef:p,minCols:_,paddingStyle:m,scrollContainerRef:g,serverRender:y=!0,isTwoColMasonryExpEnabled:f,virtualize:x=!0,includeBackgroundImages:S,includeVideos:w}){const{checkExperiment:I}=(0,h.F)(),T=I("web_masonry_batched_paints").anyEnabled;return(0,v.jsx)(b.Z,{isAtEndOfFeed:a,pinData:d,itemCount:s.length,includeBackgroundImages:S,includeVideos:w,children:(0,v.jsx)(P,{cacheKey:e,isTwoColMasonryExpEnabled:f,columnWidth:i,flexible:t,gutterWidth:n,isFetching:o,isGridCentered:l,items:s,layout:c,loadItems:u,masonryRef:p,minCols:_,paddingStyle:m,renderItem:r,scrollContainerRef:g,serverRender:y,virtualize:x,_batchPaints:T})})}},604541:(e,i,t)=>{t.d(i,{Z:()=>g});var n=t(667294),a=t(616550),o=t(883119),l=t(604094),r=t(365434);function s({flexible:e,gutterWidth:i,id:t,isRTL:n,itemWidth:a,maxColumns:o,minColumns:l}){const r=t.replace(/\:/g,"\\:"),s=a+i;return`\n    .gridCentered {\n      margin-left: auto;\n      margin-right: auto;\n    }\n\n    .gridCentered .static {\n      position: absolute !important;\n      visibility: hidden !important;\n    }\n\n    ${Array.from({length:o+1-l},((e,i)=>i+l)).map((t=>{const d=t===o?null:(t+1)*s-1;return`\n      @media (min-width: ${t===l?0:t*s}px) ${d?`and (max-width: ${d}px)`:""} {\n        #${r} .static:nth-child(-n+${t}) {\n          position: static !important;\n          visibility: visible !important;\n          float: ${n?"right":"left"};\n          display: block;\n        }\n\n        ${e?`\n      #${r} .static {\n        width: calc(100% / ${t}) !important;\n      }\n    `:`\n      #${r} {\n        width: ${t*s}px;\n      }\n\n      #${r} .static {\n        padding: 0 ${i/2}px;\n        width: ${a}px !important;\n      }\n    `}\n      }\n    `})).join("")}\n  `}var d=t(24286),c=t(874261),u=t(988014),p=t(245410),_=t(282802),m=t(549201),h=t(785893);function g({cacheKey:e,columnWidth:i,gutterWidth:t,id:g,renderItem:y,items:v,layout:f,loadItems:x,masonryRef:b,minCols:P,scrollContainerRef:S,serverRender:w,resetPositions:I,virtualize:T=!0}){var A;const{isRTL:k}=(0,_.B)(),E=(0,m.ZP)(),C=(0,a.useLocation)(),j="desktop"!==E,R=w?"serverRenderedFlexible":"flexible",D=(0,u.Q0)(C)&&"desktop"===E?d.OS:v.length||d.g5,F=(0,n.useCallback)((()=>(null==S?void 0:S.current)||window),[S]),L=(0,r.Y)(e),[O,z]=(0,n.useState)(!1);(0,n.useEffect)((()=>{I&&!O&&(null==L||L.reset(),z(!0))}),[L,I,O]);const{checkExperiment:N}=(0,p.F)(),M=null!==(A={enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"}[N("duplo_masonry_virtual_buffer_factor").group])&&void 0!==A?A:.7,B=N("web_masonry_batched_paints").anyEnabled;return(0,h.jsxs)("div",{id:g,className:"gridCentered","data-test-id":"masonry-container",children:[w&&g&&(0,h.jsx)(c.Z,{"data-test-id":"mobile-grid-styles",unsafeCSS:s({flexible:j,gutterWidth:t||0,id:g,isRTL:k,itemWidth:i||d.yF,maxColumns:D,minColumns:P||d.yc})}),(0,h.jsx)(o.Rk,{columnWidth:i,renderItem:e=>(0,h.jsx)(l.Z,{name:"MobileGridItem",children:y(e)}),gutterWidth:t||1,layout:j?R:null!=f?f:"basic",items:v,loadItems:x,measurementStore:(0,r.z)(e),minCols:P||d.yc,positionStore:L,ref:e=>{b&&(b.current=e)},scrollContainer:F,virtualize:T,virtualBufferFactor:M,_batchPaints:B})]})}},365434:(e,i,t)=>{t.d(i,{Y:()=>s,z:()=>d});t(883119);function n(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}const a={};function o(e){const i=a[e];return i&&i.screenWidth===window.innerWidth||(a[e]={screenWidth:window.innerWidth}),a[e]}const l=e=>{const i=e.__id||e.id;return"string"==typeof i&&i||null};class r{constructor(){n(this,"idMap",new Map),n(this,"objMap",new Map)}get(e){const i=l(e);return i?this.idMap.get(i):this.objMap.get(e)}has(e){const i=l(e);return i?this.idMap.has(i):this.objMap.has(e)}set(e,i){const t=l(e);t?this.idMap.set(t,i):this.objMap.set(e,i)}reset(){this.idMap=new Map,this.objMap=new Map}}function s(e){if(null==e)return;const i=o(e);return i.positionCache||(i.positionCache=new r),i.positionCache}function d(e){if(null==e)return;const i=o(e);return i.measurementCache||(i.measurementCache=new r),i.measurementCache}},51992:(e,i,t)=>{function n({isRTL:e,itemWidth:i=236,maxColumns:t=16,minColumns:n=2}){let a="\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n}\n.gridCentered .static {\n  position: absolute;\n  visibility: hidden;\n}\n";for(let o=n;o<t+1;o+=1){a+=`\n@media (min-width: ${o===n?0:o*i}px) and (max-width: ${(o+1)*i-1}px) {\n  .gridCentered {\n    width: ${o*i}px;\n  }\n  .gridCentered .static:nth-child(-n+${o}) {\n    position: static !important;\n    visibility: visible !important;\n    float: ${e?"right":"left"};\n    display: block;\n  }\n}\n`}return a}t.d(i,{Z:()=>n})},88622:(e,i,t)=>{t.d(i,{ZP:()=>d,b7:()=>l.b7,bN:()=>r,p4:()=>s});var n=t(240684),a=t(549201),o=t(785893),l=t(467105);const r=(0,n.ZP)({resolved:{},chunkName:()=>"DesktopModal",isReady(e){const i=this.resolve(e);return!0===this.resolved[i]&&!!t.m[i]},importAsync:()=>t.e(51879).then(t.bind(t,943072)),requireAsync(e){const i=this.resolve(e);return this.resolved[i]=!1,this.importAsync(e).then((e=>(this.resolved[i]=!0,e)))},requireSync(e){const i=this.resolve(e);return t(i)},resolve(){return 943072}}),s=(0,n.ZP)({resolved:{},chunkName:()=>"MobileModal",isReady(e){const i=this.resolve(e);return!0===this.resolved[i]&&!!t.m[i]},importAsync:()=>t.e(72430).then(t.bind(t,894121)),requireAsync(e){const i=this.resolve(e);return this.resolved[i]=!1,this.importAsync(e).then((e=>(this.resolved[i]=!0,e)))},requireSync(e){const i=this.resolve(e);return t(i)},resolve(){return 894121}});function d(e){const i=(0,a.ZP)(),t=void 0===e.isOpen||e.isOpen;if("desktop"===i&&t){const{isOpen:i,mobileAccessibilityCloseIconLabel:t,mobileAllowScroll:n,mobileHideCloseIcon:a,mobileIsFullscreen:l,mobileIsSlideUp:s,type:d,mobileIsFooter:c,zIndex:u,...p}=e;return(0,o.jsx)(r,{...p})}const{allowClickAndDrag:n,allowMediaPlay:l,allowScroll:d,role:c,size:u,_dangerouslyDisableScrollBoundaryContainer:p,..._}=e;return(0,o.jsx)(s,{..._,isOpen:t})}},894121:(e,i,t)=>{t.r(i),t.d(i,{default:()=>y});var n=t(667294),a=t(883119),o=t(387977),l=t(467105),r=t(536042),s=t(906215),d=t(282802),c=t(455788),u=t(98736),p=t(549201),_=t(886365),m=t(785893);const h=()=>{if(document.body){const{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}},g=()=>{if(document.body){const{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}};function y({accessibilityModalLabel:e,align:i="center",allowScroll:t=!1,children:y,closeOnOutsideClick:v=!0,footer:f,heading:x,mobileAccessibilityCloseIconLabel:b,mobileHideCloseIcon:P,mobileIsFullscreen:S,isOpen:w,mobileIsSlideUp:I,mobileIsFooter:T,onDismiss:A,zIndex:k,subHeading:E,type:C}){const j=(0,r.ZP)(),{isRTL:R}=(0,d.B)(),D=(0,n.useRef)(!1),[F,L]=(0,n.useState)(!1),{setAppFocusState:O}=(0,_.I)(),z=(0,p.ZP)();(0,n.useEffect)((()=>{(0,u.My)(`mweb_unauth.mobile_modal.${C||"unknown_type"}.did_mount.is_open.${String(!!w)}`)}),[w,C]),(0,n.useEffect)((()=>(D.current=(0,o.Z)((()=>{D.current&&L(!0)})),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&D.current&&(window.cancelAnimationFrame(D.current),D.current=null)})),[]),(0,n.useEffect)((()=>(w?(s.Z.pause(),O(!1)):(s.Z.resume(),O(!0)),()=>{w&&(s.Z.resume(),O(!0))})),[O,w]),(0,n.useEffect)((()=>{const e=w&&!t;return e&&h(),()=>{e&&g()}}),[w,t]);return w?(0,m.jsx)(c.Z,{children:(0,m.jsx)(a.mh,{children:(0,m.jsxs)(a.xu,{"aria-label":e,display:"inlineBlock",zIndex:k||l.ZM,position:"relative",role:"dialog",children:[(0,m.jsx)(a.iP,{accessibilityLabel:j._('Mobile Signup Modal Mask', 'mweb.signup_modal.mask', 'The acessibility label for the mask of mobile signup modal'),onTap:({event:e})=>{e.clientX&&e.clientY&&(0,u.tj)(`mweb_unauth.mobile_modal.wash_tap.${C||"unknown_type"}.with_dismissal`,{x:e.clientX,y:e.clientY}),v&&A()},tapStyle:"none",children:(0,m.jsx)(a.xu,{height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new a.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}}})}),(0,m.jsxs)(a.xu,{position:"fixed",color:"default","data-test-id":"mobile-signup-mask",dangerouslySetInlineStyle:I?(0,l.Vf)({isFullscreen:S,isTablet:"tablet"===z,isShowing:F,isRelatedInterestsModal:"related_interests_modal"===C}):(0,l.JN)({variant:S?"fullscreen":"tablet"===z?"tablet":T?"footer":"signup"===C?"signup":void 0}),children:[(0,m.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",width:"100%",gap:{row:2,column:0},children:[b&&!P?(0,m.jsx)(a.xu,{padding:2,"data-test-id":"mobile-modal-cancel-button",children:(0,m.jsx)(a.hU,{accessibilityLabel:b,iconColor:"darkGray",icon:"cancel",onClick:A,padding:4,size:"sm"})}):null,x?(0,m.jsx)(a.kC.Item,{flex:"grow",children:(0,m.jsx)(a.kC,{direction:"column",alignItems:"center",justifyContent:"center",children:(0,m.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:b&&!P?{marginRight:R?-10:50,marginLeft:R?50:-10}:{}},children:[S?x:(0,m.jsx)(a.xv,{align:i,weight:"bold",size:"400",children:x}),E?(0,m.jsx)(a.xv,{align:i,children:E}):null]})})}):null]}),(0,m.jsxs)(a.xu,{overflow:"auto",children:[y,f]})]})]})})}):null}},467105:(e,i,t)=>{t.d(i,{JN:()=>d,Vf:()=>c,ZM:()=>r,b7:()=>l,i_:()=>s});var n=t(883119),a=t(377234),o=t(360675);const l=new n.Ry(1e3),r=new n.H3([o.Z]),s=12,d=({variant:e})=>{let i;return i="fullscreen"===e?{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"}:"tablet"===e?{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1}:"footer"===e?{border:(0,a.Yc)()?void 0:"1px solid #efefef",bottom:0,boxShadow:"0 0 16px rgba(0,0,0, 0.16)",left:0,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1}:"signup"===e?{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"}:{border:(0,a.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden",borderRadius:"32px 32px 0 0"},{__style:i}},c=({isFullscreen:e,isTablet:i,isShowing:t,isRelatedInterestsModal:n})=>{let o={border:(0,a.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},l=t?"translateY(0)":"translateY(100vh)";return o.height=e?"100vh":"",i&&n&&(o={...o,width:425,left:"50%",transform:"translateX(-50%)"},l=t?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:{...o,transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:l}}}},870243:(e,i,t)=>{t.d(i,{qE:()=>r,u_:()=>s.ZP});var n=t(883119),a=t(785893);const o=(e,i)=>{const t=null==e?void 0:e.includes("images/user/default");return Boolean(t&&i)};function l({accessibilityLabel:e,name:i,outline:t,size:l,src:r,verified:s}){return(0,a.jsx)(n.qE,{accessibilityLabel:e,name:i,outline:t,size:l,src:o(r,i)?void 0:r,verified:s})}l.displayName="Avatar";const r=l;var s=t(88622);t(550140)},128340:(e,i,t)=>{t.d(i,{b:()=>a});const n=({height:e,url:i,width:t})=>({height:e,url:i,width:t}),a=e=>Object.entries(e).reduce(((e,[i,t])=>({...e,[i]:t&&n(t)})),{})},448709:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(667294),a=t(497088),o=t(785893);function l({useGraphQLAdapter:e,useLegacyAdapter:i}){const t=({children:i,data:t})=>i({enabled:!0,data:e(t)}),l=({children:e,data:t})=>e({enabled:!1,data:i(t)});return function({children:e,input:i}){var r;const s=i.enabled?(0,o.jsx)(t,{data:i.data,children:e}):(0,o.jsx)(l,{data:i.data,children:e}),d=null!==(r=i.suspense)&&void 0!==r&&r.dangerouslyServerRender?n.Suspense:a.Z;return i.suspense?(0,o.jsx)(d,{fallback:i.suspense.fallback,children:s}):s}}},13596:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(734417),a=t(282802),o=t(785893);const l=({currency:e,maximumFractionDigits:i,minimumFractionDigits:t,shortform:l,shortformMaximumFractionDigits:r,formatStyle:s,uplimit:d,value:c})=>{const u=(0,n.Z)();return(0,o.jsx)(a.LC,{children:n=>u(n.locale||"en-US",c,{currency:e,maximum_fraction_digits:i,minimum_fraction_digits:t,shortform:l,shortform_maximum_fraction_digits:r,style:s,uplimit:d})})}},62152:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(736409),a=t(536042),o=t(630089);function l(){const e=(0,a.ZP)();return function(i,t){const a=new Date(i),l=new Date-a,r=Math.floor(l/n.FS),s=Math.floor(l/n.UK),d=Math.floor(l/n.F4),c=Math.floor(l/n.VL),u=Math.floor(l/n.N1),p=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', r, ' - ', ' -- '),_=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', s, ' - ', ' -- '),m=e.ngettext('{{ days }} day ago', '{{ days }} days ago', d, ' - ', ' -- '),h=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', c, ' - ', ' -- '),g=e.ngettext('{{ years }} year ago', '{{ years }} years ago', u, ' - ', ' -- '),y=e.ngettext('{{ minutes }}m', '{{ minutes }}m', r, 'minutes ago abbreviated', 'minutes ago abbreviated'),v=e.ngettext('{{ hours }}h', '{{ hours }}h', s, 'hours ago abbreviated', 'hours ago abbreviated'),f=e.ngettext('{{ days }}d', '{{ days }}d', d, 'days ago abbreviated', 'days ago abbreviated'),x=e.ngettext('{{ weeks }}w', '{{ weeks }}w', c, 'weeks ago abbreviated', 'weeks ago abbreviated'),b=e.ngettext('{{ years }}y', '{{ years }}y', u, 'years ago abbreviated', 'years ago abbreviated');return u>0?(0,o.nk)(t?b:g,{years:u}).join(""):c>0?(0,o.nk)(t?x:h,{weeks:c}).join(""):d>0?(0,o.nk)(t?f:m,{days:d}).join(""):s>0?(0,o.nk)(t?v:_,{hours:s}).join(""):r>0?(0,o.nk)(t?y:p,{minutes:r}).join(""):e._('Just now', ' - ', ' -- ')}}},536042:(e,i,t)=>{t.d(i,{ZP:()=>r,oz:()=>o,q6:()=>a});var n=t(583592);const{Provider:a,Consumer:o,useHook:l}=(0,n.Z)("i18n"),r=l},734417:(e,i,t)=>{t.d(i,{Z:()=>d});var n=t(536042),a=t(493851);const o=(e,i)=>{const t=i||0,n=10**t,a=+(t?e*n:e).toFixed(8),o=Math.floor(a),l=a-o,r=l>.5-1e-8&&l<.5+1e-8?o%2==0?o:o+1:Math.round(a);return t?r/n:r},l=({maximumFractionDigits:e,minimumFractionDigits:i,style:t,currency:n})=>{const a={maximumFractionDigits:e,minimumFractionDigits:i};return t?{...a,style:t,..."currency"===t?{currency:n,currencyDisplay:"symbol"}:{}}:a},r=e=>{try{(0).toLocaleString([e])}catch(i){return!1}return!0},s=(e,i)=>{if(i){const{minimumFractionDigits:t,maximumFractionDigits:n}=new Intl.NumberFormat(e,{style:"currency",currency:i}).resolvedOptions();if(void 0!==t&&void 0!==n)return{minimumFractionDigits:t,maximumFractionDigits:n}}return{minimumFractionDigits:2,maximumFractionDigits:2}};function d(){const e=(0,n.ZP)();return(i,t,n)=>{let d=0,c=0;const u=n&&n.style||void 0,p=n&&n.shortform||!1,_=n&&n.uplimit||void 0,m=n&&n.currency||void 0,h=!!_&&t>=_,g=_&&h?_:t;if("currency"===u){const{minimumFractionDigits:e,maximumFractionDigits:t}=s(i,m);d=void 0===n||void 0===n.maximum_fraction_digits?t:n.maximum_fraction_digits,c=void 0===n||void 0===n.minimum_fraction_digits?e:n.minimum_fraction_digits}else d=void 0===n||void 0===n.maximum_fraction_digits?0:n.maximum_fraction_digits,c=void 0===n||void 0===n.minimum_fraction_digits?0:n.minimum_fraction_digits;if(p&&g>999&&(d=void 0===n||void 0===n.shortform_maximum_fraction_digits?2:n.shortform_maximum_fraction_digits,c=0),d<c)return String(g);let y=g,v="";const f=[{"100M":{value:1e8,localeKey:e._('億', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('万', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],x=[{b:{value:1e9,localeKey:e._('B', 'Abbreviation for one billion.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('M', 'Abbreviation for one million.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Abbreviation for one thousand.', 'Abbreviation for one thousand.')}}],b=/^zh|ja|ko/.test(i);if(p&&g>999){const e=b?f:x;for(let i=0;i<e.length;i+=1){const t=Object.keys(e[i])[0],n=e[i][t].value;if(g>=n){y=o(g/n*Math.pow(10,d))/Math.pow(10,d),v=e[i][t].localeKey;break}}}if(null==y)return"";const P=y.toLocaleString([r(i)&&"ar-SA"!==i?i:"en-US"],l({maximumFractionDigits:d,minimumFractionDigits:c,currency:m,style:u}));return v&&v.length>0?(0,a.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:P,numberSuffix:v})+(h?"+":""):P+(h?"+":"")}}},833122:(e,i,t)=>{t.d(i,{F:()=>s,Z:()=>r});var n=t(667294),a=t(388011),o=t(906215);const l={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704}};function r({carouselData:e,closeupImpressionType:i,closeupNavigationType:t,componentType:r,contextLogData:s,clientTrackingParams:d,elementType:c,impressionAuxFields:u,inImpressionExp:p,impressionType:_,impressionsFramework:m,isPaused:h,loggingId:g,objectIdStr:y,slotIndex:v,trackCarousel:f,viewData:x,viewParameter:b,viewType:P}){const{logContextEvent:S}=(0,a.v)(),w=m||o.Z,I=(0,n.useRef)(null),T=n=>{const a=l[_],o=a.idType;let p={clientTrackingParams:d,endTime:n.endTime,[o]:g,slotIndex:v,time:n.startTime,renderDuration:n.endTime-n.startTime,type:i,...u,forcedExit:"removed"===n.forcedExit?0:void 0};var m,h,w,T;"Pin"===_&&(p={...p,pinCellWidth:(null===(m=I.current)||void 0===m?void 0:m.getBoundingClientRect().width)||0,pinCellHeight:(null===(h=I.current)||void 0===h?void 0:h.getBoundingClientRect().height)||0,windowWidth:null===(w=window)||void 0===w?void 0:w.innerWidth,windowHeight:null===(T=window)||void 0===T?void 0:T.innerHeight});const A={component:r,object_id_str:y,view_type:P,view_data:x||{},view_parameter:b};if(f){if(e){var k,E,C;S({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...p,carouselDataId:Number(e.id),carouselSlotId:(null===(k=e.carousel_slots)||void 0===k?void 0:k[null!==(E=e.index)&&void 0!==E?E:0])&&Number(e.carousel_slots[null!==(C=e.index)&&void 0!==C?C:0].id),slotIndex:e.index}]},...A,aux_data:{...s}})}}else S({clientTrackingParams:d,event_type:a.eventType,...A,element:c,event_data:{[a.impressionType]:"Story"===_?p:[p]},aux_data:{closeup_navigation_type:t,...s}})},A=(0,n.useCallback)((()=>{try{I.current instanceof HTMLElement&&w.start(I.current).onExitViewport(T).setDebugId(g||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),[I.current]);(0,n.useEffect)((()=>(p&&!w.inExperiment&&w.setExperimentStatus(!0),h||A(),()=>{I.current instanceof HTMLElement&&w.stop(I.current)})),[A]);const k=(0,n.useRef)(h);return(0,n.useEffect)((()=>{k.current&&!h&&A(),k.current=h}),[h,A]),I}const s=({children:e,...i})=>e({impressionTrackerRef:r(i)})},630089:(e,i,t)=>{t.d(i,{Wc:()=>s,bF:()=>c,nk:()=>r,r7:()=>u});var n=t(667294),a=t(785893);function o(e,i,t){return e.split(t).map((e=>{if(e.match(t)){const t=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}return e}))}const l=/(\{\{\s*\w+\s*\}\})/g;function r(e,i){return o(e,i,l)}function s(e,i){return o(e,i,l).join("")}const d=/(\{\s*\w+\s*\})/g;function c(e,i){return o(e,i,d)}const u=({text:e})=>Array.isArray(e)?e.map(((e,i)=>(0,a.jsx)(n.Fragment,{children:e},i))):e},110417:(e,i,t)=>{t.d(i,{Rq:()=>o,Vf:()=>l,jd:()=>r,k8:()=>d,oy:()=>s});var n=t(457628),a=t(791045);const o=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,l=28,r=e=>window.innerHeight>=748&&o(e),s=function(){return!("undefined"==typeof window||!window.navigator)&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)},d=e=>{if(s()){const i=n.U2(a.oj);e.experimentsClient.flush(),i||(n.t8(a.oj,String(!0),(0,n.kZ)(a.oj)),"undefined"!=typeof window&&window.location.reload(!0))}}},650414:(e,i,t)=>{t.d(i,{P:()=>o,Z:()=>a});var n=t(702664);function a(e){return e&&e[1000069]&&500417===e[1000069].experience_id&&e[1000069].display_data.hide_footer}function o(){const e=(0,n.useSelector)((({experiences:e})=>e));return!!e&&a(e)}},5342:(e,i,t)=>{t.d(i,{Z:()=>a});const n=28;function a(e,i,t=n){if(!(e||{}).resurrection_info&&!(i||{}).resurrectionInfo)return!1;let a;a=i?((i||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;const o=new Date,l=a?new Date(a):o;return l.setDate(l.getDate()+t),(new Date).getTime()<l.getTime()}},943795:(e,i,t)=>{t.r(i),t.d(i,{DEFAULT_HEIGHT:()=>c,DEFAULT_PADDING_Y:()=>u,FixedFooter:()=>v,FixedHeader:()=>y});var n=t(667294),a=t(883119),o=t(377234),l=t(906215),r=t(107577),s=t(245410),d=t(785893);const c=64,u=3,p=100,_=44,m="0px 0px 8px rgba(0, 0, 0, 0.1)",h="1px solid #efefef";function g({children:e,footerConfig:i,headerConfig:t,height:r,hideOnScroll:_,hideOnScrollState:{isHidden:g,updateHiddenState:y},noPadding:v,paddingY:f=u,type:x,zIndex:b}){const{headerLimitedOverflow:P,ignoreObstructions:S,zIndexForGestaltBug:w}=t||{},{appUpsellFooterConfig:I,footerInLego:T,navFooterConfig:A}=i||{},k=!!I,E="header"===x?"top":"bottom",{anyEnabled:C}=(0,s.F)().checkExperiment("hfp_hf_ssr_mweb",{dangerouslySkipActivation:!0}),j=(0,o.vs)(),R=C?j:(0,o.Yc)(),D=(0,n.useRef)(null),F=(0,n.useRef)(null);(0,n.useEffect)((()=>{try{if(!S){const e=D.current;F.current=P&&e&&Array.isArray(e.children)?e.children[0]:e,F.current instanceof HTMLElement&&l.Z.addObstruction(E,F.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{S||F.current instanceof HTMLElement&&l.Z.removeObstruction(E,F.current)}}),[S,P,E,R]);const L="top"===E?"relative":"fixed",O=v?0:f,z=(null!=r?r:c)+((null==t?void 0:t.overrideTop)||0),N=_||A?{transition:T?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...g?{transform:`translateY(${"top"===E?-z:z}px)`,opacity:T?0:1}:Object.freeze({})}:{},M="relative"!==L||null!=t&&t.noGutter?0:2,B=M?-M:0,Z=R?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)";let U,K;return R&&("header"===x?U=-1:K=-1),(0,d.jsx)(a.xu,{ref:D,dangerouslySetInlineStyle:{__style:{top:U,bottomStyle:K,...!b||w?{zIndex:w||1}:Object.freeze({}),...P?{background:"transparent",overflow:"hidden",paddingBottom:p,marginBottom:-p,pointerEvents:"none"}:Object.freeze({}),...null!=t&&t.hasBorder?{borderBottom:h}:Object.freeze({}),...null!=i&&i.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...N}},zIndex:w?void 0:b,"data-test-id":x,display:k?"flex":void 0,height:r&&!T?r:void 0,position:L,bottom:"footer"===x,top:"header"===x,left:!0,right:!0,marginStart:T?"auto":B,marginEnd:T?"auto":B,onTransitionEnd:()=>{(_||A)&&F.current&&(g?l.Z.removeObstruction(E,F.current):l.Z.addObstruction(E,F.current))},width:T||"fixed"!==L?void 0:"100%",children:(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:(null==t?void 0:t.isTranslucent)&&Z||(null==t?void 0:t.isTransparentBackground)&&"transparent"||"var(--color-background-default)",height:T?k?void 0:null!=r?r:c:"100%",boxShadow:T?m:void 0,marginBottom:!T||null!=A&&A.docked?void 0:16,...P?{pointerEvents:"auto"}:Object.freeze({}),...null!=t&&t.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},paddingX:("footer"!==x||v?0:4)+M,paddingY:O,position:"relative",width:A?A.footerWidth:k?void 0:"100%",rounding:!T||null!=A&&A.docked?void 0:"pill",display:T||null!=i&&i.alignCenter?"flex":void 0,marginStart:T?"auto":void 0,marginEnd:T?"auto":void 0,alignItems:null!=i&&i.alignCenter?"center":void 0,children:"function"==typeof e?e({updateHiddenState:y}):e})})}function y({hasBorder:e,headerLimitedOverflow:i,ignoreObstructions:t,isTranslucent:n,isTransparentBackground:o,noGutter:l,overrideTop:s,useRoundedCorners:c,zIndexForGestaltBug:p,...m}){const{noPadding:h,paddingY:y=u,zIndex:v}=m,f=h?0:y;return(0,d.jsx)(a.Le,{top:s||0,height:i?_+2*f*4:void 0,zIndex:v||void 0,children:(0,d.jsx)(r.Z,{hideOnScroll:m.hideOnScroll,children:a=>(0,d.jsx)(g,{...m,hideOnScrollState:a,type:"header",headerConfig:{isTranslucent:n,isTransparentBackground:o,headerLimitedOverflow:i,hasBorder:e,ignoreObstructions:t,noGutter:l,overrideTop:s,zIndexForGestaltBug:p,useRoundedCorners:c}})})})}function v({alignCenter:e,appUpsellFooterConfig:i,footerInLego:t,hasTopShadow:n,navFooterConfig:a,...o}){return(0,d.jsx)(r.Z,{appUpsellFooterConfig:i,hideOnScroll:o.hideOnScroll,navFooterConfig:null==a?void 0:a.scrollConfig,children:l=>(0,d.jsx)(g,{...o,hideOnScrollState:l,type:"footer",footerConfig:{alignCenter:e,appUpsellFooterConfig:i,footerInLego:t,hasTopShadow:n,navFooterConfig:a}})})}},107577:(e,i,t)=>{t.d(i,{Z:()=>r,m:()=>l});var n=t(667294),a=t(552369);function o(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}const l=20;class r extends n.Component{constructor(...e){var i;super(...e),o(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!(null===(i=this.props.navFooterConfig)||void 0===i||!i.isDockedNavOnPlp)}),o(this,"lastScrollPos",0),o(this,"updateHiddenState",(e=>{this.reqAnimationId=window.requestAnimationFrame((()=>{this.setState({isHidden:e})}))})),o(this,"handleScroll",(0,a.Z)((()=>{var e;const{appUpsellFooterConfig:i,navFooterConfig:t}=this.props,{isHidden:n}=this.state,a=window.scrollY,o=a-this.lastScrollPos;let r="none";const{scrollHeight:s,clientHeight:d}=document.documentElement||{};if(!Number.isNaN(s)&&!Number.isNaN(d))if(o<0){const e=window.scrollMinY||0;r=a<=Math.abs(e+Math.max(o,l))?"start":"none"}else{r=a>=(window.scrollMaxY||s-d)-Math.max(o,l)?"end":"none"}const c=null!=t&&t.isModal?0:55;if(i)if(o>l&&n&&a>=500){i.shouldShowAfterScroll()&&(this.updateHiddenState(!1),null==t||t.onScroll(!1))}else(o<-l&&!n||a<=c)&&(this.updateHiddenState(!0),null==t||t.onScroll(!0));else null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp?"start"===r&&!n||a<=c?(this.updateHiddenState(!0),null==t||t.onScroll(!0)):(a>c||"end"===r)&&n&&(this.updateHiddenState(!1),null==t||t.onScroll(!1)):(o<-l||"start"===r)&&n||a<=c?(this.updateHiddenState(!1),null==t||t.onScroll(!1)):(o>l||"end"===r)&&!n&&(this.updateHiddenState(!0),null==t||t.onScroll(!0));this.lastScrollPos=a}),30))}componentDidMount(){try{var e;(this.props.hideOnScroll||null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(i){window.console.error(i),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){var e;(this.props.hideOnScroll||null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){var i,t,n,a;!e.hideOnScroll&&this.props.hideOnScroll||(null===(i=e.navFooterConfig)||void 0===i||!i.isDockedNavOnPlp)&&null!==(t=this.props.navFooterConfig)&&void 0!==t&&t.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||null!==(n=e.navFooterConfig)&&void 0!==n&&n.isDockedNavOnPlp&&(null===(a=this.props.navFooterConfig)||void 0===a||!a.isDockedNavOnPlp))&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){const{children:e,navFooterConfig:i}=this.props,{isHidden:t}=this.state;return e({isHidden:!(null!=i&&i.forceShow)&&t,updateHiddenState:this.updateHiddenState})}}},265259:(e,i,t)=>{t.d(i,{Z:()=>s});var n=t(883119),a=t(24286),o=t(319689),l=t(549201),r=t(785893);const s=({children:e,roundedForLargeDevice:i})=>{const t="phone"!==(0,l.ZP)()&&i;return(0,o.V)()?(0,r.jsx)(n.xu,{marginStart:-a.D6,marginEnd:-a.D6,rounding:t?6:void 0,overflow:t?"hidden":void 0,children:(0,r.jsx)(o.C,{value:!1,children:e})}):e}},993869:(e,i,t)=>{t.r(i),t.d(i,{default:()=>d});var n=t(883119),a=t(24286),o=t(110417),l=t(319689),r=t(282802),s=t(785893);const d=({children:e,dataLayoutShiftBoundaryId:i,hasFixedHeader:t=!1,hasGutter:d=!0,height:c,showKeychainError:u=!1,useViewport:p=!1})=>{const _=(0,r.B)(),m=(0,o.jd)(_.userAgent.platform)?o.Vf:0;return(0,s.jsx)(n.xu,{"data-layout-shift-boundary-id":i||"PageContainer",height:p?`calc(100vh - ${m}px)`:c,paddingX:d?a.D6:void 0,paddingY:t||u?void 0:3,children:(0,s.jsx)(l.C,{value:!!d,children:e})})}},310646:(e,i,t)=>{function n(e,i){if("object"==typeof e&&"object"==typeof i){const t=Object.keys(e),n=Object.keys(i);return t.length===n.length&&t.every((t=>e[t]===i[t]))}return e===i}t.d(i,{Ak:()=>n,_Y:()=>a,qe:()=>r,xZ:()=>l});const a=(e,i)=>e.length===i.length&&e.every(((e,t)=>n(e,i[t]))),o=(e,i)=>e.length===i.length&&e.every(((e,t)=>e===i[t])),l=(e,i=o)=>t=>{const n=[];return function(...a){const o=this,l=n.find((e=>e.context===o&&i(e.args,a)));if(l)return l.result;const r={context:o,args:a,result:t.apply(this,a)};return n.push(r),e&&n.length>e&&n.shift(),r.result}},r=l(1);l()},532465:(e,i,t)=>{function n(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}t.d(i,{Z:()=>l});const a=new class{constructor(){n(this,"onResumeListeners",[]),n(this,"onPauseListeners",[]),n(this,"inExp",!1),n(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter((i=>i!==e))}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter((i=>i!==e))}getAppState(){return this.windowInFocus?0:void 0}},o=e=>{if(e.isHidden){const{reason:i}=e;a.windowInFocus=!1,a.onPauseListeners.forEach((e=>e(i)))}else a.windowInFocus=!0,a.onResumeListeners.forEach((e=>e()))};setTimeout((()=>{window.addEventListener("beforeunload",(()=>o({isHidden:!0,reason:"beforeunload"}))),window.addEventListener("focus",(()=>o({isHidden:!1}))),window.addEventListener("blur",(()=>o({isHidden:!0,reason:"blur"}))),window.addEventListener("pageshow",(()=>o({isHidden:!1}))),window.addEventListener("pagehide",(()=>o({isHidden:!0,reason:"pagehide"}))),void 0!==document.hidden?document.addEventListener("visibilitychange",(()=>o(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",(()=>o(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1)}),0);const l=a},316445:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(245410);const a=Object.freeze({analytics:{organic:"web_sce_organic_analytics",monetized:"web_sce_monetized_analytics"},pinStats:{organic:"web_sce_organic_pin_stats",monetized:"web_sce_monetized_pin_stats"}});function o(e){const{checkExperiment:i}=(0,n.F)();i("pin_stats_analytics_parent");const t=a[e];return()=>i(t.organic).anyEnabled||i(t.monetized).anyEnabled}},427370:(e,i,t)=>{t.d(i,{G7:()=>d,Nl:()=>u,WE:()=>s,l6:()=>c,rh:()=>r});var n=t(40045),a=t(642447),o=t(493851);const l=e=>e.checkExperiment("web_ps4p").anyEnabled;function r(e,i,t,a,o){var r,s,d,c,u,p;if(!i.isAuth)return!1;const{creatorAnalytics:_}=e,m=!!e.storyPinDataId,h=!(null===(r=e.videos)||void 0===r||!r.videoList),g=(o||!(m||h))&&0!==Object.keys((null===(s=e.aggregatedPinData)||void 0===s||null===(d=s.creatorAnalytics)||void 0===d?void 0:d._30dRealtime)||{}).length,y=(null===(c=e.board)||void 0===c?void 0:c.privacy)===n.Z.BoardPrivacy.PUBLIC,v=((null===(u=e.board)||void 0===u?void 0:u.privacy)===n.Z.BoardPrivacy.PROTECTED||y)&&!e.isRepin&&[i.id,a].includes(null===(p=e.pinner)||void 0===p?void 0:p.entityId);return g||0!==Object.keys((null==_?void 0:_._30dRealtime)||{}).length||i.isPartner&&v||l(t)&&m&&v}function s(e,i,t,n,a,o){return e.isAuth&&!!i&&(t||n)&&!(null==a||!a.isLoaded)&&!o}function d(e,i){return(0,o.Z)(i.ngettext('Last {{ count }} Day', 'Last {{ count }} Days', e, 'Previous {{ count }} days from current date', 'Previous {{ count }} days from current date'),{count:e})}function c(e,i){return(0,o.Z)(i.ngettext('Last {{ count }} Hour', 'Last {{ count }} Hours', e, 'analytics.utils', 'Previous {{ count }} hours from current time'),{count:e})}function u({i18n:e,isRealtime:i,humanizedTimeSinceLastUpdate:t,displayLifetime:n,numDays:l,selectedDateRange:r,locale:s}){const d=[];if(l){const i=n?(0,o.Z)(e.ngettext('Percent changes are compared to {{n}} day before {{startDate}} \u2013 {{endDate}}.', 'Percent changes are compared to {{n}} days before {{startDate}} \u2013 {{endDate}}.', l, 'pinstats.toplineMetrics.description', 'Label describing how deltas are calculated and when performance over time metrics are updated'),{n:l,startDate:(0,a.Z)(s,r.startDate,a.k.NUMERIC),endDate:(0,a.Z)(s,r.endDate,a.k.NUMERIC)}):(0,o.Z)(e.ngettext('Percent changes are compared to {{n}} day before the selected date range.', 'Percent changes are compared to {{n}} days before the selected date range.', l, 'pinstats.toplineMetrics.description', 'Label describing how deltas are calculated and when performance over time metrics are updated'),{n:l});d.push(i)}return i?d.push(e._('Metrics are updated in real-time.', 'pinstats.PinnerToplineMetrics.description', 'Label describing when lifetime of pin metrics are updated')):t&&d.push((0,o.Z)(e._('Metrics updated {{ timeSince }}.', 'analytics.header.disclaimer.metricsUpdated', 'Disclaimer describing when data was last updated. timeSince: time period since last update (ex: 1 day)'),{timeSince:t})),d.join(" ")}},84812:(e,i,t)=>{function n(e,i,t){return!(!(e&&e.trim().length>0&&i)||t)}t.d(i,{r:()=>n})},7997:(e,i,t)=>{t.d(i,{Z:()=>n});const n=({hasRecipe:e,hasArticle:i,i18n:t})=>e?t._('Make it', 'pinPage.pinActionBar.Makeit.Button', 'Text on a button that lets users visit the source of the pin'):i?t._('Read it', 'pinPage.pinActionBar.Readit.Button', 'Text on a button that lets users visit the source of the pin'):t._('Visit', 'pinPage.pinActionBar.visitButton', 'Text on a button that lets users visit the source of the pin')},325438:(e,i,t)=>{t.d(i,{Z:()=>a});const n={REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,RECOMMENDED_GEO_INTERESTS:192,USER_SEQUENCE_INTERESTS_PINS:193,U2I_DNN_INTERESTS_PINS:196,PINNERSAGE_INTERESTS_PINS:197,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,INTENTIONAL_DISTRIBUTION_RECOMMENDED_GRAPHSAGE_BOARDS:191,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,PINNABILITY_PRODUCT_PIN_EMBEDDINGS:195,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,NAVBOOST_STORY_PINS:183,SHOPPING_DISTRIBUTION_PINS:185,WATCH_TAB_EHQ_STORIES:186,NOTIF_LEARNED_RETRIEVAL:187,NOTIF_DIRECT_INJECT:207,LANDING_PAGE_PIN_RECOMMENDATIONS:188,PINNERSAGE_LEARNED_EMBEDDINGS:189,RECGPT_CG_USER_TO_PINS:206,TOPIC_FEED:190,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174,FOLLOWED_INTEREST_SEO_BESPIN_EXPORATION:184,XPIXIE_TO_PRODUCT_PINS:194,SHOPPING_RECENTLY_VIEWED_MODULE_PINS:198,SHOPPING_RECENTLY_SAVED_MODULE_PINS:199,SHOPPING_BEST_SELLING_RECOMMENDED_BRAND_MODULE_PINS:200,SHOPPING_SHOP_THE_BOARD_MODULE_PINS:203,SHOPPING_ON_SALE_MODULE_PINS:204,SHOPPING_PRODUCT_CATEGORY_BASED_MODULE_PINS:205,SHOPPING_SHOP_SEARCH_MODULE_PINS:208,RECENTLY_VIEWED_ORGANIC_MODULE_PINS:201,RECENTLY_SAVED_ORGANIC_MODULE_PINS:202};function a({feedbackData:e,feedbackType:i,pinId:t,pinFeedbackType:a,recommendationReason:o,complaintReason:l,clientTrackingParams:r}){var s,d;switch(i){case"search":return{action:"unrelatedSearchPin",actionOptions:{query:null==e?void 0:e.query,pin_id:t}};case"related":return{action:"relatedPinHide",actionOptions:{pin:t}};case"newsHub":return{action:"newsHubPinHide",actionOptions:{pinId:t,newsId:null==e?void 0:e.newsId}};default:const c="promoted"===i,u=function(e){return e&&n[e]}(null==o?void 0:o.reason),p=null!==(s=null==o?void 0:o.reasonId)&&void 0!==s?s:null==o||null===(d=o.board)||void 0===d?void 0:d.entityId;return{action:c?"promotedComplaint":"complaint",actionOptions:{complaint_reason:l||0,pin_id:t,...u?{recommendation_reason_id:u}:{},feedback_type:a||1,promoted:c,...p?{through_id:p}:{},...null!=o&&o.throughProperties?{through_properties:o.throughProperties.reduce(((e,i)=>{const{key:t,data:n}=i;return t?(e[t]=[...e[t]||[],...n||[]],e):e}),{})}:{},...r?{client_tracking_params:r}:{}}}}}},652552:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(393272),a=t(170417),o=t(837422);function l(e){const{images:i={}}=(0,a.Z)((0,o.Z)({pin:e}))||{},t=(0,n.Z)({images:i});return{url:(null==t?void 0:t.url)||"",height:(null==t?void 0:t.height)||1,width:(null==t?void 0:t.width)||1}}},488167:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(393272),a=t(652552);function o(e,i,t=564){return e>t&&(i*=t/e,e=t),{width:e,height:i}}var l=t(972551);const r=({pin:e,maxWidth:i,imageSignature:t})=>{var r,s;const{image_signature:d}=e;if(!t||""===t||d===t){const{width:t,height:n,url:l}=(0,a.Z)(e);return{...o(t,n,i),url:l}}const c=(0,l.Z)({richPinData:e.rich_metadata||e.rich_summary}),u=[...(null==c||null===(r=c.variant_set)||void 0===r||null===(s=r.variants)||void 0===s?void 0:s.flatMap((e=>e.additional_images||[])))||[],...(null==c?void 0:c.additional_images)||[]],{canonical_images:p}=u.find((({image_signature:e})=>t===e))||{},{height:_=1,width:m=1,url:h=""}=(0,n.Z)({images:p||{}})||{};return{...o(m,_,i),url:h}}},740494:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(465991);const a=e=>(e||"").trim().replace(/\s+/g," "),o=({storyPinDataId:e,pinDescription:i,richMetadataDescription:t,richSummaryDisplayName:o,closeupDescription:l,closeupUnifiedDescription:r,seoDescription:s,seoNoindexReason:d})=>{if(d&&n.eg.has(d))return a(s);return!!e?a(i):a((0,n.eK)({richMetadataDescription:t,richSummaryDisplayName:o,closeupUnifiedDescription:r}).description)||a(r||"")||a(l)||a(i)||a(t)||""}},853192:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(7997),a=t(729522);const o=(e,i)=>{const t=e.link_domain||{},o=e.tracked_link||e.link||e.images&&e.images.orig&&e.images.orig.url,l=e.rich_metadata||e.richMetadata,{domain:r}=e,s=e.closeup_attribution||e.native_creator||t.official_user||e.pinner||e.origin_pinner,d=!(!(l&&l.recipe&&l.recipe.name&&l.recipe.categorized_ingredients)||l.recipe.from_aggregated_data);let c,u;l&&l.products&&l.products[0]&&(c=!!(l&&l.products[0].name&&l.products[0].offer_summary));const p=c,_=!(!l||!l.article),m=!(!l||!l.tutorial),h=!(!s||!s.username);let g=i._('Saved from ', 'Closeup pin annotation', 'Closeup pin annotation'),y=h?i._('Saved by', ' - ', ' -- '):i._('Saved from', ' - ', ' -- ');l&&l.products&&l.products[0]&&l&&l.products[0].name&&l.products[0].offer_summary&&(g=i._('Product sold by ', 'pin annotation', 'pin annotation'),u=l.products[0].offer_summary),p?y=i._('Sold by', ' - ', ' -- '):m?(g=i._('Saved from ', 'pin annotation', 'pin annotation'),y=h?i._('Saved by', ' - ', ' -- '):i._('Saved from', ' - ', ' -- ')):d?(g=i._('Recipe from ', 'pin annotation', 'pin annotation'),y=h?i._('Recipe by', ' - ', ' -- '):i._('Recipe from', ' - ', ' -- ')):_&&(g=i._('Article from ', 'pin annotation', 'pin annotation'),y=h?i._('Article by', ' - ', ' -- '):i._('Article from', ' - ', ' -- '));const v=e.rich_summary;if(!u&&v){let e;v&&v.products&&v.products[0]&&(e=!!(v&&v.products[0].name&&v.products[0].offer_summary),e&&(g=i._('Product sold by ', 'pin annotation', 'pin annotation')))}let f,x;h?(f="/"+s.username+"/",x=s.full_name):(f="/source/"+r,x=l&&l.site_name||r);const b=s&&(s.image_medium_url||s.image_small_url)||e.board&&e.board.image_thumbnail_url,P=(0,a.Z)(i._('More from {{ subtitle }}', ' - ', ' -- '),{subtitle:x});return{actionButtonText:(0,n.Z)({hasRecipe:d,hasArticle:_,i18n:i}),image:b,link:f,pinLink:o,pin:e,pinCreditPrefix:g,prefixText:y,subtitle:x,title:P,pinTitle:e.closeup_unified_title,pinDescription:e.closeup_unified_description,pinCategory:e.category}}},465991:(e,i,t)=>{t.d(i,{eg:()=>l,kt:()=>m,rw:()=>p,fs:()=>d,eK:()=>c,Ly:()=>u,BY:()=>_,bN:()=>h,RC:()=>r,EU:()=>s});const n=/\s\s+/g,a=e=>e.replace(n," ");var o=t(371362);const l=Object.freeze(new Set(["sensitive_raw_pin_text","is_sensitive_rich_pin_description","is_sensitive_rich_pin_title","is_sensitive_board_title"])),r=({storyPinDataMetadataPinTitle:e,pinTitle:i})=>e||i,s=(e,i)=>e?e.trim().length>i?(0,o.ZP)(e.trim(),i).trim():e.trim():"",d=({pinTitle:e,gridTitle:i,richSummaryDisplayName:t,richMetadataTitle:n,storyPinDataId:a,storyPinDataMetadataPinTitle:o})=>{const l=o||e,r=s(i,200);return r||(t||(n||(a&&l?l:null)))},c=e=>{const{richSummaryDisplayName:i}=e,t=e.pinJoinVisualAnnotation||[],n=e.pinJoinAnnotationsWithLinks||{},l=e.richMetadataDescription||"",r=e.closeupUnifiedDescription||"",s=t.map((e=>(n||{})[e]||{name:e,url:""}));let d="";const c=(i||"").toLocaleLowerCase().trim(),u=l.toLocaleLowerCase().trim(),p=r.toLocaleLowerCase().trim();return r&&r.length>3&&p!==c?d=r:l&&l.length>3&&u!==c&&(d=l),d&&(d=a((0,o.ZP)(d,496)).trim()),{description:d,annotationsWithLinks:s}},u=({pinTitle:e,gridTitle:i,richSummaryDisplayName:t,richMetadataTitle:n,storyPinDataId:a,storyPinDataMetadataPinTitle:o,pinJoinVisualAnnotation:r,seoNoindexReason:s,seoTitle:c})=>l.has(null!=s?s:"")?c:d({pinTitle:e,gridTitle:i,richSummaryDisplayName:t,richMetadataTitle:n,storyPinDataId:a,storyPinDataMetadataPinTitle:o})||(null==r?void 0:r[0])||e,p=(e,i,t,n,a)=>{const o=(l=e,"string"==typeof l?l:"").trim();var l;let r="";const s=(e,i)=>i&&i.length>0?`${e} ${i.join(", ")}`:e;return r=n&&n.trim().length?s(n.trim(),t):a&&a.trim().length?a.trim():o?s(o,t):t?t.join(", "):"",r},_=e=>`/pin/${e}/`,m=(e,i)=>{const t=`Pinterest video from ${i}: `.concat(e);return""===i?e:t},h=({pinId:e,seoUrl:i})=>i&&"string"==typeof i?i:_(e)},170417:(e,i,t)=>{t.d(i,{Z:()=>n});const n=e=>{if(!e)return null;const{pin:i}=e,{images:t}=i,n=Object.keys(t||{}).reduce(((e,i)=>{const n=t[i],{url:a,width:o,height:l}=n;return e&&a&&o&&l?{...e,[i]:{url:a,width:o,height:l}}:null}),{});return n&&Object.keys(n).length>0?{...e,images:n}:null}},837422:(e,i,t)=>{t.d(i,{Z:()=>n});const n=e=>{var i;return null!=e&&null!==(i=e.pin)&&void 0!==i&&i.id?e:null}},385075:(e,i,t)=>{function n({hasPin:e,hasPinRichMetadata:i,hasPinRichMetadataProducts:t,hasPinRichMetadataArticle:n,hasPinRichMetadataRecipe:a,hasPinStoryPinData:o}){if(e){if(i)return t?144:n?141:a?145:139;if(o)return 157}return 140}t.d(i,{Z:()=>n})},245410:(e,i,t)=>{t.d(i,{F:()=>o,a:()=>a});var n=t(583592);const{Provider:a,useHook:o}=(0,n.Z)("ExperimentContext")},397352:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(667294),a=(t(883119),t(570476)),o=t(785893);const l=(e,i,t)=>{const a=(0,n.useRef)(null),o=(0,n.useRef)(null);(0,n.useEffect)((()=>{if(e!==a.current||t&&t!==o.current){a.current=e;const t=(n=e,document.querySelector(`img[src="${n}"]`)||null);null!=t&&t.complete&&i()}var n;o.current=t}),[e,i,t])};function r({alt:e,children:i,color:t,elementTiming:n,isActive:r=!1,naturalHeight:s,naturalWidth:d,onLoad:c,src:u,fit:p="none"}){return l(u,c,r),(0,o.jsx)(a.Z,{alt:e,color:t,elementTiming:n,naturalHeight:s,naturalWidth:d,onLoad:c,src:u,fit:p,children:i})}},77494:(e,i,t)=>{t.d(i,{Z:()=>$});var n=t(667294),a=t(532465),o=t(93501),l=t(30482),r=t(763795),s=t(39983),d=t(677263),c=t(41162),u=t(372453),p=t(363959),_=t(324e3),m=t(583077);const h=({constraintMap:e,initialNavTiming:i,annotations:t})=>({...t,...(0,m.jh)("constraint_",e),...(0,m.jh)("mark_",(0,s.gQ)()),...(0,m.jh)("browser_",{...i?(0,m.D3)(i):{},...(0,m.rX)()})});var g=t(577491),y=t(335741),v=t(769916);const f=(e,i)=>{const{firstInputDelay:t}=(0,y.v2)();return[...e.map((e=>(0,g.Z)(e,i))).filter(Boolean),...t?[{name:"fid",id:(0,v.Z)(),parentId:i,startTime:t.startTime,endTime:t.endTime,annotationMap:{},binaryAnnotationMap:{}}]:[]]};var x=t(40660),b=t(813107);const P=({eventPrefix:e,endTime:i,tags:t,resourceArr:n,resourceType:a="allResources"})=>{const o=n.length;if(o>0&&"object"==typeof n[0]&&!Array.isArray(n[0])){const l=[...n].sort(((e,i)=>e.fetchStart-i.fetchStart)),r=[...n].sort(((e,i)=>e.responseEnd-i.responseEnd));let s=1;const d=i/5;let c=0;for(;s<=5;){let i=0;for(;c<=o-1&&l[c].fetchStart<=d*s;)c+=1,i+=1;x.Z.gauge(`${e}.tags.${a}.fetchStartInterval${s}of5`,i,.2,t),x.Z.gauge(`${e}.${a}.fetchStartInterval${s}of5`,i,.2),s+=1}const u={zeroPercentInFlight:l[0].fetchStart,twentyFivePercentInFlight:l[Math.floor(o/4)].fetchStart,fiftyPercentInFlight:l[2*Math.floor(o/4)].fetchStart,seventyFivePercentInFlight:l[3*Math.floor(o/4)].fetchStart,hundredPercentInFlight:l[o-1].fetchStart,twentyFivePercentComplete:r[Math.floor(o/4)].responseEnd,fiftyPercentComplete:r[2*Math.floor(o/4)].responseEnd,seventyFivePercentComplete:r[3*Math.floor(o/4)].responseEnd,hundredPercentComplete:r[o-1].responseEnd};for(const i in u)u[i]&&(x.Z.timing(`${e}.tags.${a}.${i}`,u[i],.2,t),x.Z.timing(`${e}.${a}.${i}`,u[i],.2))}},S=({annotateExperiments:e,endTime:i,entries:t,metricId:n,pwtStaticContext:a})=>{const o=`${(0,b.Z)(a)}.${n.surface}`,l=[o];e&&e.forEach((e=>{const i=a.getExperimentGroup(e)||"null";l.push(`${o}.${e}.${i}`)}));const r={lcpTimingBucket:(e=>{let i;return i=e<=2500?"Good":e>2500&&e<=4e3?"Needs Improvement":"Poor",i})((0,y.Bn)())||"unknown",isAuthenticated:a.isAuthenticated,navigationType:n.navigationType},s=Array.from(t.filter((e=>"number"==typeof e.encodedBodySize&&e.encodedBodySize>=1e4&&e.responseEnd<=i))),d=[],c=[],u=[],p=[],_=[];s.forEach((e=>{"img"===e.initiatorType?d.push(e):"css"===e.initiatorType?c.push(e):"script"===e.initiatorType?u.push(e):"xmlhttprequest"===e.initiatorType?p.push(e):"link"===e.initiatorType&&e.name.includes("i.pinimg.com")&&_.push(e)})),l.forEach((e=>{P({eventPrefix:e,endTime:i,tags:r,resourceArr:s}),P({eventPrefix:e,endTime:i,tags:r,resourceArr:d,resourceType:"image"}),P({eventPrefix:e,endTime:i,tags:r,resourceArr:c,resourceType:"css"}),P({eventPrefix:e,endTime:i,tags:r,resourceArr:u,resourceType:"scripts"}),P({eventPrefix:e,endTime:i,tags:r,resourceArr:p,resourceType:"xhr"}),P({eventPrefix:e,endTime:i,tags:r,resourceArr:_,resourceType:"preloadedImage"})}))};var w=t(353335);const I=({annotateExperiments:e,annotations:i,binaryAnnotations:t,constraintMap:n,endTime:a,imageTimings:o,metricId:l,pwtStaticContext:r,startTime:s,traceId:d,spans:c})=>{const m=(0,w.Cg)();let g;"initial_app_load"===l.navigationType&&(g=(0,p.Z)());const y=o.map((({name:e})=>e)),v=m.map((e=>(0,_.p)(e,y))).filter((({timing:e})=>!(({startTime:e,responseEnd:i},t)=>e>t.endTime||!!i&&i<t.startTime||e<t.startTime-100)(e,{startTime:s,endTime:a})));return"board"!==l.surface&&"pin_closeup"!==l.surface||S({annotateExperiments:e,endTime:a,entries:m,metricId:l,pwtStaticContext:r}),{type:"COMPLETE",traceId:d,startTime:s,endTime:a,spans:f(v,d).concat(c),annotationMap:h({constraintMap:n,initialNavTiming:g,annotations:i}),binaryAnnotationMap:(0,u.rA)({annotateExperiments:e,binaryAnnotations:t,entries:m,metricId:l,performanceResources:v,pwtEndTime:a,pwtStaticContext:r})}};let T=!1;const A=(e,i)=>e&&i?T?((0,r.H)("duplicated_initial_app_load_surface_pwt"),(0,v.Z)()):(T=!0,i):(0,v.Z)();var k=t(591614),E=t(361905);const C=e=>{const i=performance.getEntriesByType("resource").filter((e=>e.name.includes("i.pinimg"))).reduce(((e,i)=>{const t=i.name.replace(".jpg","").split("/");return{[t[t.length-1]]:{downloadSize:i.name.split("/")[3].split("x")[0]},...e}}),{});[...Array.from(document.getElementsByTagName("img")).map((e=>{const t=e.src.replace(".jpg","").split("/"),n=t[t.length-1];if(i[n]){var a;const t=(null===(a=(0,E.rZ)(e))||void 0===a?void 0:a.width)||1,o=i[n].downloadSize;return{fileName:n,renderedSize:t,downloadedSize:o,ratio:o/t}}return{fileName:n,renderedSize:1,downloadedSize:1,ratio:1}})),...Array.from(document.querySelectorAll('div[role="img"]')).map((e=>{const t=e.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),n=t[t.length-1];if(i[n]&&e instanceof HTMLDivElement){var a;const t=(null===(a=(0,E.rZ)(e))||void 0===a?void 0:a.width)||1,o=i[n].downloadSize;return{fileName:n,renderedSize:t,downloadedSize:o,ratio:o/t}}return{fileName:n,renderedSize:1,downloadedSize:1,ratio:1}}))].forEach((i=>{const{ratio:t,fileName:n,downloadedSize:a}=i;i.ratio>1.05&&(0,r.A9)(`checkImageRatio.${e}`,{count:Math.round(10*t)/10,tags:{fileName:`${a}_${n}`}})}))};var j=t(622200),R=t(282802);const D=(e,i)=>{const t=(0,n.useRef)(i);return{getState:()=>t.current,dispatch:i=>{t.current=e(t.current,i)}}};var F=t(694952),L=t(935340),O=t(785893);const z=["initial_app_load","client_route_push"],N=(0,l.XV)("PwtSurface"),M="NavigationComplete",B="VisuallyComplete",Z=(e,i)=>{e.isSampled&&(0,k.Z)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:i}})},U=e=>{if(e.metricConfig.constraints.every((i=>e.constraintMap[i]))){const i=Math.max(...e.metricConfig.constraints.map((i=>e.constraintMap[i])));return((e,i)=>{var t;const{metricConfig:{metricId:n,pwtStaticContext:a,annotateExperiments:l},annotations:d,binaryAnnotations:c,constraintMap:u,startTime:p,imageTimings:_,isSampled:m,spans:h}=e;(0,s.L8)(`PWT_Complete_${(0,o.KJ)(n)}`);const g=A("initial_app_load"===n.navigationType,null===(t=a.serverData)||void 0===t?void 0:t.trace_id),y=I({annotateExperiments:l,annotations:d,binaryAnnotations:c,constraintMap:u,endTime:i,imageTimings:_,metricId:n,pwtStaticContext:a,startTime:p,traceId:g,spans:h});m&&(0,k.Z)({metricId:n,pwtStaticContext:a,result:y});try{C(String(y.binaryAnnotationMap["metricId.surface"].value))}catch(v){(0,r.H)("image_ratio_check_error",{error:v})}return{...e,result:y,status:"DONE"}})(e,i)}return e},K=(e,i)=>{const{constraint:t,time:n}=i,a=(0,o.KJ)(e.metricConfig.metricId);return j.Z?e.metricConfig.constraints.find((e=>e===t))?e.constraintMap[t]?(N(`constraint "${t}" is already complete.`),(0,r.H)("duplicated_constraint_complete",{constraint:t,action:a}),e):(N(`marking constraint "${t}" as complete`),(0,s.ZP)(`constraint_${t}_is_complete`),U({...e,constraintMap:{...e.constraintMap,[t]:n||j.Z.now()}})):(N(`marked constraint "${t}" is not a required constraint.`),e):((0,r.H)("missing_window_performance",{action:a}),e)},G=(e,i)=>{if(N("dispatch action",i),"INIT_ROUTE"===i.type)return((e,i)=>{const{metricConfig:t,startTime:n,isSampled:a}=i;if("TIMING"===e.status&&n!==e.startTime&&Z(e,"routeUpdatedOnSameSurface"),!t)return{status:"DISABLED",metricConfig:null};const l=(0,o.KJ)(t.metricId);return"TIMING"===e.status&&e.startTime===n&&e.constraintMap[M]?((0,r.H)("duplicated_init_route_action",{action:l}),e):("Other"===t.pwtStaticContext.browserName&&!1===t.metricId.isAuthenticated&&"initial_app_load"===t.metricId.navigationType?((0,r.A9)(`TIMING.${l}`,{tags:{userAgent:null===(s=window)||void 0===s||null===(d=s.navigator)||void 0===d?void 0:d.userAgent}}),(0,r.A9)(`TIMING.sampled.${l}`,{tags:{userAgent:null===(c=window)||void 0===c||null===(u=c.navigator)||void 0===u?void 0:u.userAgent},sampleRate:.5})):((0,r.A9)(`TIMING.${l}`),(0,r.A9)(`TIMING.sampled.${l}`,{sampleRate:.5})),K({status:"TIMING",metricConfig:t,startTime:n,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:a,spans:[]},{constraint:M}));var s,d,c,u})(e,i.payload);if("TIMING"!==e.status)return N(`ignoring action due to invalid state ${e.status}`,i),e;switch(i.type){case"ABORT":Z(e,i.reason);const t={type:"ABORT",reason:i.reason};return{...e,status:"DONE",result:t};case"ANNOTATE":const{name:n}=i.payload;if(!j.Z)return e;const a=j.Z.now();return N(`adding annotation {${n}: ${a}}`),{...e,annotations:{...e.annotations,[n]:a}};case"BINARY_ANNOTATE":const{name:l,value:s,annotationType:d}=i.payload;return N(`adding binary annotation {${l}: ${s}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[l]:{value:s,type:d}}};case"MARK_CONSTRAINT_COMPLETE":return K(e,i.payload);case"REMOVE_CONSTRAINT":return((e,i)=>{if(!j.Z){const i=(0,o.KJ)(e.metricConfig.metricId);(0,r.H)("missing_window_performance",{action:i})}N(`removing constraint "${i}"`);const t=e.metricConfig.constraints.filter((e=>e!==i)),{[i]:n,...a}=e.constraintMap;return U({...e,constraintMap:a,metricConfig:{...e.metricConfig,constraints:t}})})(e,i.payload);case"SET_SEGMENT":return((e,i)=>{if(!j.Z){const i=(0,o.KJ)(e.metricConfig.metricId);(0,r.H)("missing_window_performance",{action:i})}N(`updating pwt segment to "${i}"`);const t={...e.metricConfig.metricId,segment:i};return{...e,metricConfig:{...e.metricConfig,metricId:t}}})(e,i.payload);case"SET_VISUALLY_COMPLETE_RESULT":{const{payload:{imageTimings:t}}=i;if(0===t.length){Z(e,"visuallyComplete_noImages");const i={type:"ABORT",reason:"visuallyComplete_noImages"};return{...e,status:"DONE",result:i}}const n=Math.max(...t.map((e=>e.responseEnd||0)));return K({...e,imageTimings:t},{constraint:B,time:n})}case"ADD_SUBSPAN":const{startTime:c}=e,{payload:{name:u,startTime:p,endTime:_,annotations:m,binaryAnnotations:h,parentId:g}}=i;return{...e,spans:[...e.spans,{name:u,id:(0,v.Z)(),startTime:p||c,endTime:_,annotationMap:{...m},binaryAnnotationMap:{...h},parentId:g}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:i.payload.name,id:(0,v.Z)(),startTime:j.Z?j.Z.now():0,endTime:1/0,annotationMap:{...i.payload.annotations},binaryAnnotationMap:{...i.payload.binaryAnnotations},parentId:i.payload.parentId}]};case"STOP_SUBSPAN":const y=e.spans.findIndex((e=>e.name===i.payload.name));return y>-1?(e.spans[y].endTime=j.Z?j.Z.now():0,i.payload.annotations&&(e.spans[y].annotationMap={...e.spans[y].annotationMap,...i.payload.annotations}),i.payload.binaryAnnotations&&(e.spans[y].binaryAnnotationMap={...e.spans[y].binaryAnnotationMap,...i.payload.binaryAnnotations})):(0,r.H)("invalid_subspan_stop_name",{name:i.payload.name}),e;default:const f=(0,o.KJ)(e.metricConfig.metricId);return(0,r.H)("invalid_pwt_surface_action",{action:f}),e}},H=e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}},V=({surface:e,constraints:i,segment:t,measureGridVisuallyComplete:o,annotateExperiments:l,customEnabledNavigationTypes:r,navigationInfo:{clientNavigation:s,navigationType:c},sampleRate:u})=>{const p=(0,n.useRef)("NOT_SET"),_=(0,d.N5)(),{getState:m,dispatch:h}=D(G,{status:"DISABLED",metricConfig:null}),g=(0,R.B)();if(p.current!==s&&(p.current=s,_)){const{isAuthenticated:n}=_,a=e&&c&&(r||z).includes(c)?{metricId:{type:"surface",surface:e,navigationType:c,isAuthenticated:n,segment:t},annotateExperiments:l,constraints:[M,...i||[],...o?[B]:[]],pwtStaticContext:_}:null;h({type:"INIT_ROUTE",payload:{metricConfig:a,startTime:s?s.time:0,isSampled:!u||Math.random()<u}})}const y=m();if((0,n.useEffect)((()=>{const e=e=>{h({type:"ABORT",reason:e})};a.Z.onSessionPause(e);const i=window.innerHeight,t=window.innerWidth,n=()=>{var e,a,o;const l=Math.abs(window.innerHeight-i),r=Math.abs(window.innerWidth-t),s=window.innerHeight!==i,d=window.innerWidth!==t,c={handler:(0,F.H)(),deviceType:null!==(e=null==_?void 0:_.deviceType)&&void 0!==e?e:"unknown",isAuthenticated:null!==(a=null==_?void 0:_.isAuthenticated)&&void 0!==a?a:"unknown",platform:null!==(o=g.userAgent.platform)&&void 0!==o?o:"unknown"};(0,L.nP)("webapp.PwtLogger.handleResize",{sampleRate:1,tags:{...c,heightChanged:s,widthChanged:d}}),s&&(0,L.S0)("webapp.PwtLogger.resizeHeightDelta",l,{sampleRate:1,tags:c}),d&&(0,L.S0)("webapp.PwtLogger.resizeWidthDelta",r,{sampleRate:1,tags:c}),window.removeEventListener("resize",n);"phone"===(null==_?void 0:_.deviceType)&&(!d&&s&&l<=150||!s&&!d)||"desktop"===(null==_?void 0:_.deviceType)&&!s&&!d?(0,L.nP)("webapp.PwtLogger.skipResizeAbort",{sampleRate:1,tags:{...c,heightChanged:s,widthChanged:d}}):h({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",n),()=>{const i=m();N("handling unmount",i),"TIMING"===i.status&&Z(i,"unmount"),a.Z.removePauseListener(e),window.removeEventListener("resize",n)}}),[]),"TIMING"!==y.status||!y.constraintMap[M])return{state:y,context:null};const{startTime:v,metricConfig:f}=y;return{state:y,context:{abort:e=>h({type:"ABORT",reason:e}),addAnnotation:e=>h({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,i,t)=>h({type:"BINARY_ANNOTATE",payload:{name:e,value:i,annotationType:t}}),addSubspan:(e,i,t,n={},a={},o=null)=>h({type:"ADD_SUBSPAN",payload:{name:e,startTime:i,endTime:t,annotations:n,binaryAnnotations:a,parentId:o}}),getId:()=>v,getMetricId:()=>f.metricId,markConstraintComplete:e=>h({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:j.Z?j.Z.now():0}}),removeConstraint:e=>h({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>h({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:f.constraints.includes(B)?e=>h({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,i={},t={},n=null)=>h({type:"START_SUBSPAN",payload:{name:e,annotations:i,binaryAnnotations:t,parentId:n}}),stopSubspan:(e,i={},t={},n=null)=>h({type:"STOP_SUBSPAN",payload:{name:e,annotations:i,binaryAnnotations:t,parentId:n}})}}},W=()=>{const e=(0,c.E)(),i=!!e;(0,n.useEffect)((()=>{if(i){const i=null==e?void 0:e.getMetricId(),t=i?(0,o.KJ)(i):null;(0,r.H)("nested_pwt_surface",{action:t})}}),[i])};function $({children:e,...i}){var t;const n=(0,d.fM)(),a=H(n),o=[...null!==(t=i.annotateExperiments)&&void 0!==t?t:[]],l={...i,annotateExperiments:o,navigationInfo:{navigationType:a,clientNavigation:n}},{context:r}=V(l);return W(),(0,O.jsx)(c.S,{value:r,children:e})}},282442:(e,i,t)=>{t.d(i,{Z:()=>s});var n=t(574155),a=t(667294),o=t(39983),l=t(41162);var r=t(677263);function s({children:e,isAtEndOfFeed:i,pinData:t,itemCount:s,includeBackgroundImages:d=!1,includeVideos:c=!1,includeSections:u=!1}){var p;return(null===(p=(0,r.N5)())||void 0===p?void 0:p.isAuthenticated)||(u=!0),(0,n.Z)({pinData:t,isAtEndOfFeed:i,includeBackgroundImages:d,includeVideos:c,includeSections:u}),function(e){const i=(0,l.E)(),t=(0,a.useRef)(null);(0,a.useEffect)((()=>{e!==t.current&&(t.current=e,i&&(0,o.ZP)(o.at))}),[!!i,e])}(s),e}},768337:(e,i,t)=>{t.d(i,{Z:()=>n});const n=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";case"CA":return"CA";case"GB":return"GB";case"FR":return"FR";case"DE":return"DE";default:return"OTHER"}}},411171:(e,i,t)=>{function n(e){const i=Object.keys(e);if(i.length>0){return i.sort(((i,t)=>e[t]-e[i])).slice(0,3)}return null}function a(e){const i=Object.values(e);if(i.length>0){return i.reduce(((e,i)=>e+i),0)}return 0}function o(e,i,t){var n,a;return!(e.isPromoted||e.isDownstreamPromotion||!(null!==(n=e.videos)&&void 0!==n&&n.entityId||e.storyPinDataId)||i||null!==(a=e.board)&&void 0!==a&&a.isCollaborative&&e.board.collaboratedByMe||t)}t.d(i,{At:()=>n,J6:()=>o,Ud:()=>a})},895200:(e,i,t)=>{function n({m:e=0,h:i=0}){let t;return t=i<=0?i:e>45?i+1:e>15?i+.5:i,{m:e,h:i,rm:i>0?0:e,rh:t}}function a(e){const i=Math.floor(e/3600);return n({m:Math.floor(e%3600/60),h:i})}t.d(i,{X:()=>n,u:()=>a})},157785:(e,i,t)=>{t.d(i,{Z:()=>g});var n=t(667294),a=t(883119),o=t(101789),l=t(342693),r=t(44081),s=t(536042),d=t(245410),c=t(785893);function u({category:e,ingredients:i,textSize:t="300"}){return(0,c.jsxs)(a.xu,{children:[e&&(0,c.jsx)(a.xu,{children:(0,c.jsx)(a.xv,{weight:"bold",size:t,children:e})}),(0,c.jsx)("ul",{children:i.map(((e,i)=>(0,c.jsx)("li",{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",children:(0,c.jsx)(a.xu,{marginTop:1,children:(0,c.jsxs)(a.xv,{size:t,children:["• ",e.amt||null," ",e.name]})})},i)))})]})}var p=t(789907);const _="https://schema.org/Recipe";var m=t(729522);const h=e=>e.reduce(((e,i)=>e.concat(i)),[]);function g({columnGap:e,recipeProps:i,marginOverrides:t}){const g=(0,s.ZP)(),{diets:y,image:v,name:f,categorizedIngredients:x,fromAggregatedData:b}=i.recipe,{checkExperiment:P}=(0,d.F)(),S=P("closeup_dweb_onepin_title_and_description").anyEnabled,w=g._('Ingredients', 'Ingredients title and count in closeup recipe description', 'Ingredients title and count in closeup recipe description');let I;if(x&&x.length){const e=[];x.forEach((i=>e.push(i.ingredients)));const i=h(e.filter(Boolean)).length;I=x&&x.length&&i?(0,m.Z)(g.ngettext('{{ count }} ingredient', '{{ count }} ingredients', i, 'Ingredients title and count in closeup recipe description', 'Ingredients title and count in closeup recipe description'),{count:i.toString()}):w}const T=S?8:(null==t?void 0:t.outerMarginTop)||80;return(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:T}},children:(0,c.jsxs)(p.Z,{itemScope:!0,itemType:_,children:[(0,c.jsx)("meta",{content:f,itemProp:"name"}),(0,c.jsx)("meta",{content:v,itemProp:"image"}),!S&&(0,c.jsx)(a.xu,{"data-test-id":"ingredients-heading",marginBottom:4,children:(0,c.jsx)(a.X6,{size:"400",children:b?f:I})}),!S&&y&&y.length>0&&(0,c.jsx)(a.xu,{marginBottom:4,children:(0,c.jsx)(a.xv,{inline:!0,size:"200",children:y.join(" ")})}),S?(0,c.jsx)(o.Z,{heading:w,children:(0,c.jsx)(r.Z,{children:(0,c.jsx)(a.xu,{marginTop:4,children:x.map((({category:e,ingredients:i},o)=>{const r=`ingredient-${o}`;return(0,c.jsx)(n.Fragment,{children:(0,c.jsx)(a.xu,{marginBottom:(null==t?void 0:t.ingredientMarginBottom)||4,children:(0,c.jsx)(u,{category:e,ingredients:i,textSize:l.n})})},r)}))})})}):Array.isArray(x)&&x.length>0&&(1===x.length?(0,c.jsx)(a.xu,{column:12,"data-test-id":"single-column-ingredients",children:x.map((({category:e,ingredients:i},n)=>(0,c.jsx)(a.xu,{marginBottom:(null==t?void 0:t.ingredientMarginBottom)||2,children:(0,c.jsx)(u,{category:e,ingredients:i,textSize:"100"})},n)))}):(0,c.jsxs)(a.xu,{display:"flex","data-test-id":"dual-column-ingredients",children:[(0,c.jsx)(a.xu,{column:6,children:x.slice(0,Math.ceil(x.length/2)).map((({category:e,ingredients:i},n)=>(0,c.jsx)(a.xu,{marginBottom:(null==t?void 0:t.ingredientMarginBottom)||2,children:(0,c.jsx)(u,{category:e,ingredients:i,textSize:"100"})},n)))}),e,(0,c.jsx)(a.xu,{column:6,children:x.slice(Math.ceil(x.length/2)).map((({category:e,ingredients:i},n)=>(0,c.jsx)(a.xu,{marginBottom:(null==t?void 0:t.ingredientMarginBottom)||2,children:(0,c.jsx)(u,{category:e,ingredients:i,textSize:"100"})},n)))})]}))]})})}},277731:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(667294),a=t(883119),o=t(31407),l=t(785893);function r({recipeData:e}){var i;if(null!==(i=e.aggregate_rating)&&void 0!==i&&i.rating_value&&e.aggregate_rating.review_count){var t,r,s;const i="number"==typeof(null===(t=e.cook_times)||void 0===t||null===(r=t.cook)||void 0===r?void 0:r.m)&&"number"==typeof(null===(s=e.cook_times.prep)||void 0===s?void 0:s.m)?`${e.cook_times.cook.m+e.cook_times.prep.m} minutes · `:"";return(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(o.Z,{rating:e.aggregate_rating.rating_value,max_rating:e.aggregate_rating.best_rating,width:12},e.aggregate_rating.rating_value),(0,l.jsx)(a.xv,{inline:!0,size:"200",children:` ${e.aggregate_rating.review_count} · ${i}`})]})}return null}},711443:(e,i,t)=>{function n(e,i,t){const n=[...e],a=n.splice(i,1)[0];return n.splice(t,0,a),n}t.d(i,{Z:()=>n})},282802:(e,i,t)=>{t.d(i,{B:()=>u,LC:()=>d,P2:()=>s,fH:()=>c,gf:()=>p});var n=t(667294),a=t(310646),o=t(71985),l=t(785893);const r=(0,n.createContext)();function s({children:e,initialValue:i}){const[t,s]=(0,n.useState)(i),d=(0,n.useMemo)((()=>({requestContext:t,updateRequestContext:e=>{const i={...t,...e};(0,a.Ak)(t,e)||s(i),(0,o.J)(i)}})),[t]);return(0,l.jsx)(r.Provider,{value:d,children:e})}const d=({children:e})=>{const i=(0,n.useContext)(r);if(!i)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(i.requestContext)},c=({children:e})=>{const i=(0,n.useContext)(r);if(!i)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(i.requestContext)};function u(){const e=(0,n.useContext)(r);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e.requestContext}function p(){const e=(0,n.useContext)(r);if(!e)throw new Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},71985:(e,i,t)=>{let n;function a(e){n=e}function o(){return n}t.d(i,{J:()=>a,l:()=>o})},819079:(e,i,t)=>{t.d(i,{Z:()=>p});var n=t(667294),a=t(702664),o=t(616550),l=t(31086),r=t(282802),s=t(575794),d=t(33319);const c={},u=({httpStatus:e})=>!e||e>=500;function p(e){const{enabledRouteRefresh:i,__unstableEnableSuspenseSupport:t,headers:p,name:_,noCache:m,options:h,schema:g}=null!=e?e:{name:"DisabledResource",options:null},y=!e,v=(0,a.useDispatch)(),f=(0,l.Z)(h),x=(0,n.useRef)(null),b=(0,n.useRef)(),P=(0,o.useHistory)(),S=P&&"POP"!==P.action,w=e=>(e[_]||c)[f]||c,I=(0,a.useSelector)((({resources:e})=>w(e).nextBookmark)),T=(0,a.useSelector)((({resources:e})=>w(e).data)),A=(0,a.useSelector)((({resources:e})=>w(e).auxData)),k=(0,a.useSelector)((({resources:e})=>w(e).error)),E=(0,a.useSelector)((({resources:e})=>Boolean(w(e).fetching))),C=Boolean(k)||void 0!==T,j=C&&!E&&I===d.q,R=Boolean(C&&i&&S&&!y),[D,F]=(0,n.useState)(R),L=(0,n.useCallback)((e=>{x.current=v((0,s.U)(_,{options:h,schema:g,bookmark:e,headers:p}))}),[v,_,f,g,p]),O=()=>{x.current=v((0,s.b)(_,{options:h,schema:g,headers:p}))},{isBot:z}=(0,r.B)(),N=()=>{if(!y&&b.current!==f){const e=void 0===b.current;b.current=f,!C&&!E||e&&k&&u(k)?L():(!z&&m||R)&&O()}};(0,n.useEffect)((()=>{t||N()})),t&&N();const M=(0,n.useCallback)((()=>{y||(O(),F(!0))}),[y,s.b,_,f,p,F]),B=(0,n.useCallback)((()=>{!I||j||E||y||L(I)}),[y,L,I,j,E]);if(x.current)if(C&&!E)x.current=null;else if(t)throw x.current;const Z=(0,n.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:B,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:M}),U={auxData:A,data:T,error:k,fetchMore:B,isAtEnd:j,isFetching:E,isLoaded:C,isRefreshing:D,nextBookmark:I,refresh:M};return(0,a.shallowEqual)(U,Z.current)||(!D||!Z.current.data&&R||(0,a.shallowEqual)(U.data,Z.current.data)||(U.isRefreshing=!1,F(!1)),Z.current=U),Z.current}},664334:(e,i,t)=>{t.d(i,{Z:()=>c});var n=t(819079),a=t(802071);var o=t(616550),l=t(282802),r=t(549201),s=t(739425);function d({checkExperiments:e,disableFetch:i,viewer:t}){var n;const a=(0,o.useLocation)(),d=(0,o.useRouteMatch)(),c=(0,l.B)(),u=function({advertiser:e,deviceType:i,location:{pathname:t,search:n},inviteCode:a,match:{params:o,path:l},viewer:r}){return{advertiser:e,deviceType:i,routeData:{inviteCode:a,matchPath:l,params:o,parsedSearch:(0,s.mB)(n),pathname:t,search:n},user:{country:r.country||void 0,id:r.id||void 0,isAuth:r.isAuth,isEmployee:!!r.isEmployee||!1,isPartner:!!r.isPartner||!1,username:r.username||void 0,firstHomeFeedRequestAfterNux:r.firstHomeFeedRequestAfterNux||void 0}}}({advertiser:c.advertiser,deviceType:(0,r.Mq)(c),location:a,match:d,viewer:t,inviteCode:null!==(n=c.inviteCode)&&void 0!==n?n:""}),p=!!i&&i(u),_=!(!p&&e)||e(c.experimentsClient);return{args:u,fetchDisabled:p||!_}}function c({getOptions:e,checkExperiments:i,disableFetch:t,...o}){const l=function(){const e=(0,a.Z)();return{country:e.country||void 0,id:e.id||void 0,isAuth:e.isAuth,isEmployee:!!e.isEmployee||!1,isPartner:!!e.isPartner||!1,username:e.username||void 0,firstHomeFeedRequestAfterNux:e.firstHomeFeedRequestAfterNux||void 0}}(),{args:r,fetchDisabled:s}=d({checkExperiments:i,disableFetch:t,viewer:l}),c=e?e(r):void 0;return(0,n.Z)(s?null:{options:c,...o})}},789907:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(785893);const a=e=>{const i=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,n.jsx)("div",{"data-test-id":"rich-pin-information",...i,children:e.children||null})}},792953:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(883119),a=t(785893);function o({accessibilityLabel:e}){return(0,a.jsx)(n.kC,{alignItems:"center",justifyContent:"center",children:(0,a.jsx)(n.$j,{accessibilityLabel:e,show:!0})})}},643183:(e,i,t)=>{t.d(i,{Z:()=>n});const n=t(497088).Z},946579:(e,i,t)=>{t.d(i,{Z:()=>n});const n=(0,t(667294).createContext)("undefined"!=typeof window?window:null)},700746:(e,i,t)=>{t.d(i,{Hd:()=>s,_R:()=>l,gi:()=>a,lw:()=>n,wF:()=>r,zh:()=>o});const n={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins"},a=e=>{switch(e){case n.PINS:return 0;case n.PINS_MINE:return null;case n.PINS_BUYABLE:return 1;case n.PINS_VIDEO:return 2;case n.BOARDS:return 3;case n.USERS:return 4;default:return null}},o=e=>{switch(e){case 0:return n.PINS;case 1:return n.PINS_BUYABLE;case 2:return n.PINS_VIDEO;case 3:return n.BOARDS;case 4:return n.USERS;default:return null}},l=e=>{switch(e){case n.PINS:return 43;case n.PINS_MINE:return 107;case n.PINS_BUYABLE:return 254;case n.PINS_VIDEO:return 3306;case n.BOARDS:return 44;case n.USERS:return 45;default:return null}},r=e=>{switch(e){case n.PINS:return 60;case n.PINS_MINE:return 63;case n.PINS_BUYABLE:return 3800;case n.PINS_VIDEO:return 64;case n.BOARDS:return 61;case n.USERS:return 62;default:return null}},s=(e,i)=>{if(i)switch(e){case n.USERS:return 1000392;case n.PINS_BUYABLE:return 1000391;case n.PINS:default:return 29}switch(e){case n.USERS:return 1000432;case n.PINS_BUYABLE:return 1000433;case n.PINS:default:return 1000269}}},511139:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(468e3),a=t(845098);function o({bubbleId:e,pinId:i,query:t,referringSource:o,storyCategory:l,storyId:r,title:s}){const d=[0,24,21,26].includes(l),c=(0,a.Z)({q:t,rs:o||void 0,b_id:e,source_id:r,top_pin_id:i}),u=d&&s?(0,n.x)({title:s,id:e,articleType:"discover"}):`/discover/article/${e}/`;return d?u:"/search/pins/"+(c?"?"+c:"")}},649715:(e,i,t)=>{function n(e){return(e||"").trim().replace(/\s+/g," ")}t.d(i,{Z:()=>n})},829488:(e,i,t)=>{function n({appliedProductFilters:e,autoCorrectionDisabled:i,filters:t,query:n,scope:a,selectedPinImgSig:o,user:l}){const r=[a,t,e,l,o,n].map((e=>null!=e?e:"")).join(":");return i?"auto-correction-disabled:"+r:r}function a(e){const{autoCorrectionDisabled:i,appliedProductFilters:t,appliedFilters:n,filters:a,selectedPinImgSig:o,query:l,rs:r,scope:s,bubbleId:d,user:c}=e,u=function({autoCorrectionDisabled:e=!1,appliedFilters:i=null,appliedProductFilters:t=null,bubbleId:n=null,filters:a=null,query:o=null,rs:l="direct_navigation",scope:r="pins",selectedPinImgSig:s=null,sourceId:d=null,user:c}){return{article:n,applied_filters:i,appliedProductFilters:t,auto_correction_disabled:e,corpus:s?"personalize":null,customized_rerank_type:s?"manas_graph_sage_only_wand_rewrite":null,filters:a,query:o,query_pin_sigs:s,redux_normalize_feed:!0,rs:l,scope:r,source_id:d,user:c}}({autoCorrectionDisabled:!!i,appliedProductFilters:t,appliedFilters:n,filters:a,query:l,rs:r,scope:s,selectedPinImgSig:o,bubbleId:d,user:c});return{name:"BaseSearchResource",options:u}}t.d(i,{Ht:()=>a,Tb:()=>n})},114935:(e,i,t)=>{function n(e,i){return e===i?0!==e||0!==i||1/e==1/i:e!=e&&i!=i}function a(e,i){if(n(e,i))return!0;if("object"!=typeof e||null===e||"object"!=typeof i||null===i)return!1;const t=Object.keys(e),a=Object.keys(i);if(t.length!==a.length)return!1;for(let o=0;o<t.length;o+=1)if(!Object.prototype.hasOwnProperty.call(i,t[o])||!n(e[t[o]],i[t[o]]))return!1;return!0}t.d(i,{Z:()=>a})},972551:(e,i,t)=>{function n({richPinData:e={}}){var i;return null==e||null===(i=e.products)||void 0===i?void 0:i[0]}t.d(i,{Z:()=>n})},963375:(e,i,t)=>{t.d(i,{GZ:()=>n,OE:()=>a,zX:()=>o});const n=246,a=197,o=236},671915:(e,i,t)=>{t.d(i,{Z:()=>s,t:()=>d});var n=t(667294),a=t(167912),o=t(690108);function l(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}const r={};class s extends n.Component{constructor(...e){super(...e),l(this,"state",{invite:r[this.props.invite_code]||null,loaded:this.props.invite_code in r})}componentDidMount(){const{invite_code:e}=this.props;o.Z.create("InviteCodeMetadataResource",{invite_code:e}).callGet().then((i=>{if(i&&i.resource_response){const t=i.resource_response.data;r[e]=t,this.setState({invite:t,loaded:!0})}})).catch((()=>{this.setState({invite:null,loaded:!0})}))}render(){const{invite:e,loaded:i}=this.state;return i?this.props.children(e):null}}class d extends n.Component{constructor(...e){super(...e),l(this,"state",{invite:r[this.props.invite_code]||null,loaded:this.props.invite_code in r})}componentDidMount(){const{invite_code:e,relayEnvironment:i,inviteQuery:t}=this.props;(0,a.fetchQuery)(i,t,{invite_code:e}).subscribe({next:e=>{var i;if(null!==(i=e.v3GetInviteCodeQuery)&&void 0!==i&&i.data){const i=e.v3GetInviteCodeQuery;this.setState({invite:i,loaded:!0})}},error:()=>{this.setState({invite:null,loaded:!0})}})}render(){const{invite:e,loaded:i}=this.state;return i?this.props.children(e):null}}},479958:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(883119),a=t(536042),o=t(785893);function l({height:e,isDenseView:i,rounding:t,width:l,color:r}){const s=(0,a.ZP)();return(0,o.jsx)(n.xu,{color:r||"default",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",rounding:t,overflow:"hidden",width:l,height:e,"data-test-id":"unavailable-pin",children:(0,o.jsxs)(n.kC,{direction:"column",alignItems:"center",children:[(0,o.jsx)(n.xu,{paddingY:i?2:4,children:(0,o.jsx)(n.JO,{accessibilityLabel:s._('Pin not available', 'story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:"default",icon:"alert",size:20})}),(0,o.jsx)(n.xv,{weight:"bold",children:s._('Unavailable', 'story-pin.Closeup.UnavailableIdeaPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),!i&&(0,o.jsx)(n.xu,{paddingY:1,children:(0,o.jsx)(n.xv,{children:s._('Removed by the creator', 'story-pin.Closeup.UnavailableIdeaPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})}},634004:(e,i,t)=>{t.d(i,{Wr:()=>p,Hx:()=>m,RC:()=>_});var n=t(667294),a=t(583592);const o="";var l=t(681468),r=t(133244),s=t(785893);const d=()=>Promise.resolve().then(t.bind(t,681468)),{Provider:c,useHook:u}=(0,a.Z)("IdeaPinVideoPlayer");function p({children:e}){const[i,t]=(0,r.Z)(d,l.initialState),a=(0,n.useMemo)((()=>({dispatch:t,ideaPinVideoPlayerControls:i})),[t,i]);return(0,s.jsx)(c,{value:a,children:e})}function _(){const{dispatch:e}=u();return(0,n.useMemo)((()=>({updateSeekTime:(i,t)=>{e({type:"UPDATE_SEEK_TIME",payload:{seekTime:i,pinId:t||o}})},clearSeekTime:i=>{e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:i||o}})},updateSeekingIdeaPin:i=>{e(i?{type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:i}}:{type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:i,seekTime:void 0}})},updateCurrentTime:i=>{e({type:"UPDATE_CURRENT_TIME",payload:{currentTime:i}})},updateDuration:i=>{e({type:"UPDATE_DURATION",payload:{duration:i}})}})),[e])}function m(){const{ideaPinVideoPlayerControls:e}=u();return e}},681468:(e,i,t)=>{t.r(i),t.d(i,{default:()=>a,initialState:()=>n});const n={seekTime:void 0,seekTimes:{},isSeekingIdeaPin:!1,currentProgressInfo:{currentTime:0,duration:0}};function a(e=n,i){switch(i.type){case"UPDATE_SEEK_TIME":return{...e,seekTimes:{...e.seekTimes,[i.payload.pinId]:i.payload.seekTime},seekTime:i.payload.seekTime};case"CLEAR_SEEK_TIME":return{...e,seekTimes:{},seekTime:void 0};case"UPDATE_SEEKING_IDEA_PIN":return{...e,isSeekingIdeaPin:i.payload.isSeekingIdeaPin};case"UPDATE_CURRENT_TIME":return{...e,currentProgressInfo:{...e.currentProgressInfo,currentTime:i.payload.currentTime}};case"UPDATE_DURATION":return{...e,currentProgressInfo:{...e.currentProgressInfo,duration:i.payload.duration}};default:return e}}},518521:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(540975);const a=/\{\s*(\w+)\s*\}/g,o=(e,i)=>(0,n.Z)(a,e,i);function l({args:e,format:i}){const t=(e||[]).reduce(((e,i,t)=>({...e,[t]:i.text})),{});return o(i,t)}},637362:(e,i,t)=>{t.d(i,{J:()=>n,Z:()=>a});const n=-1;function a(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},729522:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(540975);const a=/\{\{\s*(\w+)\s*\}\}/g,o=(e,i)=>(0,n.Z)(a,e,i)},686473:(e,i,t)=>{t.d(i,{Z:()=>n});const n=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},540975:(e,i,t)=>{t.d(i,{Z:()=>n});const n=(e,i,t)=>i?i.replace(e,((e,i)=>t&&Object.prototype.hasOwnProperty.call(t,i)?t[i]:"")):""},493851:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(729522),a=t(686473);const o=(e,i)=>{const t={};return Object.keys(i).forEach((e=>{t[e]=i[e]?(0,a.Z)(i[e].toString()):""})),(0,n.Z)(e,t)}},716793:(e,i,t)=>{function n(e){return e.replace(/[_.-](\w|$)/g,((e,i)=>i.toUpperCase()))}t.d(i,{Z:()=>n})},99220:(e,i,t)=>{t.d(i,{Z:()=>v});var n=t(667294),a=t(758360),o=t(310561),l=t(282802),r=t(114935),s=t(291986),d=t(583592);const{Provider:c,useMaybeHook:u}=(0,d.Z)("timeSpentContext");var p=t(393729),_=t(525104),m=t(785893);function h(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class g extends n.Component{constructor(e){super(e),h(this,"componentWillUnmount",(()=>{this.unregisterComponent()})),h(this,"getContext",(()=>{const{clientTrackingParams:e,component:i,element:t,objectId:n,timeSpentContext:a,view:o,viewParameter:l}=this.props;return{view:o||(null==a?void 0:a.view),viewParameter:l||(null==a?void 0:a.viewParameter),component:i||(null==a?void 0:a.component),element:t,objectId:n||(null==a?void 0:a.objectId),clientTrackingParams:e||(null==a?void 0:a.clientTrackingParams),getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}})),h(this,"getLoggerContext",(()=>{const e={...this.getContext()};return delete e.getParentUuid,e})),h(this,"getParentId",(()=>{const{timeSpentContext:e,shouldUseGrandparentId:i=!1}=this.props;if(i&&e&&e.getGrandparentUuid){const i=e.getGrandparentUuid();if(i)return i}return e&&e.getParentUuid?e.getParentUuid():void 0})),h(this,"getUuid",(()=>this.state.timedPair?this.state.timedPair.uuid:void 0)),h(this,"getTimedPair",(()=>this.state.timedPair)),h(this,"setTimedPair",(e=>this.setState({timedPair:e}))),h(this,"isRegistered",!1),h(this,"registerComponent",(()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0})),h(this,"unregisterComponent",(()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)})),h(this,"handleVisibilityChange",(e=>{const{intersectionRatio:i}=e[0],{bottom:t,left:n,right:a,top:o}=e[0].intersectionRect;i>0?this.registerComponent():0===i&&(0===t&&0===n&&0===a&&0===o?this.unregisterComponent():this.registerComponent())})),this.state={timedPair:new s.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,r.Z)(e.auxData,this.props.auxData)&&(0,r.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){const{children:e}=this.props;return(0,m.jsx)(c,{value:this.getContext(),children:(0,m.jsx)(a.Z,{options:{threshold:0},onVisibilityChange:this.handleVisibilityChange,children:n.Children.only(e)})})}}function y(e){var i;const t=(0,o.Hv)(),a=u(),r=(0,p.w)(),s=(0,_.H0)(),{requestIdentifier:d=""}=(0,l.B)(),c={app_instance_id:d.slice(0,8),...null!==(i=e.auxData)&&void 0!==i?i:{}};return(0,n.useEffect)((()=>{null==r||r.setHistoryStackContext(t)}),[t,r]),(0,n.useEffect)((()=>{null==r||r.setPins(null!=s?s:{})}),[s,r]),r?(0,m.jsx)(g,{...e,auxData:c,timeSpentContext:a,timeSpentManager:r,children:e.children}):e.children}y.displayName="TimeSpent";const v=y},469093:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(739425);function a(){const e=(0,n.mB)(window.location.search);if("31"===e.utm_source)return"email";if(e.utm_pai)return"paid";const i=document.referrer;return i?i.includes("/t.co/")?"twitter":i.includes("cdn.ampproject.org")?"amp":i.includes("google.")?"google":i.includes("bing.")?"bing":i.includes("facebook.")?"facebook":"other":"direct"}},777849:(e,i,t)=>{t.d(i,{U:()=>o,Z:()=>l});var n=t(883119),a=t(785893);const o=", ";function l(){return(0,a.jsx)(n.xu,{display:"visuallyHidden",children:o})}},938818:(e,i,t)=>{t.d(i,{Qy:()=>d,Wu:()=>u,ZP:()=>c});var n=t(616550),a=t(883119),o=t(282802),l=t(739425),r=t(802071),s=t(785893);const d=()=>{const e=(0,r.Z)(),{isInternalIP:i}=(0,o.B)(),t=(0,n.useLocation)();return(i||e.isAuth&&e.isEmployee)&&Object.keys((0,l.mB)(t.search)).some((e=>e.startsWith("deb_")))};function c({data:e}){return(0,s.jsx)(a.xu,{overflow:"auto",dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},"data-test-id":"debug-info",children:(0,s.jsx)("pre",{children:JSON.stringify(e,null,2).replace(/\\n/g,"\n")})})}const u=e=>(0,s.jsx)(a.xu,{width:236,dangerouslySetInlineStyle:{__style:{marginTop:10}},children:(0,s.jsx)(c,{...e})})},910717:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(883119),a=t(785893);function o({ariaHidden:e=!1,color:i="darkGray",size:t}){return(0,a.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,a.jsx)(n.xv,{color:i,inline:!0,size:null!=t?t:"200",children:"·"})})}},993926:(e,i,t)=>{t.d(i,{Z:()=>s});var n=t(667294),a=t(883119),o=t(910717),l=t(785893);function r(e){return null!=e}function s({additionalPadding:e,color:i="darkGray",inline:t,items:s}){const d=e?(0,l.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,l.jsx)(o.Z,{color:i})}):(0,l.jsx)(o.Z,{color:i}),c=s.filter(r).reduce(((e,i,t)=>[...e,0!==t?d:null,i]),[]).filter(r).map(((e,i)=>(0,l.jsx)(n.Fragment,{children:e},i)));return 0===c.length?null:t?(0,l.jsx)(a.xu,{children:c}):(0,l.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:c})}},769340:(e,i,t)=>{t.d(i,{Z:()=>s,n:()=>l});var n=t(883119),a=t(667294);var o=t(785893);function l({items:e,itemWidth:i,itemGap:t,numRows:n=1,actionItemType:o}){const[l,r]=function(){const[e,i]=(0,a.useState)(0),t=(0,a.useRef)(null),n=(0,a.useCallback)((()=>{t.current&&i(t.current.clientWidth)}),[t]);return(0,a.useEffect)((()=>(window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)})),[n]),(0,a.useEffect)(n),[e,t]}(),s=Math.floor((l+t)/(i+t))*n||n,d=e.slice(0,s);let c,u=[];switch(o){case"nextFour":s>=e.length?u=[d.pop()]:(d.pop(),u=e.slice(s-1,s+3));break;case"one":c=s>e.length?e[Math.floor(e.length/2)]:d.pop()}return{containerRef:r,itemsToRender:d,actionItem:c,nextFourItems:u}}const r={center:{outer:"center",inner:"center"},left:{outer:"start",inner:"start"},right:{outer:"end",inner:"end"}};function s({children:e,itemGap:i,containerRef:t,numRows:a=1,rowAlignment:l="center"}){const s=r[l];return(0,o.jsx)(n.xu,{ref:t,width:"100%",children:(0,o.jsx)(n.kC,{alignItems:"center",justifyContent:s.outer,children:(0,o.jsx)(n.kC,{justifyContent:s.inner,gap:{row:Math.floor(i/4),column:0},wrap:a>1,children:e})})})}},63262:(e,i,t)=>{t.d(i,{F9:()=>o,Zo:()=>a});var n=t(583592);const{Provider:a,useHook:o}=(0,n.Z)("toastManagerContext")},105314:(e,i,t)=>{t.d(i,{M:()=>l,Q:()=>o});var n=t(667294);const a=(0,n.createContext)(null),o=()=>(0,n.useContext)(a),l=a.Provider},348672:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(105314);const a=()=>{var e;return(null===(e=(0,n.Q)())||void 0===e?void 0:e.showUnauthContextMenu)||(()=>{})}},3060:(e,i,t)=>{t.d(i,{Ag:()=>o,C0:()=>s,L1:()=>p,Vi:()=>l,YD:()=>u,kS:()=>a,oo:()=>r,p3:()=>_,vC:()=>d,vI:()=>c});var n=t(957286);const a="https://www.pinterest.com/business/hub/",o="https://www.pinterest.com/homefeed/",l="www.pinterest.com",r="https://help.pinterest.com",s=`${(0,n.Z)({site:"www"})}`,d=(0,n.Z)({site:"developers"}),c=`${(0,n.Z)({site:"sterling"})}`,u=`${(0,n.Z)({site:"analytics"})}`,p=`${(0,n.Z)({site:"trends"})}`,_=`${(0,n.Z)({site:"www",path:"/product-catalogs/data-source/?advertiserId="})}`},769623:(e,i,t)=>{function n(e){const i="--";if((e||"").includes(i)){const t=e.split(i),n=t.pop();return{text:t.join(i),pinId:n}}return{text:"",pinId:e}}t.d(i,{Z:()=>n})},549201:(e,i,t)=>{t.d(i,{HG:()=>u,Kf:()=>l,Mq:()=>a,Wb:()=>c,ZP:()=>p,dA:()=>r,ds:()=>s,ml:()=>d});var n=t(282802);function a(e){const{isMobile:i,isTablet:t}=e.userAgent;return t?"tablet":i?"phone":"desktop"}const o=()=>a((0,n.B)()),l=e=>"phone"===e,r=e=>"tablet"===e,s=e=>"desktop"===e,d=()=>l(o()),c=()=>r(o()),u=()=>s(o()),p=o},133244:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(667294);function a(e,i){const t=(0,n.useRef)([]),[a,o]=(0,n.useState)(),[l,r]=(0,n.useReducer)(null!=a?a:()=>i,i),s=(0,n.useCallback)((i=>{a?r(i):(t.current.length||e().then((e=>{o((()=>e.default))})),t.current=[...t.current,i])}),[e,a]);return(0,n.useEffect)((()=>{a&&(t.current.forEach(r),t.current=[])}),[a]),[l,s]}},272109:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(667294);const a=e=>{(0,n.useEffect)(e,[])}},806681:(e,i,t)=>{t.d(i,{Z:()=>l,q:()=>o});var n=t(667294);const a=()=>{const[e,i]=(0,n.useState)(!1),[t,a]=(0,n.useState)(!1),[o,l]=(0,n.useState)(!1);return{active:e,focused:t,hovered:o,onBlur:()=>{a(!1),i(!1)},onFocus:()=>a(!0),onMouseDown:()=>i(!0),onMouseEnter:()=>l(!0),onMouseLeave:()=>{l(!1),i(!1)},onMouseUp:()=>i(!1)}};function o({children:e}){return e(a())}const l=a},473183:(e,i,t)=>{t.d(i,{Y:()=>d,Z:()=>c});var n,a=t(667294),o=(t(167912),t(825389));const l=void 0!==n?n:n=t(428132),r=(e,i)=>{const t=Symbol("SKIP"),n=e=>Object.entries(e).filter((([,e])=>e!==t)).reduce(((e,[i,t])=>({...e,[i]:t})),{});if("deprecated"!==e.type){var a,o,l,r,s,d,c,u,p;const _=e.data;return n({..._.isEligibleForPdpPlus||_.isEligibleForPdp||_.isOosProduct||_.isStaleProduct?{...(()=>{var e,n,a,o,l,r,s,d,c;if(!i)return{image_count:t,image_index:t};const u=null===(e=_.richMetadata)||void 0===e||null===(n=e.products)||void 0===n?void 0:n[0];return{is_pdpplus:!0,carousel_image_count:t,brand_signature:(null==u||null===(a=u.brand)||void 0===a?void 0:a.signature)||t,free_shipping_price:(null==u||null===(o=u.shippingInfo)||void 0===o?void 0:o.freeShippingPrice)||t,free_shipping_value:(null==u||null===(l=u.shippingInfo)||void 0===l?void 0:l.freeShippingValue)||t,num_variants:(null==u||null===(r=u.variantSet)||void 0===r||null===(s=r.variants)||void 0===s?void 0:s.length)||t,total_dimension_option_count:(null==u||null===(d=u.variantSet)||void 0===d||null===(c=d.dimensionMetadata)||void 0===c?void 0:c.length)||t,valid_dimension_option_count:t}})(),pin_show_pdp_oos:!!_.isOosProduct||t,pin_show_pdp_stale:!!_.isStaleProduct||t,pin_show_pdp:!!_.isEligibleForPdp||t}:{},pin_is_shop_the_look:!!(null!==(a=_.shoppingFlags)&&void 0!==a&&a.includes(2)||null!==(o=_.aggregatedPinData)&&void 0!==o&&o.isShopTheLook)||t,is_available:!(null===(l=_.shoppingFlags)||void 0===l||!l.includes(1))||t,is_product_pin_v2:!(null===(r=_.shoppingFlags)||void 0===r||!r.includes(5))||t,is_rich_product_pin:!(null===(s=_.shoppingFlags)||void 0===s||!s.includes(6))||t,is_organic_product_carousel:t,item_id:((null===(d=_.richSummary)||void 0===d||null===(c=d.products)||void 0===c?void 0:c[0])||{}).itemId||t,item_set_id:((null===(u=_.richSummary)||void 0===u||null===(p=u.products)||void 0===p?void 0:p[0])||{}).itemSetId||t,story_pin_id:_.storyPinData?_.storyPinDataId:t})}{var _,m,h,g,y,v,f,x,b,P,S,w;const a=e.data;return a?n({...a.is_eligible_for_pdp_plus||a.is_eligible_for_pdp||a.is_oos_product||a.is_stale_product?{...(()=>{var e,n,o,l,r,s,d,c,u,p,_,m,h,g,y;const v=null===(e=a.rich_metadata||a.rich_summary)||void 0===e||null===(n=e.products)||void 0===n?void 0:n[0],f=null!=v&&null!==(o=v.additional_images)&&void 0!==o&&o.length?{imageCount:(a.images?1:0)+v.additional_images.length,imageIndex:(null===(l=a.carousel_data)||void 0===l?void 0:l.index)||0}:a.carousel_data&&{imageCount:null===(r=a.carousel_data.carousel_slots)||void 0===r?void 0:r.length,imageIndex:a.carousel_data.index};if(!i)return f?{image_count:f.imageCount,image_index:f.imageIndex}:{};const x=null===(s=a.rich_metadata)||void 0===s||null===(d=s.products)||void 0===d?void 0:d[0],b=null!==(c=null==x||null===(u=x.variant_set)||void 0===u?void 0:u.variants)&&void 0!==c?c:[];return{is_pdpplus:!0,carousel_image_count:f?f.imageCount:t,brand_signature:(null==x||null===(p=x.brand)||void 0===p?void 0:p.signature)||t,free_shipping_price:(null==x||null===(_=x.shipping_info)||void 0===_?void 0:_.free_shipping_price)||t,free_shipping_value:(null==x||null===(m=x.shipping_info)||void 0===m?void 0:m.free_shipping_value)||t,num_variants:b.length||t,total_dimension_option_count:(null==x||null===(h=x.variant_set)||void 0===h||null===(g=h.dimension_metadata)||void 0===g?void 0:g.length)||t,valid_dimension_option_count:((null==x||null===(y=x.variant_set)||void 0===y?void 0:y.dimension_metadata)||[]).reduce(((e,{name:i,values:t})=>e+(i&&t||[]).filter((e=>b.some((t=>{var n;return(null===(n=t.dimensions)||void 0===n?void 0:n[null!=i?i:""])===e})))).length),0)||t}})(),pin_show_pdp_oos:!!a.is_oos_product||t,pin_show_pdp_stale:!!a.is_stale_product||t,pin_show_pdp:!!a.is_eligible_for_pdp||t}:{},pin_is_shop_the_look:!!(null!==(_=a.shopping_flags)&&void 0!==_&&_.includes(2)||null!==(m=a.aggregated_pin_data)&&void 0!==m&&m.is_shop_the_look)||t,is_available:!(null===(h=a.shopping_flags)||void 0===h||!h.includes(1))||t,is_product_pin_v2:!(null===(g=a.shopping_flags)||void 0===g||!g.includes(5))||t,is_rich_product_pin:!(null===(y=a.shopping_flags)||void 0===y||!y.includes(6))||t,is_organic_product_carousel:!!(null!==(v=a.shopping_flags)&&void 0!==v&&v.includes(10)||((null===(f=a.product_pin_data)||void 0===f||null===(x=f.items)||void 0===x?void 0:x[0])||{}).additional_images)||t,item_id:((null===(b=a.rich_summary)||void 0===b||null===(P=b.products)||void 0===P?void 0:P[0])||{}).item_id||t,item_set_id:((null===(S=a.rich_summary)||void 0===S||null===(w=S.products)||void 0===w?void 0:w[0])||{}).item_set_id||t,story_pin_id:a.story_pin_data?a.story_pin_data_id:t}):{}}},s=e=>{const{childDataKey:i}=(0,o.Sv)(l,e,{useGraphQLAdapter:e=>e,useLegacyAdapter:e=>e}),t=(0,a.useRef)(i);return(0,a.useEffect)((()=>{t.current=i})),(0,a.useCallback)((e=>{return i={...null==e?void 0:e.default,...r(t.current,!(null==e||!e.isPdpPlus)),...null==e?void 0:e.override},0===Object.keys(i).length?{}:{commerce_data:JSON.stringify(i)};var i}),[])},d=({children:e,pinKey:i})=>e(s(i)),c=s},464649:(e,i,t)=>{t.d(i,{G:()=>r,Z:()=>s});var n=t(667294),a=t(616550),o=t(785893);const l=(0,n.createContext)(!0);function r({children:e}){const i=(0,a.useLocation)(),[t,r]=(0,n.useState)(!0),s=(0,n.useRef)(i);return(0,n.useEffect)((()=>{s.current!==i&&(s.current=i,r(!1))}),[i]),(0,o.jsx)(l.Provider,{value:t,children:e})}function s(){return(0,n.useContext)(l)}},94111:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(667294);const a=()=>{const e=(0,n.useRef)(!1);return(0,n.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}},802071:(e,i,t)=>{t.d(i,{$:()=>a,Z:()=>l});var n=t(583592);const{Provider:a,useHook:o}=(0,n.Z)("viewer"),l=o},782219:(e,i,t)=>{t.d(i,{GW:()=>a,RL:()=>n,s4:()=>o});const n="ios",a="android",o="ipad"},634923:(e,i,t)=>{t.d(i,{Z:()=>o,t:()=>a});const n=()=>{var e,i;const t="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(i=e.connection)||void 0===i?void 0:i.effectiveType:void 0;let n,a=null===(o=window)||void 0===o||!o.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";var o;return t?"4g"===t?n="40-80":(a="1x",n="0-1"):n="unknown",{downloadSpeedGroup:n,screenDimension:a}};function a({vExp3:e,vExp4:i,vExp5:t,vExp6:a,vExp7:o,v720p:l}){const{downloadSpeedGroup:r,screenDimension:s}=n(),d={"1x":e,"2x":t},c={"1x":o,"2x":o};return{unknown:d,"0-1":d,"1-5":{"1x":i,"2x":t},"5-10":{"1x":t,"2x":t},"10-20":{"1x":a,"2x":a},"20-40":c,"40-80":c,"80_or_above":c}[r][s]||l||void 0}function o(e){const{video_list:i={}}=e,t=a({vExp3:i.V_EXP3,vExp4:i.V_EXP4,vExp5:i.V_EXP5,vExp6:i.V_EXP6,vExp7:i.V_EXP7,v720p:i.V_720P}),n=i.V_HLSV3_MOBILE||void 0;return t?{hlsv3:n,mp4:t}:{hlsv3:n}}},736567:(e,i,t)=>{t.d(i,{Z:()=>o,e:()=>a});var n=t(117651);const a=e=>{if("undefined"==typeof window)return"";let i=0;const t=document.querySelector('[data-test-id="header"]');if(null!==t){const{height:e}=t.getBoundingClientRect();i+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:t}=e.getBoundingClientRect();i+=t}break;case"SearchItem":const t=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==t){const{height:e}=t.getBoundingClientRect();i+=e}const n=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();i+=e}}return-1*i+"px 0px 0px 0px"},o=({videosDuration:e,vHLSV4VideoDuration:i,storyPinDataTotalVideoDuration:t})=>(0,n.Z)(e||i||t||0)},684913:(e,i,t)=>{t.d(i,{Z:()=>n});const n={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},791870:(e,i,t)=>{function n(e){let i;switch(e){case 1:i=1;break;case 2:i=2;break;case 3:i=3;break;case 4:i=4;break;case 5:i=5;break;case 6:i=6}return i}t.d(i,{Z:()=>n})},452253:(e,i,t)=>{function n({cropArea:{x:e,y:i,w:t,h:n},scaledWidth:a,scaledHeight:o}){return{x:e/a,y:i/o,w:t/a,h:n/o}}t.d(i,{Z:()=>n})},525010:(e,i,t)=>{function n({cropArea:{x:e=0,y:i=0,w:t=0,h:n=0},scaledWidth:a,scaledHeight:o}){return{h:Math.floor(n*o),w:Math.floor(t*a),x:Math.floor(e*a),y:Math.floor(i*o)}}t.d(i,{Z:()=>n})},351116:(e,i,t)=>{function n({cropArea:{x:e,y:i,w:t,h:n},cropSource:a,searchQuery:o,entry:l,entrySource:r,title:s,trafficSource:d,imageSignature:c}){const u=[];e>=0&&i>=0&&t>=0&&n>=0&&u.push(`x=${e}`,`y=${i}`,`w=${t}`,`h=${n}`),a&&u.push(`cropSource=${a}`),r&&u.push(`entrySource=${r}`),o&&u.push(`q=${o}`),s&&u.push(`full_feed_title=${encodeURIComponent(s)}`),c&&u.push(`imageSignature=${c}`),d&&"unknown"!==d&&u.push(`rs=${d}`),l&&u.push(`entry=${l}`);return u.length?`?${u.join("&")}`:""}t.d(i,{Z:()=>n})},732719:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(351116);function a({cropArea:e,cropSource:i,entry:t,entrySource:a,isProductOnlyFeed:o,isUnified:l,imageSignature:r,pinId:s,searchQuery:d,title:c,trafficSource:u,view:p}){return`/pin/${s}/${l?"related-products":"visual-search"}/${l||"products"!==p?"":"products/"}${o?"all/":""}${(0,n.Z)({cropArea:e,cropSource:i,entry:t,entrySource:a,title:c,trafficSource:u,searchQuery:d,imageSignature:r})}`}},996344:(e,i,t)=>{t.d(i,{Z:()=>s});var n=t(667294),a=t(616550),o=t(739425),l=t(549201),r=t(272109);function s(){const e=(0,l.HG)(),{action:i}=(0,a.useHistory)(),{path:t}=(0,a.useRouteMatch)(),s=(0,a.useLocation)(),{entry:d}=(0,o.mB)(s.search),c="/pin/:id/related-products/all"===t,u="/pin/:id/visual-search/products"===t,[p,_]=(0,n.useState)((()=>"PUSH"!==i?null:e?!c||"flashlight"!==d&&"stela"!==d?"shop"===d?"shop_the_look_module":null:"feed_module":u?"feed_module":null));return(0,r.Z)((()=>{_(null)})),p}},850865:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(282802),a=t(819079),o=t(802071);function l(){var e;const i=(0,n.B)(),t=(0,o.Z)(),{advertiser:l}=i,r=(0,a.Z)(null!=l&&l.merchant_id?null:{name:"UserResource",options:{user_id:l?l.owner_user_id:t.isAuth&&t.id,field_set_key:"merchant_summary"}});return{merchantId:(null==l?void 0:l.merchant_id)||(null===(e=r.data)||void 0===e?void 0:e.ppa_merchant_id)||"",advertiserId:(null==l?void 0:l.id)||"",ownerUserId:(null==l?void 0:l.owner_user_id)||(t.isAuth?t.id:""),advertiser:l}}},705837:(e,i,t)=>{t.d(i,{AC:()=>p,AV:()=>o,Bm:()=>u,E2:()=>c,HS:()=>r,cb:()=>n,mX:()=>d,rf:()=>a,yo:()=>l,zv:()=>s});const n=150,a=175,o=300,l=700,r=4e3,s=6e3,d={DESC:"desc",ASC:"asc"},c={SHOPIFY:"SHOPIFY",WOOCOMMERCE:"WOOCOMMERCE"},u=32,p=10},478138:(e,i,t)=>{t.d(i,{C:()=>a,O:()=>n});const n=()=>["2","100","101","102","103","129","138","139","140","143","150","152","155","9051"],a=()=>["108","114","115","116","117","118","119","121","124","125","126","127","129","130","131","132","133","134","136","137","144","145","146","147","148","149","153","154","155","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","174","175","176","179","180","181","182","183","184","185","186","188","189","191","192","4029","4043","4055"]},637110:(e,i,t)=>{t.d(i,{GN:()=>h,Ju:()=>d,lW:()=>_,nl:()=>s,p8:()=>c,so:()=>m});var n=t(667294),a=t(965533),o=t(739425),l=t(705837),r=t(395487);const s=({advertiser:e,history:i,location:t})=>{const n=e&&e.id,l=e&&e.actions,r=(0,o.mB)(t.search),s=r.advertiserId;if(t){const e=!n||l&&l.includes(68);if(!n&&s||!e)return(0,a.Z)(`${t.pathname}`),!0;if(n&&n!==s)return i.replace({pathname:t.pathname,search:`?${(0,o.XP)({...r,advertiserId:n})}`}),!0}return!1};function d(e,i=[]){const t=e=>"function"==typeof e?e():null!=e?e:0;return[...Object.entries(e)].sort((([e,n],[a,o])=>(-1!==(null!=i?i:[]).indexOf(e)?i.indexOf(e):t(n.order))-(-1!==(null!=i?i:[]).indexOf(a)?i.indexOf(a):t(o.order)))).map((([e,i])=>[e,i]))}function c(e,i,t){const n=e=>null==e,a=(e,i,t)=>Number.isNaN(e)&&Number.isNaN(i)?0:Number.isNaN(e)?1:Number.isNaN(i)?-1:t;return(o,r)=>{for(const c of Object.keys(e)){const{value:u,propertyName:p,type:_,isSortable:m,propertyPath:h}=e[c];if(m&&(p||h)&&i===u){var s,d;const e=(null!==(s=null!=p?p:h)&&void 0!==s?s:"").split(".").reduce(((e,i)=>null==e?void 0:e[i]),o),i=(null!==(d=null!=p?p:h)&&void 0!==d?d:"").split(".").reduce(((e,i)=>null==e?void 0:e[i]),r);if(n(e)&&n(i))return 0;if(n(e))return 1;if(n(i))return-1;if(_===Number){const n=Number(e),o=Number(i);return a(n,o,t===l.mX.ASC?n-o:o-n)}if(_===Date){const n=new Date(e),o=new Date(i);return a(n.getTime(),o.getTime(),t===l.mX.ASC?n-o:o-n)}if(_===String||!_){const n=String(e),a=String(i);return t===l.mX.ASC?n.localeCompare(a):a.localeCompare(n)}}}return null}}function u(e){const i=function(e){const{type:i}=(0,n.createElement)(e);return i}(e);return e=>i===e.type}function p(e){return n.Children.toArray(e).flatMap((e=>u(n.Fragment)(e)?p(e.props.children):e))}function _(e,i){var t;return null!==(t=p(e).find(u(i)))&&void 0!==t?t:null}function m(e,i){return p(e).filter(u(i))}const h=(e,i,t)=>{if(t===r.Be[Number(i)]){if(1===Number(i))return e._('All Products', 'catalogs.productGroup.name.allProducts', 'Product group name All Products');if(2===Number(i))return e._('Best Deals', 'catalogs.productGroup.name.bestDeals', 'Product group name Best Deals');if(3===Number(i))return e._('Most Popular', 'catalogs.productGroup.name.mostPopular', 'Product group name Most Popular');if(4===Number(i))return e._('Top Sellers', 'catalogs.productGroup.name.topSellers', 'Product group name Top Sellers');if(5===Number(i))return e._('Back In Stock', 'catalogs.productGroup.name.inStock', 'Product group name In Stock');if(6===Number(i))return e._('New Arrivals', 'catalogs.productGroup.name.newArrivals', 'Product group name New Arrivals')}return t}},548672:(e,i,t)=>{t.d(i,{$E:()=>n,AG:()=>f,EF:()=>p,F4:()=>h,HB:()=>b,Hm:()=>u,N7:()=>o,OF:()=>d,Qv:()=>c,RS:()=>g,TL:()=>_,Wd:()=>s,Wg:()=>P,gp:()=>v,n6:()=>m,pg:()=>a,qN:()=>l,ul:()=>y,v6:()=>x,yn:()=>r});const n=[1,3],a={1:5,2:8,3:24,4:24},o={inStockCount:"inStockProductCount",outOfStockCount:"outOfStockProductCount",preorderCount:"preorderProductCount"},l={PROCESSING:"PROCESSING",FAILED:"FAILED",COMPLETED:"COMPLETED",COMPLETED_EARLY:"COMPLETED_EARLY",UNDER_REVIEW:"UNDER_REVIEW",DISAPPROVED:"DISAPPROVED",QUEUED_FOR_PROCESSING:"QUEUED_FOR_PROCESSING",UNDER_APPEAL:"UNDER_APPEAL"},r={PENDING:"PENDING",ACTIVE:"ACTIVE",PAUSED:"PAUSED",DISABLED:"DISABLED",INACTIVE:"INACTIVE"},s={APPROVED:"approved",PENDING:"pending",DECLINED:"declined",REVOKED:"revoked",STAGING:"staging",PROD_TEST:"prod_test",APPEAL_PENDING:"appeal_pending"},d={MARKETPLACE:"MARKETPLACE",MARKETPLACE_SECOND_HAND:"MARKETPLACE_SECOND_HAND",MARKETPLACE_AFFILIATES:"MARKETPLACE_AFFILIATES",MARKETPLACE_WHOLESALE:"MARKETPLACE_WHOLESALE",PROHIBITED_PRODUCTS:"PROHIBITED_PRODUCTS",SERVICES:"SERVICES",DOMAIN_AGE:"DOMAIN_AGE",DOMAIN_MISMATCH:"DOMAIN_MISMATCH",SHIPPING:"SHIPPING",RETURNS:"RETURNS",BROKEN_URL:"BROKEN_URL",BROKEN_404:"BROKEN_404",BROKEN_REGISTRATION:"BROKEN_REGISTRATION",INCOMPLETE:"INCOMPLETE",AUTHENTICITY:"AUTHENTICITY",IN_STOCK:"IN_STOCK",BANNER_ADS:"BANNER_ADS",LOW_QUALITY_IMAGERY:"LOW_QUALITY_IMAGERY",SALE:"SALE",OUT_OF_DATE:"OUT_OF_DATE",PRODUCTS:"PRODUCTS",POP_UP:"POP_UP",MINIMUM_WEBSITE_QUALITY:"MINIMUM_WEBSITE_QUALITY",BROKEN_SOCIAL_MEDIA:"BROKEN_SOCIAL_MEDIA",INACTIVE_FEED:"INACTIVE_FEED",TERMINATED:"TERMINATED",LABELING:"LABELING",TS:"TS",ADS_QUALITY:"ADS_QUALITY",PINNER:"PINNER",SHOPPING:"SHOPPING",MERCHANT:"MERCHANT",HUMAN_REVIEW_CONFIRMED_PINNER_REPORTS_HIGH:"HUMAN_REVIEW_CONFIRMED_PINNER_REPORTS_HIGH",HUMAN_REVIEW_CONFIRMED_PINNER_REPORTS_MED:"HUMAN_REVIEW_CONFIRMED_PINNER_REPORTS_MED",HUMAN_REVIEW_COPYRIGHT_DMCA_STRIKES_HIGH:"HUMAN_REVIEW_COPYRIGHT_DMCA_STRIKES_HIGH",HUMAN_REVIEW_COPYRIGHT_DMCA_STRIKES_MED:"HUMAN_REVIEW_COPYRIGHT_DMCA_STRIKES_MED",RESALE_MARKETPLACE:"RESALE_MARKETPLACE",AFFILIATE_MARKETPLACE:"AFFILIATE_MARKETPLACE",WEBSITE_REQUIREMENTS:"WEBSITE_REQUIREMENTS",PRODUCT_REQUIREMENTS:"PRODUCT_REQUIREMENTS",BRAND_REPUTATION:"BRAND_REPUTATION"},c=[d.TS,d.ADS_QUALITY,d.PINNER,d.SHOPPING,d.MERCHANT],u={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE",NEW_NOT_YET_ACTIVE:"NEW_NOT_YET_ACTIVE",TESTING:"TESTING"},p=[l.PROCESSING,l.QUEUED_FOR_PROCESSING],_={DISMISS_INGESTION_STATUS_POPUP:1,DATA_SOURCE_PENDING_GOT_IT_DISMISSED:2,DATA_SOURCE_VERIFIED_GOT_IT_DISMISSED:3,PRODUCT_GROUPS_CREATE_GOT_IT_DISMISSED:4,PRODUCT_GROUPS_PROMOTE_GOT_IT_DISMISSED:5,ADD_DATA_SOURCE_GOT_IT_DISMISSED:6,FEED_PROFILES_NEW_BADGE_SEEN:7,PRODUCT_GROUPS_SELECTED_METRICS:8,SHOPIFY_COLLECTION_MODAL_GOT_IT_DISMISSED:9,SHOPIFY_COLLECTION_CALLOUT_GOT_IT_DISMISSED:10,PRODUCT_GROUPS_NEW_BADGE_SEEN:11,PRODUCT_GROUPS_METRICS_SELECTED_NUM_OF_DAYS:12,I2PC_MODAL_GOT_IT_DISMISSED:13},m={PENDING:0,SUCCESS:1,UNKNOWN_FAILURE:2,BAD_URL_OR_CREDENTIAL:3,UNSUPPORTED_PROTOCOL:4,BAD_FEED_FORMAT:5,EMPTY_FEED_PROFILE:6,HTML:7,MISSING_REQUIRED_HEADERS:8},h="USD",g="None",y={IN_STOCK:"IN STOCK",OUT_OF_STOCK:"OUT OF STOCK",PREORDER:"PREORDER"},v=e=>[{value:"AED",label:e._('AED - United Arab Emirates Dirham', '[catalogs] name of AED currency', '[catalogs] name of AED currency')},{value:"AFN",label:e._('AFN - Afghanistan Afghani', '[catalogs] name of AFN currency', '[catalogs] name of AFN currency')},{value:"ALL",label:e._('ALL - Albania Lek', '[catalogs] name of ALL currency', '[catalogs] name of ALL currency')},{value:"AMD",label:e._('AMD - Armenia Dram', '[catalogs] name of AMD currency', '[catalogs] name of AMD currency')},{value:"ANG",label:e._('ANG - Netherlands Antilles Guilder', '[catalogs] name of ANG currency', '[catalogs] name of ANG currency')},{value:"AOA",label:e._('AOA - Angola Kwanza', '[catalogs] name of AOA currency', '[catalogs] name of AOA currency')},{value:"ARS",label:e._('ARS - Argentina Peso', '[catalogs] name of ARS currency', '[catalogs] name of ARS currency')},{value:"AUD",label:e._('AUD - Australia Dollar', '[catalogs] name of AUD currency', '[catalogs] name of AUD currency')},{value:"AWG",label:e._('AWG - Aruba Guilder', '[catalogs] name of AWG currency', '[catalogs] name of AWG currency')},{value:"AZN",label:e._('AZN - Azerbaijan New Manat', '[catalogs] name of AZN currency', '[catalogs] name of AZN currency')},{value:"BAM",label:e._('BAM - Bosnia and Herzegovina Convertible Marka', '[catalogs] name of BAM currency', '[catalogs] name of BAM currency')},{value:"BBD",label:e._('BBD - Barbados Dollar', '[catalogs] name of BBD currency', '[catalogs] name of BBD currency')},{value:"BDT",label:e._('BDT - Bangladesh Taka', '[catalogs] name of BDT currency', '[catalogs] name of BDT currency')},{value:"BGN",label:e._('BGN - Bulgaria Lev', '[catalogs] name of BGN currency', '[catalogs] name of BGN currency')},{value:"BHD",label:e._('BHD - Bahrain Dinar', '[catalogs] name of BHD currency', '[catalogs] name of BHD currency')},{value:"BIF",label:e._('BIF - Burundi Franc', '[catalogs] name of BIF currency', '[catalogs] name of BIF currency')},{value:"BMD",label:e._('BMD - Bermuda Dollar', '[catalogs] name of BMD currency', '[catalogs] name of BMD currency')},{value:"BND",label:e._('BND - Brunei Darussalam Dollar', '[catalogs] name of BND currency', '[catalogs] name of BND currency')},{value:"BOB",label:e._('BOB - Bolivia Boliviano', '[catalogs] name of BOB currency', '[catalogs] name of BOB currency')},{value:"BRL",label:e._('BRL - Brazil Real', '[catalogs] name of BRL currency', '[catalogs] name of BRL currency')},{value:"BSD",label:e._('BSD - Bahamas Dollar', '[catalogs] name of BSD currency', '[catalogs] name of BSD currency')},{value:"BTN",label:e._('BTN - Bhutan Ngultrum', '[catalogs] name of BTN currency', '[catalogs] name of BTN currency')},{value:"BWP",label:e._('BWP - Botswana Pula', '[catalogs] name of BWP currency', '[catalogs] name of BWP currency')},{value:"BYR",label:e._('BYR - Belarus Ruble', '[catalogs] name of BYR currency', '[catalogs] name of BYR currency')},{value:"BZD",label:e._('BZD - Belize Dollar', '[catalogs] name of BZD currency', '[catalogs] name of BZD currency')},{value:"CAD",label:e._('CAD - Canada Dollar', '[catalogs] name of CAD currency', '[catalogs] name of CAD currency')},{value:"CDF",label:e._('CDF - Congo/Kinshasa Franc', '[catalogs] name of CDF currency', '[catalogs] name of CDF currency')},{value:"CHF",label:e._('CHF - Switzerland Franc', '[catalogs] name of CHF currency', '[catalogs] name of CHF currency')},{value:"CLP",label:e._('CLP - Chile Peso', '[catalogs] name of CLP currency', '[catalogs] name of CLP currency')},{value:"CNY",label:e._('CNY - China Yuan Renminbi', '[catalogs] name of CNY currency', '[catalogs] name of CNY currency')},{value:"COP",label:e._('COP - Colombia Peso', '[catalogs] name of COP currency', '[catalogs] name of COP currency')},{value:"CRC",label:e._('CRC - Costa Rica Colon', '[catalogs] name of CRC currency', '[catalogs] name of CRC currency')},{value:"CUC",label:e._('CUC - Cuba Convertible Peso', '[catalogs] name of CUC currency', '[catalogs] name of CUC currency')},{value:"CUP",label:e._('CUP - Cuba Peso', '[catalogs] name of CUP currency', '[catalogs] name of CUP currency')},{value:"CVE",label:e._('CVE - Cape Verde Escudo', '[catalogs] name of CVE currency', '[catalogs] name of CVE currency')},{value:"CZK",label:e._('CZK - Czech Republic Koruna', '[catalogs] name of CZK currency', '[catalogs] name of CZK currency')},{value:"DJF",label:e._('DJF - Djibouti Franc', '[catalogs] name of DJF currency', '[catalogs] name of DJF currency')},{value:"DKK",label:e._('DKK - Denmark Krone', '[catalogs] name of DKK currency', '[catalogs] name of DKK currency')},{value:"DOP",label:e._('DOP - Dominican Republic Peso', '[catalogs] name of DOP currency', '[catalogs] name of DOP currency')},{value:"DZD",label:e._('DZD - Algeria Dinar', '[catalogs] name of DZD currency', '[catalogs] name of DZD currency')},{value:"EGP",label:e._('EGP - Egypt Pound', '[catalogs] name of EGP currency', '[catalogs] name of EGP currency')},{value:"ERN",label:e._('ERN - Eritrea Nakfa', '[catalogs] name of ERN currency', '[catalogs] name of ERN currency')},{value:"ETB",label:e._('ETB - Ethiopia Birr', '[catalogs] name of ETB currency', '[catalogs] name of ETB currency')},{value:"EUR",label:e._('EUR - Euro Member Countries', '[catalogs] name of EUR currency', '[catalogs] name of EUR currency')},{value:"FJD",label:e._('FJD - Fiji Dollar', '[catalogs] name of FJD currency', '[catalogs] name of FJD currency')},{value:"FKP",label:e._('FKP - Falkland Islands (Malvinas) Pound', '[catalogs] name of FKP currency', '[catalogs] name of FKP currency')},{value:"GBP",label:e._('GBP - United Kingdom Pound', '[catalogs] name of GBP currency', '[catalogs] name of GBP currency')},{value:"GEL",label:e._('GEL - Georgia Lari', '[catalogs] name of GEL currency', '[catalogs] name of GEL currency')},{value:"GGP",label:e._('GGP - Guernsey Pound', '[catalogs] name of GGP currency', '[catalogs] name of GGP currency')},{value:"GHS",label:e._('GHS - Ghana Cedi', '[catalogs] name of GHS currency', '[catalogs] name of GHS currency')},{value:"GIP",label:e._('GIP - Gibraltar Pound', '[catalogs] name of GIP currency', '[catalogs] name of GIP currency')},{value:"GMD",label:e._('GMD - Gambia Dalasi', '[catalogs] name of GMD currency', '[catalogs] name of GMD currency')},{value:"GNF",label:e._('GNF - Guinea Franc', '[catalogs] name of GNF currency', '[catalogs] name of GNF currency')},{value:"GTQ",label:e._('GTQ - Guatemala Quetzal', '[catalogs] name of GTQ currency', '[catalogs] name of GTQ currency')},{value:"GYD",label:e._('GYD - Guyana Dollar', '[catalogs] name of GYD currency', '[catalogs] name of GYD currency')},{value:"HKD",label:e._('HKD - Hong Kong Dollar', '[catalogs] name of HKD currency', '[catalogs] name of HKD currency')},{value:"HNL",label:e._('HNL - Honduras Lempira', '[catalogs] name of HNL currency', '[catalogs] name of HNL currency')},{value:"HRK",label:e._('HRK - Croatia Kuna', '[catalogs] name of HRK currency', '[catalogs] name of HRK currency')},{value:"HTG",label:e._('HTG - Haiti Gourde', '[catalogs] name of HTG currency', '[catalogs] name of HTG currency')},{value:"HUF",label:e._('HUF - Hungary Forint', '[catalogs] name of HUF currency', '[catalogs] name of HUF currency')},{value:"IDR",label:e._('IDR - Indonesia Rupiah', '[catalogs] name of IDR currency', '[catalogs] name of IDR currency')},{value:"ILS",label:e._('ILS - Israel Shekel', '[catalogs] name of ILS currency', '[catalogs] name of ILS currency')},{value:"IMP",label:e._('IMP - Isle of Man Pound', '[catalogs] name of IMP currency', '[catalogs] name of IMP currency')},{value:"INR",label:e._('INR - India Rupee', '[catalogs] name of INR currency', '[catalogs] name of INR currency')},{value:"IQD",label:e._('IQD - Iraq Dinar', '[catalogs] name of IQD currency', '[catalogs] name of IQD currency')},{value:"IRR",label:e._('IRR - Iran Rial', '[catalogs] name of IRR currency', '[catalogs] name of IRR currency')},{value:"ISK",label:e._('ISK - Iceland Krona', '[catalogs] name of ISK currency', '[catalogs] name of ISK currency')},{value:"JEP",label:e._('JEP - Jersey Pound', '[catalogs] name of JEP currency', '[catalogs] name of JEP currency')},{value:"JMD",label:e._('JMD - Jamaica Dollar', '[catalogs] name of JMD currency', '[catalogs] name of JMD currency')},{value:"JOD",label:e._('JOD - Jordan Dinar', '[catalogs] name of JOD currency', '[catalogs] name of JOD currency')},{value:"JPY",label:e._('JPY - Japan Yen', '[catalogs] name of JPY currency', '[catalogs] name of JPY currency')},{value:"KES",label:e._('KES - Kenya Shilling', '[catalogs] name of KES currency', '[catalogs] name of KES currency')},{value:"KGS",label:e._('KGS - Kyrgyzstan Som', '[catalogs] name of KGS currency', '[catalogs] name of KGS currency')},{value:"KHR",label:e._('KHR - Cambodia Riel', '[catalogs] name of KHR currency', '[catalogs] name of KHR currency')},{value:"KMF",label:e._('KMF - Comoros Franc', '[catalogs] name of KMF currency', '[catalogs] name of KMF currency')},{value:"KPW",label:e._('KPW - Korea (North) Won', '[catalogs] name of KPW currency', '[catalogs] name of KPW currency')},{value:"KRW",label:e._('KRW - Korea (South) Won', '[catalogs] name of KRW currency', '[catalogs] name of KRW currency')},{value:"KWD",label:e._('KWD - Kuwait Dinar', '[catalogs] name of KWD currency', '[catalogs] name of KWD currency')},{value:"KYD",label:e._('KYD - Cayman Islands Dollar', '[catalogs] name of KYD currency', '[catalogs] name of KYD currency')},{value:"KZT",label:e._('KZT - Kazakhstan Tenge', '[catalogs] name of KZT currency', '[catalogs] name of KZT currency')},{value:"LAK",label:e._('LAK - Laos Kip', '[catalogs] name of LAK currency', '[catalogs] name of LAK currency')},{value:"LBP",label:e._('LBP - Lebanon Pound', '[catalogs] name of LBP currency', '[catalogs] name of LBP currency')},{value:"LKR",label:e._('LKR - Sri Lanka Rupee', '[catalogs] name of LKR currency', '[catalogs] name of LKR currency')},{value:"LRD",label:e._('LRD - Liberia Dollar', '[catalogs] name of LRD currency', '[catalogs] name of LRD currency')},{value:"LSL",label:e._('LSL - Lesotho Loti', '[catalogs] name of LSL currency', '[catalogs] name of LSL currency')},{value:"LYD",label:e._('LYD - Libya Dinar', '[catalogs] name of LYD currency', '[catalogs] name of LYD currency')},{value:"MAD",label:e._('MAD - Morocco Dirham', '[catalogs] name of MAD currency', '[catalogs] name of MAD currency')},{value:"MDL",label:e._('MDL - Moldova Leu', '[catalogs] name of MDL currency', '[catalogs] name of MDL currency')},{value:"MGA",label:e._('MGA - Madagascar Ariary', '[catalogs] name of MGA currency', '[catalogs] name of MGA currency')},{value:"MKD",label:e._('MKD - Macedonia Denar', '[catalogs] name of MKD currency', '[catalogs] name of MKD currency')},{value:"MMK",label:e._('MMK - Myanmar (Burma) Kyat', '[catalogs] name of MMK currency', '[catalogs] name of MMK currency')},{value:"MNT",label:e._('MNT - Mongolia Tughrik', '[catalogs] name of MNT currency', '[catalogs] name of MNT currency')},{value:"MOP",label:e._('MOP - Macau Pataca', '[catalogs] name of MOP currency', '[catalogs] name of MOP currency')},{value:"MRO",label:e._('MRO - Mauritania Ouguiya', '[catalogs] name of MRO currency', '[catalogs] name of MRO currency')},{value:"MUR",label:e._('MUR - Mauritius Rupee', '[catalogs] name of MUR currency', '[catalogs] name of MUR currency')},{value:"MVR",label:e._('MVR - Maldives (Maldive Islands) Rufiyaa', '[catalogs] name of MVR currency', '[catalogs] name of MVR currency')},{value:"MWK",label:e._('MWK - Malawi Kwacha', '[catalogs] name of MWK currency', '[catalogs] name of MWK currency')},{value:"MXN",label:e._('MXN - Mexico Peso', '[catalogs] name of MXN currency', '[catalogs] name of MXN currency')},{value:"MYR",label:e._('MYR - Malaysia Ringgit', '[catalogs] name of MYR currency', '[catalogs] name of MYR currency')},{value:"MZN",label:e._('MZN - Mozambique Metical', '[catalogs] name of MZN currency', '[catalogs] name of MZN currency')},{value:"NAD",label:e._('NAD - Namibia Dollar', '[catalogs] name of NAD currency', '[catalogs] name of NAD currency')},{value:"NGN",label:e._('NGN - Nigeria Naira', '[catalogs] name of NGN currency', '[catalogs] name of NGN currency')},{value:"NIO",label:e._('NIO - Nicaragua Cordoba', '[catalogs] name of NIO currency', '[catalogs] name of NIO currency')},{value:"NOK",label:e._('NOK - Norway Krone', '[catalogs] name of NOK currency', '[catalogs] name of NOK currency')},{value:"NPR",label:e._('NPR - Nepal Rupee', '[catalogs] name of NPR currency', '[catalogs] name of NPR currency')},{value:"NZD",label:e._('NZD - New Zealand Dollar', '[catalogs] name of NZD currency', '[catalogs] name of NZD currency')},{value:"OMR",label:e._('OMR - Oman Rial', '[catalogs] name of OMR currency', '[catalogs] name of OMR currency')},{value:"PAB",label:e._('PAB - Panama Balboa', '[catalogs] name of PAB currency', '[catalogs] name of PAB currency')},{value:"PEN",label:e._('PEN - Peru Nuevo Sol', '[catalogs] name of PEN currency', '[catalogs] name of PEN currency')},{value:"PGK",label:e._('PGK - Papua New Guinea Kina', '[catalogs] name of PGK currency', '[catalogs] name of PGK currency')},{value:"PHP",label:e._('PHP - Philippines Peso', '[catalogs] name of PHP currency', '[catalogs] name of PHP currency')},{value:"PKR",label:e._('PKR - Pakistan Rupee', '[catalogs] name of PKR currency', '[catalogs] name of PKR currency')},{value:"PLN",label:e._('PLN - Poland Zloty', '[catalogs] name of PLN currency', '[catalogs] name of PLN currency')},{value:"PYG",label:e._('PYG - Paraguay Guarani', '[catalogs] name of PYG currency', '[catalogs] name of PYG currency')},{value:"QAR",label:e._('QAR - Qatar Riyal', '[catalogs] name of QAR currency', '[catalogs] name of QAR currency')},{value:"RON",label:e._('RON - Romania New Leu', '[catalogs] name of RON currency', '[catalogs] name of RON currency')},{value:"RSD",label:e._('RSD - Serbia Dinar', '[catalogs] name of RSD currency', '[catalogs] name of RSD currency')},{value:"RUB",label:e._('RUB - Russia Ruble', '[catalogs] name of RUB currency', '[catalogs] name of RUB currency')},{value:"RWF",label:e._('RWF - Rwanda Franc', '[catalogs] name of RWF currency', '[catalogs] name of RWF currency')},{value:"SAR",label:e._('SAR - Saudi Arabia Riyal', '[catalogs] name of SAR currency', '[catalogs] name of SAR currency')},{value:"SBD",label:e._('SBD - Solomon Islands Dollar', '[catalogs] name of SBD currency', '[catalogs] name of SBD currency')},{value:"SCR",label:e._('SCR - Seychelles Rupee', '[catalogs] name of SCR currency', '[catalogs] name of SCR currency')},{value:"SDG",label:e._('SDG - Sudan Pound', '[catalogs] name of SDG currency', '[catalogs] name of SDG currency')},{value:"SEK",label:e._('SEK - Sweden Krona', '[catalogs] name of SEK currency', '[catalogs] name of SEK currency')},{value:"SGD",label:e._('SGD - Singapore Dollar', '[catalogs] name of SGD currency', '[catalogs] name of SGD currency')},{value:"SHP",label:e._('SHP - Saint Helena Pound', '[catalogs] name of SHP currency', '[catalogs] name of SHP currency')},{value:"SLL",label:e._('SLL - Sierra Leone Leone', '[catalogs] name of SLL currency', '[catalogs] name of SLL currency')},{value:"SOS",label:e._('SOS - Somalia Shilling', '[catalogs] name of SOS currency', '[catalogs] name of SOS currency')},{value:"SPL",label:e._('SPL - Seborga Luigino', '[catalogs] name of SPL currency', '[catalogs] name of SPL currency')},{value:"SRD",label:e._('SRD - Suriname Dollar', '[catalogs] name of SRD currency', '[catalogs] name of SRD currency')},{value:"STD",label:e._('STD - São Tomé and Príncipe Dobra', '[catalogs] name of STD currency', '[catalogs] name of STD currency')},{value:"SVC",label:e._('SVC - El Salvador Colon', '[catalogs] name of SVC currency', '[catalogs] name of SVC currency')},{value:"SYP",label:e._('SYP - Syria Pound', '[catalogs] name of SYP currency', '[catalogs] name of SYP currency')},{value:"SZL",label:e._('SZL - Swaziland Lilangeni', '[catalogs] name of SZL currency', '[catalogs] name of SZL currency')},{value:"THB",label:e._('THB - Thailand Baht', '[catalogs] name of THB currency', '[catalogs] name of THB currency')},{value:"TJS",label:e._('TJS - Tajikistan Somoni', '[catalogs] name of TJS currency', '[catalogs] name of TJS currency')},{value:"TMT",label:e._('TMT - Turkmenistan Manat', '[catalogs] name of TMT currency', '[catalogs] name of TMT currency')},{value:"TND",label:e._('TND - Tunisia Dinar', '[catalogs] name of TND currency', '[catalogs] name of TND currency')},{value:"TOP",label:e._('TOP - Tonga Pa\'anga', '[catalogs] name of TOP currency', '[catalogs] name of TOP currency')},{value:"TRY",label:e._('TRY - Turkey Lira', '[catalogs] name of TRY currency', '[catalogs] name of TRY currency')},{value:"TTD",label:e._('TTD - Trinidad and Tobago Dollar', '[catalogs] name of TTD currency', '[catalogs] name of TTD currency')},{value:"TVD",label:e._('TVD - Tuvalu Dollar', '[catalogs] name of TVD currency', '[catalogs] name of TVD currency')},{value:"TWD",label:e._('TWD - Taiwan New Dollar', '[catalogs] name of TWD currency', '[catalogs] name of TWD currency')},{value:"TZS",label:e._('TZS - Tanzania Shilling', '[catalogs] name of TZS currency', '[catalogs] name of TZS currency')},{value:"UAH",label:e._('UAH - Ukraine Hryvnia', '[catalogs] name of UAH currency', '[catalogs] name of UAH currency')},{value:"UGX",label:e._('UGX - Uganda Shilling', '[catalogs] name of UGX currency', '[catalogs] name of UGX currency')},{value:"USD",label:e._('USD - United States Dollar', '[catalogs] name of USD currency', '[catalogs] name of USD currency')},{value:"UYU",label:e._('UYU - Uruguay Peso', '[catalogs] name of UYU currency', '[catalogs] name of UYU currency')},{value:"UZS",label:e._('UZS - Uzbekistan Som', '[catalogs] name of UZS currency', '[catalogs] name of UZS currency')},{value:"VEF",label:e._('VEF - Venezuela Bolivar', '[catalogs] name of VEF currency', '[catalogs] name of VEF currency')},{value:"VND",label:e._('VND - Viet Nam Dong', '[catalogs] name of VND currency', '[catalogs] name of VND currency')},{value:"VUV",label:e._('VUV - Vanuatu Vatu', '[catalogs] name of VUV currency', '[catalogs] name of VUV currency')},{value:"WST",label:e._('WST - Samoa Tala', '[catalogs] name of WST currency', '[catalogs] name of WST currency')},{value:"XAF",label:e._('XAF - Communauté Financière Africaine (BEAC) CFA Franc BEAC', '[catalogs] name of XAF currency', '[catalogs] name of XAF currency')},{value:"XCD",label:e._('XCD - East Caribbean Dollar', '[catalogs] name of XCD currency', '[catalogs] name of XCD currency')},{value:"XDR",label:e._('XDR - International Monetary Fund (IMF) Special Drawing Rights', '[catalogs] name of XDR currency', '[catalogs] name of XDR currency')},{value:"XOF",label:e._('XOF - Communauté Financière Africaine (BCEAO) Franc', '[catalogs] name of XOF currency', '[catalogs] name of XOF currency')},{value:"XPF",label:e._('XPF - Comptoirs Français du Pacifique (CFP) Franc', '[catalogs] name of XPF currency', '[catalogs] name of XPF currency')},{value:"YER",label:e._('YER - Yemen Rial', '[catalogs] name of YER currency', '[catalogs] name of YER currency')},{value:"ZAR",label:e._('ZAR - South Africa Rand', '[catalogs] name of ZAR currency', '[catalogs] name of ZAR currency')},{value:"ZMW",label:e._('ZMW - Zambia Kwacha', '[catalogs] name of ZMW currency', '[catalogs] name of ZMW currency')},{value:"ZWD",label:e._('ZWD - Zimbabwe Dollar', '[catalogs] name of ZWD currency', '[catalogs] name of ZWD currency')}],f=["Africa/Abidjan","Africa/Accra","Africa/Algiers","Africa/Bissau","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/El_Aaiun","Africa/Johannesburg","Africa/Juba","Africa/Khartoum","Africa/Lagos","Africa/Maputo","Africa/Monrovia","Africa/Nairobi","Africa/Ndjamena","Africa/Sao_Tome","Africa/Tripoli","Africa/Tunis","Africa/Windhoek","America/Adak","America/Anchorage","America/Araguaina","America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Asuncion","America/Atikokan","America/Bahia","America/Bahia_Banderas","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Cayenne","America/Chicago","America/Chihuahua","America/Costa_Rica","America/Creston","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson_Creek","America/Denver","America/Detroit","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Fort_Nelson","America/Fortaleza","America/Glace_Bay","America/Goose_Bay","America/Grand_Turk","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Indianapolis","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Inuvik","America/Iqaluit","America/Jamaica","America/Juneau","America/Kentucky/Louisville","America/Kentucky/Monticello","America/La_Paz","America/Lima","America/Los_Angeles","America/Maceio","America/Managua","America/Manaus","America/Martinique","America/Matamoros","America/Mazatlan","America/Menominee","America/Merida","America/Metlakatla","America/Mexico_City","America/Miquelon","America/Moncton","America/Monterrey","America/Montevideo","America/Nassau","America/New_York","America/Nipigon","America/Nome","America/Noronha","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Nuuk","America/Ojinaga","America/Panama","America/Pangnirtung","America/Paramaribo","America/Phoenix","America/Port-au-Prince","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Punta_Arenas","America/Rainy_River","America/Rankin_Inlet","America/Recife","America/Regina","America/Resolute","America/Rio_Branco","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/Sitka","America/St_Johns","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Thunder_Bay","America/Tijuana","America/Toronto","America/Vancouver","America/Whitehorse","America/Winnipeg","America/Yakutat","America/Yellowknife","Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Macquarie","Antarctica/Mawson","Antarctica/Palmer","Antarctica/Rothera","Antarctica/Syowa","Antarctica/Troll","Antarctica/Vostok","Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Atyrau","Asia/Baghdad","Asia/Baku","Asia/Bangkok","Asia/Barnaul","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Chita","Asia/Choibalsan","Asia/Colombo","Asia/Damascus","Asia/Dhaka","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Famagusta","Asia/Gaza","Asia/Hebron","Asia/Ho_Chi_Minh","Asia/Hong_Kong","Asia/Hovd","Asia/Irkutsk","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Kathmandu","Asia/Khandyga","Asia/Kolkata","Asia/Krasnoyarsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Nicosia","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Pontianak","Asia/Pyongyang","Asia/Qatar","Asia/Qostanay","Asia/Qyzylorda","Asia/Riyadh","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Srednekolymsk","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Thimphu","Asia/Tokyo","Asia/Tomsk","Asia/Ulaanbaatar","Asia/Urumqi","Asia/Ust-Nera","Asia/Vladivostok","Asia/Yakutsk","Asia/Yangon","Asia/Yekaterinburg","Asia/Yerevan","Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape_Verde","Atlantic/Faroe","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South_Georgia","Atlantic/Stanley","Australia/Adelaide","Australia/Brisbane","Australia/Broken_Hill","Australia/Currie","Australia/Darwin","Australia/Eucla","Australia/Hobart","Australia/Lindeman","Australia/Lord_Howe","Australia/Melbourne","Australia/Perth","Australia/Sydney","CET","CST6CDT","EET","EST","EST5EDT","Etc/GMT","Etc/GMT+1","Etc/GMT+10","Etc/GMT+11","Etc/GMT+12","Etc/GMT+2","Etc/GMT+3","Etc/GMT+4","Etc/GMT+5","Etc/GMT+6","Etc/GMT+7","Etc/GMT+8","Etc/GMT+9","Etc/GMT-1","Etc/GMT-10","Etc/GMT-11","Etc/GMT-12","Etc/GMT-13","Etc/GMT-14","Etc/GMT-2","Etc/GMT-3","Etc/GMT-4","Etc/GMT-5","Etc/GMT-6","Etc/GMT-7","Etc/GMT-8","Etc/GMT-9","Etc/UTC","Europe/Amsterdam","Europe/Andorra","Europe/Astrakhan","Europe/Athens","Europe/Belgrade","Europe/Berlin","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Chisinau","Europe/Copenhagen","Europe/Dublin","Europe/Gibraltar","Europe/Helsinki","Europe/Istanbul","Europe/Kaliningrad","Europe/Kiev","Europe/Kirov","Europe/Lisbon","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Oslo","Europe/Paris","Europe/Prague","Europe/Riga","Europe/Rome","Europe/Samara","Europe/Saratov","Europe/Simferopol","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Ulyanovsk","Europe/Uzhgorod","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zaporozhye","Europe/Zurich","HST","Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Reunion","MET","MST","MST7MDT","PST8PDT","Pacific/Apia","Pacific/Auckland","Pacific/Bougainville","Pacific/Chatham","Pacific/Chuuk","Pacific/Easter","Pacific/Efate","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Gambier","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Kiritimati","Pacific/Kosrae","Pacific/Kwajalein","Pacific/Majuro","Pacific/Marquesas","Pacific/Nauru","Pacific/Niue","Pacific/Norfolk","Pacific/Noumea","Pacific/Pago_Pago","Pacific/Palau","Pacific/Pitcairn","Pacific/Pohnpei","Pacific/Port_Moresby","Pacific/Rarotonga","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Wake","Pacific/Wallis","WET"],x=[{label:"English (Canada)",value:"en-CA"},{label:"Français (Canadien)",value:"fr-CA"}],b=50,P="-"},531017:(e,i,t)=>{t.d(i,{Bc:()=>x,Di:()=>w,Dy:()=>h,Hc:()=>v,I5:()=>A,Qv:()=>d,Sx:()=>E,Vn:()=>S,Yy:()=>_,bD:()=>b,bQ:()=>s,d9:()=>I,do:()=>C,f7:()=>c,gP:()=>T,h$:()=>f,hW:()=>p,p6:()=>m,qH:()=>y,v6:()=>g});t(883119);var n=t(642447),a=t(493851),o=t(478138),l=t(548672),r=t(524378);const s=({feedProfile:e,workflows:i})=>{if(i.length){var t;const n=i[0].workflowStatus,a=l.EF.includes(n);return n===l.qN.DISAPPROVED?l.yn.DISABLED:(null==e?void 0:e.feedStatus)===l.Hm.INACTIVE?l.yn.PAUSED:n===l.qN.UNDER_REVIEW||n===l.qN.UNDER_APPEAL||a&&(null==e||null===(t=e.lastSuccessfulIngestion)||void 0===t?void 0:t.workflowStatus)!==l.qN.COMPLETED?l.yn.PENDING:null!=e&&e.lastSuccessfulIngestion?l.yn.ACTIVE:l.yn.INACTIVE}return null},d=(e,i=null)=>0===e&&(i===r.$o.PENDING||i===r.$o.APPEAL_PENDING),c=e=>({[l.yn.PENDING]:{color:"subtle",icon:"workflow-status-unstarted",text:e._('Pending', 'catalogs.dataSource.UnderReviewStatus', '[Catalogs] The data source is under review')},[l.yn.ACTIVE]:{color:"success",icon:"workflow-status-in-progress",text:e._('Active', 'catalogs.dataSource.ActiveStatus', '[Catalogs] The feed has ingested successfully.')},[l.yn.PAUSED]:{color:"subtle",icon:"workflow-status-halted",text:e._('Paused', 'catalogs.dataSource.PausedStatus', '[Catalogs] The daily feed ingestion processes are paused and will not refresh')},[l.yn.DISABLED]:{color:"error",icon:"workflow-status-problem",text:e._('Disabled', 'catalogs.dataSource.DisabledStatus', '[Catalogs] The feed has been disapproved by our review team.')},[l.yn.INACTIVE]:{color:"error",icon:"workflow-status-problem",text:e._('Inactive', 'catalogs.dataSource.InactiveStatus', '[Catalogs] The feed has not completed ingestion successfully and needs to be corrected')}}),u={SHOPIFY:"Shopify",WOOCOMMERCE:"WooCommerce",ADOBE:"Adobe",SALESFORCE:"Salesforce"},p=(e,i,t)=>{if(t&&t in u)return u[t];if(!i)return e._('-', 'catalogs.dataSource.noFileName', '[Catalogs] no data source file name');const n=i.split("/");if(1===n.length)return i;const a=n.pop();return a.length>15?"../"+a.slice(a.length-15):"../"+a},_=(e,i,t,n,o)=>`${(0,a.Z)(n.ngettext('{{ count }} error', '{{ count }} errors', i, ' - ', ' -- '),{count:o(e,i)})} | ${(0,a.Z)(n.ngettext('{{ count }} alert', '{{ count }} alerts', t, ' - ', ' -- '),{count:o(e,t)})}`,m=(e,i,t,a)=>t.toDateString()===i.toDateString()?a._('Today', 'catalogs.dataSources.dateAttribute', 'Date represents today in local timezone'):(0,n.Z)(e,i,n.k.NUMERIC),h=(e,i)=>{if(!e)return"-";const t=i[e]||e;return t.length>17?t.substring(0,14)+"...":t},g=e=>({...e.validationStatsWarnings,...e.ingestionStatsWarnings}),y=e=>({...e.validationStatsErrors,...e.ingestionStatsErrors}),v=e=>({warningStats:g(e),errorStats:y(e),downloadUrl:e.s3ValidationUrl,s3SourceUrl:e.s3SourceUrl,successCount:e.productCount,workflowStatus:e.workflowStatus,disapprovalReasons:e.disapprovalReasons||[]}),f=(e,i)=>Object.keys(e).length>0||Object.keys(i).length>0,x=e=>({id:e.id,url:e.url,format:e.format,defaultCurrency:e.defaultCurrency,defaultAvailability:"None"===e.defaultAvailability?null:e.defaultAvailability,credential:e.credential,feedStatus:e.feedStatus,feedPreferredScheduleTime:e.feedPreferredScheduleTime,feedPreferredScheduleTimezone:e.feedPreferredScheduleTimezone,locale:e.locale,country:e.country,feedProfileName:e.feedProfileName});function b(e){return e.filter((({workflowStatus:e})=>e===l.qN.COMPLETED||e===l.qN.COMPLETED_EARLY)).some((e=>Object.values(l.N7).some((i=>e[i]&&0!==e[i]))))}function P(e){const i="128",t="1008";return Object.keys(e).every((e=>[i,t].includes(e)))}function S(e,i){return P(i)&&0===Object.keys(e).length||P(i)&&!function(e){return Object.keys(e).some((e=>(0,o.C)().includes(e)))}(e)}function w(e){const{feed_format:i,feed_default_currency:t,default_availability_type:n,id:a,location_config:o,feed_username:l,feed_has_password:r,feed_status:s,preferred_schedule:d,locale:c,country:u,display_name:p,last_successful_ingestion:_,all_products_pg_item_count:m,integration_platform_type:h,created_at:g,domain:y,eligible_for_on_demand_kickoff:v,priority_lane:f,active_epoch_id:x,catalog_id:b}=e||{};return{id:a,url:o?o.full_feed_fetch_location:"",format:i,defaultCurrency:t,defaultAvailability:n,feedStatus:s,feedPreferredScheduleTime:d?d.time:void 0,feedPreferredScheduleTimezone:d?d.timezone:void 0,feedProfileName:p,integrationPlatformType:h,locale:c,country:u,credential:{username:l,hasPassword:r},lastSuccessfulIngestion:(P=_,P?{workflowStatus:P.workflow_status,workflowId:P.feed_fetch_workflow_id,productCount:P.product_count,inStockProductCount:P.in_stock_product_count,outOfStockProductCount:P.out_of_stock_product_count,preorderProductCount:P.preorder_product_count,originalProductCount:P.original_product_count,dateModified:P.created_at,originalUrl:P.original_url,s3SourceUrl:P.s3_source_url,s3ValidationUrl:P.s3_validation_url,validationStatsWarnings:P.validation_stats_warnings||{},validationStatsErrors:P.validation_stats_errors||{},ingestionStatsWarnings:P.ingestion_stats_warnings||{},ingestionStatsErrors:P.ingestion_stats_errors||{},ingestionStatsInfo:P.ingestion_stats_info||{},lastSuccessfulWorkflowId:P.last_successful_workflow_id}:null),allProductsPGItemCount:m,createdAt:g,domain:y,eligibleForOnDemandKickoff:v,priorityLane:f,activeEpochId:x,catalogId:b};var P}function I(e){return(e||[]).map((e=>w(e)))}function T(e,i){return!!(e.id&&i.id?e.id===i.id:e.feedProfileName&&i.feedProfileName&&e.feedProfileName===i.feedProfileName)}function A(e,i){return e.find((e=>T(i,e)))}const k=(e,i)=>({[l.ul.IN_STOCK]:i._('in stock', 'Catalogs.DataSource.feedProfileAvailabilyType.inStock', 'Feed profile in stock availability type'),[l.ul.OUT_OF_STOCK]:i._('out of stock', 'Catalogs.DataSource.feedProfileAvailabilyType.outOfStock', 'Feed profile out of stock availability type'),[l.ul.PREORDER]:i._('preorder', 'Catalogs.DataSource.feedProfileAvailabilyType.preorder', 'Feed profile preorder availability type')}[e]),E=e=>[{value:"UNAVAILABLE",label:e._('NONE', 'Catalogs.DataSource.feedProfileAvailabilyType.none', 'Feed profile no availability type')},...Object.keys(l.ul).map((i=>{var t;return{value:i,label:(null!==(t=k(l.ul[i],e))&&void 0!==t?t:e._('Unknown Type', 'Catalogs.DataSource.feedProfileAvailabilyType.Unknown', 'Unknown availability type.')).toUpperCase()}}))],C=e=>{var i;const{product_pin_approval_status:t="",product_pin_approval_status_reasons:n,format:a,id:o,disapprovalTrackingData:l}=null!==(i=e.data)&&void 0!==i?i:{};return{...e,data:{product_pin_approval_status:t,product_pin_approval_status_reasons:n,disapprovalTrackingData:l,format:a,id:o}}}},395487:(e,i,t)=>{t.d(i,{Be:()=>r,DD:()=>S,EK:()=>s,Eo:()=>m,HK:()=>q,J_:()=>ae,KO:()=>j,MD:()=>F,MU:()=>L,PD:()=>z,QE:()=>I,QX:()=>U,R0:()=>W,Rd:()=>oe,V0:()=>g,VO:()=>te,WH:()=>C,XT:()=>x,Y3:()=>c,aF:()=>M,aZ:()=>n,bS:()=>h,cU:()=>w,cm:()=>K,d0:()=>P,eu:()=>_,g2:()=>T,gd:()=>A,h1:()=>B,h8:()=>o,hh:()=>b,iu:()=>$,j0:()=>ne,j1:()=>N,k7:()=>Y,kc:()=>p,kl:()=>u,kq:()=>y,l5:()=>v,pF:()=>O,pM:()=>R,pV:()=>f,ps:()=>l,q9:()=>d,qB:()=>V,qf:()=>ee,r2:()=>k,rC:()=>D,rD:()=>Q,sG:()=>Z,ss:()=>ie,t7:()=>J,ul:()=>a,vr:()=>X,wZ:()=>H,yA:()=>G,yq:()=>E});const n=864e5,a={IN_STOCK:"in stock",OUT_OF_STOCK:"out of stock",PREORDER:"preorder"},o={NEW:"new",USED:"used",REFURBISHED:"refurbished"},l={MALE:"male",FEMALE:"female",UNISEX:"unisex"},r={1:"All Products",2:"Best Deals",3:"Most Popular",4:"Top Sellers",5:"Back In Stock",6:"New Arrivals"},s={FEATURED:"FEATURED",CAN_FEATURE:"CAN_FEATURE",FEATURING:"FEATURING",NO_FILTERS:"NO_FILTERS",TOO_FEW_PRODUCTS:"TOO_FEW_PRODUCTS",TOO_FEW_UNIQUE_PRODUCTS:"TOO_FEW_UNIQUE_PRODUCTS",TOO_MANY_PRODUCTS:"TOO_MANY_PRODUCTS",MAX_GROUPS_FEATURED:"MAX_GROUPS_FEATURED",UNFEATUREABLE:"UNFEATUREABLE"},d=[1,2,3,4,5,6,7,8],c=[1,2,3,4,5,6,8],u=[1,2,3,4,5,6,7,0,8],p=90,_=350,m=72,h=450,g=200,y=12,v=114,f={MERCHANT_CREATED:"MERCHANT_CREATED",ALL_PRODUCTS:"ALL_PRODUCTS"},x={FEATUREABLE:1,UNFEATUREABLE_NOT_ENOUGH_PINS:2,UNFEATUREABLE_NOT_ENOUGH_UNIQUE_PINS:3,UNFEATUREABLE_EXCEEDED_PINS_LIMIT:4},b={ITEM_ID:"Item ID",PRODUCT_CATEGORY:"Category",PRODUCT_TYPE:"Product type",BRANDS:"Brands",COST:"Cost",CUSTOM_LABEL:"Custom",CUSTOM_LABEL_0:"Custom label 0",CUSTOM_LABEL_1:"Custom label 1",CUSTOM_LABEL_2:"Custom label 2",CUSTOM_LABEL_3:"Custom label 3",CUSTOM_LABEL_4:"Custom label 4",AVAILABILITY:"Availability",PRICE:"Price",GENDER:"Gender",CONDITION:"Condition",CURRENCY:"Currency",ITEM_GROUP_ID:"Item group ID"},P=[b.PRODUCT_CATEGORY,b.PRODUCT_TYPE,b.BRANDS,b.CUSTOM_LABEL_0,b.CUSTOM_LABEL_1,b.CUSTOM_LABEL_2,b.CUSTOM_LABEL_3,b.CUSTOM_LABEL_4],S={[b.ITEM_ID]:["ITEM_ID"],[b.ITEM_GROUP_ID]:["ITEM_GROUP_ID"],[b.PRODUCT_CATEGORY]:["GOOGLE_PRODUCT_CATEGORY_0"],[b.PRODUCT_TYPE]:["PRODUCT_TYPE_0"],[b.COST]:["MIN_PRICE","MAX_PRICE"],[b.BRANDS]:["BRAND"],[b.CUSTOM_LABEL]:["CUSTOM_LABEL_0","CUSTOM_LABEL_1","CUSTOM_LABEL_2","CUSTOM_LABEL_3","CUSTOM_LABEL_4"],[b.AVAILABILITY]:["AVAILABILITY"],[b.CONDITION]:["CONDITION"],[b.GENDER]:["GENDER"]},w=[b.CUSTOM_LABEL,b.COST,b.CURRENCY],I={1:a.IN_STOCK,2:a.OUT_OF_STOCK,3:a.PREORDER},T={1:o.NEW,2:o.USED,3:o.REFURBISHED},A={1:l.MALE,2:l.FEMALE,3:l.UNISEX},k={1:b.ITEM_ID,5:b.PRODUCT_CATEGORY,12:b.PRODUCT_TYPE,3:b.BRANDS,2:b.AVAILABILITY,17:b.CUSTOM_LABEL_0,18:b.CUSTOM_LABEL_1,19:b.CUSTOM_LABEL_2,20:b.CUSTOM_LABEL_3,21:b.CUSTOM_LABEL_4,4:b.CONDITION,25:b.GENDER,22:b.PRICE,23:b.PRICE,26:b.CURRENCY,24:b.ITEM_GROUP_ID},E={[b.ITEM_ID]:1,[b.PRODUCT_CATEGORY]:5,[b.PRODUCT_TYPE]:12,[b.BRANDS]:3,[b.AVAILABILITY]:2,[b.CUSTOM_LABEL_0]:17,[b.CUSTOM_LABEL_1]:18,[b.CUSTOM_LABEL_2]:19,[b.CUSTOM_LABEL_3]:20,[b.CUSTOM_LABEL_4]:21,[b.CONDITION]:4,[b.GENDER]:25,[b.PRICE]:23,[b.CURRENCY]:26,[b.ITEM_GROUP_ID]:24},C={GREATER_INCLUSION:"0",GREATER_EXCLUSION:"1",LESS_INCLUSION:"2",LESS_EXCLUSION:"3"},j={[C.GREATER_EXCLUSION]:{filterType:22,filterOperator:{negated:!1,inclusion:!1}},[C.GREATER_INCLUSION]:{filterType:22,filterOperator:{negated:!1,inclusion:!0}},[C.LESS_EXCLUSION]:{filterType:23,filterOperator:{negated:!1,inclusion:!1}},[C.LESS_INCLUSION]:{filterType:23,filterOperator:{negated:!1,inclusion:!0}}},R="newlyCreatedPGId",D="storefront",F={campaignId:"createNewCampaign",objectiveType:"CATALOG_SALES",absolutify:!0},L=163,O=350,z={LIST:"LIST",GRID:"GRID"},N="236x",M=23,B=164,Z=256,U=112,K="calc(100vh - 175px)",G=75,H=200,V=40,W={PRODUCT_GROUP_NAME:"PRODUCT_GROUP_NAME",PRODUCT_COUNT:"PRODUCT_COUNT",PRODUCT_AVAILABILITY:"PRODUCT_AVAILABILITY",LAST_UPDATE:"LAST_UPDATE",PRODUCT_GROUP_PROMOTED:"PRODUCT_GROUP_PROMOTED",PRODUCT_GROUP_FEATURED:"PRODUCT_GROUP_FEATURED",PRODUCT_GROUP_ACTIONS:"PRODUCT_GROUP_ACTIONS",PG_METRIC:"PG_METRIC",PRODUCT_GROUP_COUNTRY:"PRODUCT_GROUP_COUNTRY"},$=500,Y=20,q=40,X=100,J=4,Q={DELETE_FAILED:"DELETE_FAILED",DELETE_SUCCESSFULLY:"DELETE_SUCCESSFULLY",REMOVE_SUCCESSFULLY:"REMOVE_SUCCESSFULLY"},ee={ALL:"ALL",MIXED:"MIXED",FEED_PROFILE:"FEED_PROFILE"},ie="US",te="selectedCountryKey",ne="selectedFeedProfileId",ae="activated",oe="ads_create_source_param"},259511:(e,i,t)=>{t.d(i,{G7:()=>a,Lp:()=>o,Ib:()=>d});var n=t(819079);function a(e={},i=!0){const t=(0,n.Z)(i?null:{name:"FeaturedProductGroupsResource",enabledRouteRefresh:!0,options:e});return{...t,isLoaded:!0,data:t&&t.data||[]}}function o(e={}){const i=(0,n.Z)({name:"ProductGroupFilterResource",options:e,enabledRouteRefresh:!0});return{...i,data:i&&i.data||{}}}var l=t(667294),r=t(536042),s=t(637110);function d(e={},i=!1,t=!1){const a=(0,r.ZP)(),o=(0,n.Z)(i?null:{name:"ProductGroupsResource",options:e,enabledRouteRefresh:!0,noCache:t}),d=(0,l.useMemo)((()=>o.data&&o.isLoaded?o.data.map((e=>(e.name=(0,s.GN)(a,e.type,e.name),e))):[]),[a,o.data,o.isLoaded]);return{...o,data:d}}},732192:(e,i,t)=>{t.r(i),t.d(i,{RoleBasedAccessControlProvider:()=>f,useRoleBasedAccessControlContext:()=>v});var n=t(667294),a=t(583592),o=t(245410),l=t(819079),r=t(802071),s=t(771799),d=t(173085),c=t(716793);const u=e=>{const i={};for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&("object"!=typeof e[t]||null===e[t]||Array.isArray(e[t])?i[(0,c.Z)(t)]=e[t]:i[(0,c.Z)(t)]=u(e[t]));return i},p=(e,i)=>{const t=[];for(const o in e)o!==i&&t.push({id:o,...u(e[o])});const n=t.sort((({user:{businessName:e}},{user:{businessName:i}})=>e.localeCompare(i))),a=new Map;for(const o of n)a.set(o.id,o);return a},_={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},m=(e,i)=>{switch(i.type){case"LOAD_PROFILES":return{...e,profiles:i.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:i.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:i.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:i.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:i.payload};default:return e}},h=e=>{const[i,t]=(0,n.useReducer)(m,_),a=(({dispatch:e,isEnabled:i,state:t})=>{const{orbacVisibility:a,disableProfileChanger:o,headerVisible:l}=t;return{changeProfile:(0,n.useCallback)((t=>{i&&e({type:"SET_ACTIVE_PROFILE",payload:t})}),[i,e]),toggleORBACVisibility:(0,n.useCallback)((t=>{i&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=t?t:!a})}),[i,e,a]),toggleDisableProfileChanger:(0,n.useCallback)((t=>{i&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=t?t:!o})}),[i,e,o]),toggleHeaderVisibility:(0,n.useCallback)((t=>{i&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=t?t:!l})}),[i,e,l])}})({dispatch:t,isEnabled:e,state:i}),{activeProfile:o,orbacVisibility:l}=i;(0,n.useEffect)((()=>{const e=(0,d.qn)("orbacActiveProfile",!1);e&&t({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,n.useEffect)((()=>{const e=(0,d.qn)("orbacVisibilty",!1);e&&t({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,n.useEffect)((()=>{(0,d.Nh)("orbacVisibility",l)}),[l]),(0,n.useEffect)((()=>{(0,d.Nh)("orbacActiveProfile",o)}),[o]);return{state:i,actions:a,receiveProfiles:(0,n.useCallback)(((e,i)=>{t({type:"LOAD_PROFILES",payload:p(e,i)})}),[t])}};var g=t(785893);const{Provider:y,useMaybeHook:v}=(0,a.Z)("RoleBasedAccessControlContext"),f=({children:e})=>{const{checkExperiment:i}=(0,o.F)(),t=(0,r.Z)(),a=Boolean(t.isAuth&&t.isPartner&&i("web_m10n_business_access_orbac_www").anyEnabled),{state:d,actions:c,receiveProfiles:u}=h(a),{activeProfile:p,headerVisible:_,profiles:m=[]}=d,v=m?Array.from(m.values()):[],f=(0,s.Z)(v),x=!!(t.isAuth&&v.length>0)&&f,b=t.isAuth?t.id:"",P=t.isAuth?t.username:"",{changeProfile:S,toggleORBACVisibility:w,toggleDisableProfileChanger:I,toggleHeaderVisibility:T}=c;(0,n.useEffect)((()=>{a&&("string"!=typeof f?p||S(b):S(f))}),[f,b,a,S,p]),(0,n.useEffect)((()=>{a&&(x&&!_&&T(!0),!x&&_&&T(!1))}),[T,x,a,_,m]);const{data:A}=(0,l.Z)(a?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),k=null==A?void 0:A.profiles;let E;t&&t.isAuth&&d.activeProfile===t.id?E={id:t.id,permissions:["OWNER"],user:{username:P,businessName:t.fullName,imgUrl:t.imageSmallUrl}}:p&&d.profiles&&(E=d.profiles.get(p)),(0,n.useEffect)((()=>{k&&u(k,b)}),[u,k,b]);const C=d.profiles?Array.from(d.profiles.values()):[];return(0,g.jsx)(y,{value:{profiles:C,headerVisible:d.headerVisible,activeProfile:E,changeProfile:S,toggleORBACVisibility:w,toggleDisableProfileChanger:I,toggleHeaderVisibility:T},children:e})}},329689:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(245410),a=t(732192),o=t(771799);const l=()=>{const{checkExperiment:e}=(0,n.F)(),i=(0,a.useRoleBasedAccessControlContext)(),{activeProfile:t}=i||{},l=e("web_m10n_business_access_orbac_www").anyEnabled,r=(0,o.Z)((null==i?void 0:i.profiles)||[]),{anyEnabled:s}=e("useorbacroutematcher_in_useorbacactingas");return l?s&&!r?Object.freeze({}):t&&(t.viewerMeetsMfaRequirement||(t.permissions||[]).includes("OWNER"))?t:Object.freeze({}):Object.freeze({})}},771799:(e,i,t)=>{t.d(i,{Z:()=>s});var n=t(616550),a=t(988014),o=t(245410),l=t(802071),r=t(525104);const s=e=>{var i,t,s,d;const c=(0,n.useLocation)(),u=(0,l.Z)(),p=(0,r.S6)(),{anyEnabled:_}=(0,o.F)().checkExperiment("web_m10n_business_access_orbac_www"),m=(0,n.useRouteMatch)("/:username"),h=null==m||null===(i=m.params)||void 0===i?void 0:i.username,g=(0,n.useRouteMatch)("/pin/:id"),y=!(null==g||null===(t=g.params)||void 0===t||!t.id)&&(null===(s=p(g.params.id))||void 0===s||null===(d=s.pinner)||void 0===d?void 0:d.id);if((0,a.ej)(c))return!1;if((0,a.RU)(c))return!0;if((0,a.mY)(c))return _;const v=e.concat(u.isAuth?{user:{username:u.username},id:u.id}:{}).find((e=>{const{user:i={},id:t}=e||{},{username:n}=i;return!!(n&&h||y&&t)&&(n===h||y===t)}));return!!v&&v.id}},384722:(e,i,t)=>{t.d(i,{D3:()=>d,DX:()=>r,KY:()=>c,Ms:()=>n,N1:()=>u,_P:()=>l,lJ:()=>o,nl:()=>a,q6:()=>s});const n=(e,i)=>{let t=e&&e.isAuth?e.username:"";return e&&i&&i.user&&i.user.username&&(t=i.user.username),t},a=(e,i)=>Boolean(i&&i.user&&e&&e.isAuth&&i.id!==e.id?i.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),o=(e,i)=>e&&e.isAuth&&i&&i.id&&i.id!==e.id?i.id:"",l=(e,i,t)=>{var n;return t&&t.user&&i&&i.isAuth&&t.id!==i.id?t.user.merchantId:null===(n=e.advertiser)||void 0===n?void 0:n.merchant_id},r=(e,i,t)=>t&&t.user&&e.isAuth&&t.id!==e.id?t.user.scheduledPinCount||0:e.isAuth&&i&&i.scheduled_pin_count||0,s=(e,i,t)=>!!(e&&e.isAuth&&t&&t.id&&t.id!==e.id&&t.id===i),d=(e,i,t)=>!!(s(e,i,t)||e&&e.isAuth&&i===e.id),c=(e,i,t)=>{const n=i&&i.owner&&i.owner.id||"";return d(e,n,t)};function u(e,i,t){const n=i?i.id:"";return d(e,n,t)}},515640:(e,i,t)=>{t.d(i,{N:()=>p,t:()=>h});var n=t(667294),a=t(690108),o=t(463310),l=t(980124),r=t(519677),s=t(583592),d=t(245410),c=t(785893);const{Provider:u,useHook:p}=(0,s.Z)("LinkedAccount"),_=e=>{(0,o.Z)(e?`/?next=${encodeURIComponent(e)}`:"/")},m=e=>{l.Z.reportFacebookConversion(r.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/convert"}),l.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),l.Z.reportLinkedInConversion(r.Z.LINKEDIN_PARTNER_ID,r.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT),l.Z.reportGoogleConversion(r.Z.GOOGLE_ADWORDS_ID,r.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT,"/",e)};function h({children:e}){const[i,t]=(0,n.useState)(!1),[o,l]=(0,n.useState)([]),{checkExperiment:r}=(0,d.F)(),s=r("ppm_p_gate").anyEnabled,p=(0,n.useCallback)((({businessName:e,thirdPartyApps:i,thirdPartyMarketingTrackingEnabled:n,nextUrl:o})=>{t(!0);const l={business_name:e,third_party_apps:i};return a.Z.create("BusinessOwnershipResource",l).callCreate({showError:!0}).then((()=>{n&&m(s),t(!1),_(o)})).catch((e=>(t(!1),Promise.reject({error:e}))))}),[t,s]),h=(0,n.useMemo)((()=>({createLinkedBusinessAccount:p,linkedBusinessCreationLoading:i,userAccounts:o,userAccountsRetrieved:l})),[p,i,l,o]);return(0,c.jsx)(u,{value:h,children:e})}},740089:(e,i,t)=>{t.d(i,{Z:()=>u});t(167912);var n,a=t(883119),o=t(825389),l=t(833897),r=t(785893);const s={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}},d=void 0!==n?n:n=t(45904),c=e=>({aggregatedPinData:e.aggregated_pin_data&&{pinTagsChips:e.aggregated_pin_data.pin_tags_chips&&e.aggregated_pin_data.pin_tags_chips.map((e=>{var i;return{entityId:e.id,image:(null===(i=e.images)||void 0===i?void 0:i["750x"])&&{height:e.images["750x"].height,url:e.images["750x"].url,width:e.images["750x"].width}}}))}});function u({pinKey:e,enableCloseupLink:i,trackingParamsMap:t}){const{data:n,childDataKey:u}=(0,o.uf)(d,e,{useLegacyAdapter:c}),{aggregatedPinData:p}=n,{pinTagsChips:_}=p||{},m=_&&_.length>=3?_.slice(0,3):[];return(0,r.jsx)(a.xu,{display:"flex",dangerouslySetInlineStyle:{__style:s.chipContainer},children:m.map((e=>{var n,o,d,c;const p=e.image||{},_=(0,r.jsx)(a.Ee,{alt:"",fit:"cover",naturalHeight:null!==(n=p.height)&&void 0!==n?n:1,naturalWidth:null!==(o=p.width)&&void 0!==o?o:1,role:"presentation",src:null!==(d=p.url)&&void 0!==d?d:""});return(0,r.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:s.chip},"data-test-id":"collageChip",children:(0,r.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:s.chipInner},position:"relative",children:(0,r.jsx)(a.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,r.jsx)(a.zd,{height:"100%",wash:!0,width:"100%",children:i?(0,r.jsx)(l.Z,{sizing:"fullSize",collageChipId:null!==(c=e.entityId)&&void 0!==c?c:"",pinKey:u,trackingParamsMap:t,children:_}):_})})})},e.entityId)}))})}},362626:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(667294),a=t(388011),o=t(347151);function l(e,i){const{logContextEvent:t}=(0,a.v)(),{componentType:l,contextLogData:r,viewParameter:s,viewType:d}=(0,o.E)(),{aux_data:c,view_type:u,view_parameter:p,component:_,clientTrackingParams:m,...h}=null!=i?i:{};return(0,n.useCallback)((()=>{t({event_type:e,view_type:u||d,view_parameter:p||s,component:_||l,clientTrackingParams:m,...h,aux_data:{...c,...r}})}),[t,c,m,h,p,u,_,l,r,e,s,d])}},885669:(e,i,t)=>{t.d(i,{X:()=>a,Z:()=>o});var n=t(667294);const a=120;function o(e,i=0,t=a){const[o,l]=(0,n.useState)(e?"active":"inactive");return(0,n.useEffect)((()=>{if(!e){const e=setTimeout((()=>l("inactive")),t);return()=>{clearTimeout(e)}}if(i){const e=setTimeout((()=>l("active")),i);return()=>{clearTimeout(e)}}l("active")}),[e]),o}},336331:(e,i,t)=>{t.d(i,{$:()=>o,B:()=>a});var n=t(583592);const{Provider:a,useHook:o}=(0,n.Z)("SurfaceContext",{surface:"Unknown"})},347151:(e,i,t)=>{t.d(i,{B:()=>a,E:()=>o});var n=t(583592);const{Provider:a,useHook:o}=(0,n.Z)("trackingParametersContext")},724842:(e,i,t)=>{t.d(i,{ZP:()=>E,we:()=>k,nn:()=>A,zn:()=>T});var n=t(667294),a=t(388011),o=t(282802),l=t(819079),r=t(802071),s=t(883119),d=t(88622),c=t(536042),u=t(630089),p=t(837792),_=t(3060),m=t(245410),h=t(785893);function g({iconAccessibilityLabel:e,icon:i,linkAccessibilityLabel:t,showNavigationIcon:n,text:a}){return(0,h.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,h.jsx)(s.xu,{"data-test-id":"ad-reason-icon",children:(0,h.jsx)(s.Sj,{accessibilityLabel:e,bgColor:"lightGray",icon:i,iconColor:"darkGray"})}),(0,h.jsx)(s.xu,{alignSelf:"center","data-test-id":"ad-location-targeting-reason",height:"100%",marginStart:2,children:(0,h.jsx)(s.xv,{children:a})}),n&&t&&(0,h.jsx)(s.kC,{direction:"column",justifyContent:"center",children:(0,h.jsx)(s.JO,{accessibilityLabel:t,color:"default",icon:"arrow-forward"})})]})}var y=t(712968);function v({brandName:e,language:i,geoRegion:t,geoPostalCode:n,ageBucketMatch:a,localeMatch:o,interestMatch:l,genderMatch:d,deviceMatch:p,isCustomerListMatched:_,isShoppingTargetingRematched:v,isActAlikeMatched:f,isEngagementMatched:x,isExpandTargetingMatched:b,isFromGPSLocation:P,isVisitorMatched:S,isShoppingProspectingMatched:w,isPlPersonaMatched:I,gender:T,device:A}){var k;const E=(0,c.ZP)(),{id:C}=(0,r.Z)(),j=(0,y.mN)()(null!=C?C:""),R=null!==(k=null==j?void 0:j.gender)&&void 0!==k?k:"",{checkExperiment:D}=(0,m.F)(),F=(w||I)&&D("ads_web_waista_v3").anyEnabled;return(0,h.jsx)(s.xu,{"data-test-id":"ad-reasons",children:(0,h.jsxs)(s.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[""!==a&&(0,h.jsx)(g,{iconAccessibilityLabel:E._('Icon for ad targeting age bucket', 'app.common.react.components.PinRep.components.AdReasons.ageIcon', 'Icon for ad targeting age bucket'),icon:"person",text:(0,u.nk)(E._('Age {{ ageBucketMatch }}', 'app.common.react.components.PinRep.components.AdReasonsModal.ageBucketMatch', 'Ad explanation for targeting age range, ageBucketMatch: Users age range'),{ageBucketMatch:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:a},"ad-reasons-age-bucket")})}),""!==d&&"unspecified"!==R&&(0,h.jsx)(g,{iconAccessibilityLabel:E._('Icon for ad targeting gender', 'app.common.react.components.PinRep.components.AdReasons.genderIcon', 'Icon for ad targeting gender'),icon:"person",text:(0,u.nk)(E._('{{ gender }}', 'app.common.react.components.PinRep.components.AdReasonsModal.genderMatch', 'Ad explanation for targeting gender, gender: Users gender'),{gender:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:T},"ad-reasons-gender")})}),""!==t&&(0,h.jsx)(g,{iconAccessibilityLabel:E._('Icon for ad targeting location', 'app.common.react.components.PinRep.components.AdReasons.locationIcon', 'Icon for ad targeting location'),icon:"location",text:(0,u.nk)(E._('Based in {{geoRegion}}', 'app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting', 'Ad explanation for targeting location , geoRegion: location user is based in'),{geoRegion:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-country-name")})}),""!==n&&(0,h.jsx)(g,{iconAccessibilityLabel:E._('Icon for ad targeting location', 'app.common.react.components.PinRep.components.AdReasons.locationIcon', 'Icon for ad targeting location'),icon:"location",text:(0,u.nk)(E._('Based in {{geoPostalCode}}', 'app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting', 'Ad explanation for targeting location , geoPostalCode: location user is based in'),{geoPostalCode:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-country-name")})}),""!==o&&(0,h.jsx)(g,{iconAccessibilityLabel:E._('Icon for ad targeting locale', 'app.common.react.components.PinRep.components.AdReasons.localeIcon', 'Icon for ad targeting locale'),icon:"globe",text:(0,u.nk)(E._('Language {{ language }}', 'app.common.react.components.PinRep.components.AdReasonsModal.localeMatch', 'Ad explanation for targeting age range, language: Users language'),{language:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:i},"ad-reasons-locale")})}),""!==p&&(0,h.jsx)(g,{iconAccessibilityLabel:E._('Icon for ad targeting device', 'app.common.react.components.PinRep.components.AdReasons.deviceIcon', 'Icon for ad targeting device'),icon:"desktop",text:(0,u.nk)(E._('Using {{ device }}', 'app.common.react.components.PinRep.components.AdReasonsModal.deviceMatch', 'Ad explanation for targeting device, device: Users device'),{device:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:A},"ad-reasons-device")})}),""!==l&&(0,h.jsx)(g,{iconAccessibilityLabel:E._('Icon for ad targeting interest', 'app.common.react.components.PinRep.components.AdReasons.interestIcon', 'Icon for ad targeting interest'),icon:"heart",text:(0,u.nk)(E._('Interested in {{ interestMatch }}', 'app.common.react.components.PinRep.components.AdReasonsModal.interestMatch', 'Ad explanation for targeting interest, interestMatch: Users interest'),{interestMatch:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:l},"ad-reasons-interest")})}),v&&(0,h.jsx)(g,{iconAccessibilityLabel:E._('Icon for ad targeting user on an audience list', 'app.common.react.components.PinRep.components.AdReasons.shoppingTargeting', 'Icon for ad targeting shopping targeting'),icon:"history",text:(0,u.nk)(E._('Interacted with {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargeting', 'Ad explanation for shopping targeting, brandName: promoter name'),{brandName:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-shopping-targeting")})}),S&&(0,h.jsx)(g,{iconAccessibilityLabel:E._('Icon for ad targeting customers who interacted with this brand previously, visitor matched', 'app.common.react.components.PinRep.components.AdReasonsModal.visitorMatchIcon', 'Ad explanation for visitor targeting users who have interacted with an advertiser brand'),icon:"history",text:(0,u.nk)(E._('Interacted with {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.visitorTargetingText', 'Text explaining the ad reason for visitor targeting users who interacted with brand previously, brandName: promoter name'),{brandName:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:e},"ad-reason-visitor")})}),_&&(0,h.jsx)(g,{iconAccessibilityLabel:E._('Icon for ad targeting user on an audience list', 'app.common.react.components.PinRep.components.AdReasons.listIcon', 'Icon for ad targeting customer list'),icon:"menu",text:(0,u.nk)(E._('On a list provided by {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.customerListTargeting', 'Ad explanation for targeting customer list , brandName: promoter name'),{brandName:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-customer-list")})}),x&&(0,h.jsx)(g,{iconAccessibilityLabel:E._('Icon for ad targeting user on engagement audience', 'app.common.react.components.PinRep.components.AdReasons.engagementIcon', 'Icon for ad targeting engagement'),icon:"pin",text:(0,u.nk)(E._('Interacted with {{brandName}} on Pinterest', 'app.common.react.components.PinRep.components.AdReasonsModal.engagementTargeting', 'Ad explanation for targeting engagement audience, brandName: promoter name'),{brandName:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-engagement")})}),f&&(0,h.jsx)(g,{iconAccessibilityLabel:E._('Icon for ad targeting user on act alike', 'app.common.react.components.PinRep.components.AdReasons.actAlikeIcon', 'Icon for ad targeting act alike'),icon:"graph-bar",text:(0,u.nk)(E._('Similar demographic or interest as other {{brandName}} customers', 'app.common.react.components.PinRep.components.AdReasonsModal.', 'Ad explanation for targeting act alike, brandName: promoter name'),{brandName:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-act-alike")})}),(b||F)&&(0,h.jsx)(g,{iconAccessibilityLabel:E._('Icon for ad targeting user on expand targeting', 'app.common.react.components.PinRep.components.AdReasons.expandTargeting', 'Icon for ad expand targeting'),icon:"pinterest",text:E._('Relevant activity on Pinterest', 'app.common.react.components.PinRep.components.AdReasonsModal.expandTargeting', 'Ad explanation for targeting ')}),P&&(0,h.jsx)(g,{iconAccessibilityLabel:E._('Icon for ad targeting user on GPS', 'app.common.react.components.PinRep.components.AdReasons.GPS', 'Icon for ad targeting GPS'),icon:"location",text:E._('GPS Location', 'app.common.react.components.PinRep.components.AdReasonsModal.GPS', 'Ad explanation for targeting GPS')})]})})}function f({onDismiss:e,brandName:i,userName:t,language:n,geoRegion:o,geoPostalCode:l,ageBucketMatch:r,localeMatch:m,interestMatch:g,genderMatch:y,deviceMatch:f,isCustomerListMatched:x,isShoppingTargetingRematched:b,isActAlikeMatched:P,isEngagementMatched:S,isExpandTargetingMatched:w,isFromGPSLocation:I,isVisitorMatched:k,isShoppingProspectingMatched:E,isPlPersonaMatched:C}){const{logContextEvent:j}=(0,a.v)(),R=(0,c.ZP)(),D=T(y,R),F=A(f,R),L=b||x||S||P||w||I||k||C||E||""!==r||""!==m||""!==g||""!==D||""!==F||""!==o||""!==l,O=_.C0+`/${t}/`;return(0,h.jsx)(d.ZP,{accessibilityModalLabel:R._('Why am I seeing this Ad?', 'app.common.react.components.PinRep.components.AdReasonsModal', 'Modal for explaining the reasons an advertiser is targeting a user'),onDismiss:e,children:(0,h.jsxs)(s.xu,{paddingX:8,paddingY:6,children:[(0,h.jsxs)(s.xu,{display:"flex",justifyContent:"center",marginBottom:6,position:"relative",children:[(0,h.jsx)(s.xu,{position:"absolute",left:!0,children:(0,h.jsx)(s.hU,{accessibilityLabel:R._('Close', 'app.common.react.components.PinRep.components.AdReasonsModal.closeModal', 'Close ad reasons modal'),icon:"cancel",iconColor:"darkGray",onClick:()=>{j({event_type:102,element:11925,component:13756}),e()},size:"sm"})}),(0,h.jsx)(s.X6,{align:"center",size:"500",children:R._('Why you\'re seeing this ad', 'Heading for promoted Pins explanation', 'Heading for promoted pins explanation, WAISTA ')})]}),(0,h.jsxs)(s.xu,{children:[(0,h.jsx)(s.kC,{direction:"column",gap:{row:0,column:4},children:L&&(0,h.jsx)(s.xu,{marginBottom:4,children:(0,h.jsx)(s.xv,{children:(0,u.nk)(R._('{{ brandName }} is trying to reach specific groups of people. Based on what you\'ve told us or other information, we think you fit some of those groups:', 'app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanationWAISTA', 'text informing the user about who is the advertiser\'s target audience, for WAISTA brandName: is promoter name'),{brandName:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,h.jsx)(s.rU,{href:O,display:"inlineBlock",onClick:()=>{j({event_type:101,component:13756,element:13407})},target:"blank",underline:"hover",children:i})},"ad-reasons-brand-name")})})})}),(0,h.jsx)(s.xu,{"data-test-id":"ad-reasons",children:(0,h.jsxs)(s.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[(0,h.jsx)(v,{brandName:i,language:n,geoRegion:o,geoPostalCode:l,ageBucketMatch:r,localeMatch:m,genderMatch:y,interestMatch:g,deviceMatch:f,isCustomerListMatched:x,isShoppingTargetingRematched:b,isActAlikeMatched:P,isEngagementMatched:S,isExpandTargetingMatched:w,isFromGPSLocation:I,isVisitorMatched:k,isShoppingProspectingMatched:E,isPlPersonaMatched:C,gender:D,device:F}),L&&(0,h.jsx)(s.xu,{marginBottom:1,children:(0,h.jsx)(s.xv,{children:(0,u.nk)(R._('If this isn\'t right, {{ changeUserSettings }}', 'app.common.react.components.PinRep.components.AdReasonsModal.changeUserSettingsText', 'Text explaining how to update personal information, changeUserSettings: link to personal settings'),{changeUserSettings:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,h.jsx)(s.rU,{display:"inline",href:`${_.C0}${p.AH}`,onClick:()=>{j({event_type:101,component:13756,element:13361})},target:"blank",underline:"hover",children:R._('update your personal information', 'app.common.react.components.PinRep.components.AdReasonsModal.changeUserSettings', 'Link for updating personal information')})},"ad-reasons-change-user-settings")})})})]})}),(0,h.jsxs)(s.kC,{direction:"column",gap:{row:0,column:1},children:[(0,h.jsx)(s.xu,{marginBottom:1,marginTop:1,children:(0,h.jsx)(s.X6,{size:"400",children:R._('Ads on Pinterest', 'app.common.react.components.PinRep.components.AdReasonsModal.adsOnPinterestHeading', 'Text for explaining Ads on Pinterest')})}),(0,h.jsx)(s.xu,{marginBottom:4,children:(0,h.jsx)(s.xv,{children:(0,u.nk)(R._('We show you ads that may be based on your profile settings, websites you visit, ads you interact with or other factors. {{adPreferencesLink}}', 'app.common.react.components.PinRep.components.AdReasonsModal.adPreferencesText', 'Text explaining what ads are based on, adPreferencesLink: link to privacy settings'),{adPreferencesLink:(0,h.jsx)(s.xu,{"data-test-id":"ad-reasons-review-ad-preferences",children:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,h.jsx)(s.rU,{display:"inline",href:`${_.C0}${p.Gx}`,onClick:()=>{j({event_type:101,component:13756,element:13401})},target:"blank",underline:"hover",children:R._('Review your ad preferences', 'app.common.react.components.PinRep.components.AdReasonsModal.adPreferencesLink', 'Privacy settings link')})},"ad-reasons-review-ad-preferences")})})})}),(0,h.jsx)(s.xu,{marginBottom:4,children:(0,h.jsx)(s.xv,{children:(0,u.nk)(R._('For more about how we collect and use data, {{ privacyPolicyLink }}', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyText', 'Text explaining how we collect and use data, privacyPolicyLink: link to privacy policy'),{privacyPolicyLink:(0,h.jsx)(s.xu,{"data-test-id":"ad-reasons-privacy-policy",children:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,h.jsx)(s.rU,{display:"inline",href:p.R_,onClick:()=>{j({event_type:101,component:13756,element:13402})},target:"blank",underline:"hover",children:R._('read our Privacy Policy', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyLink', 'Privacy policy link for reading how data is collected and used')})},"ad-reasons-privacy-policy")})})})}),(0,h.jsx)(s.xu,{marginBottom:4,children:(0,h.jsx)(s.xv,{children:(0,u.nk)(R._('To stop seeing content from an advertiser, {{ blockAccounts }}', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyText', 'Text explaining how to block an advertiser profile, blockAccounts: link to how to block accounts'),{blockAccounts:(0,h.jsx)(s.xu,{"data-test-id":"ad-reasons-block-accounts",children:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,h.jsx)(s.rU,{display:"inline",href:p.K_,onClick:()=>{j({event_type:101,component:13756,element:12058})},target:"blank",underline:"hover",children:R._('learn how to block accounts', 'app.common.react.components.PinRep.components.AdReasonsModal.blockAccountLink', 'Link for how to block accounts')})},"ad-reasons-block-accounts")})})})})]})]})]})})}var x=t(525104);const b=4,P=e=>e._('Female', 'waista.modal.attribute.female', 'Gender attribute for female'),S=e=>e._('Male', 'waista.modal.attribute.male', 'Gender attribute for male'),w=e=>e._('Web', 'waista.modal.attribute.web', 'device attribute for web'),I=e=>e._('Mobile Web', 'waista.modal.attribute.mWeb', 'device attribute for mobile web');function T(e,i){return"FEMALE"===e?P(i):"MALE"===e?S(i):""}function A(e,i){return"AppType_WEB"===e||"AppType_WEB_DENZEL"===e?w(i):"AppType_WEB_MOBILE"===e?I(i):""}function k(e,i){var t;const{name:n=""}=null!==(t=e.find((e=>e.key===i)))&&void 0!==t?t:{};return n}function E({pinId:e,onDismiss:i}){var t,s,d,c,u;const{logContextEvent:p}=(0,a.v)(),{locale:_}=(0,o.B)(),{country:m=""}=(0,r.Z)(),g=(0,l.Z)({name:"CountriesResource",options:{hasEmptyState:!0}}),y=(0,l.Z)({name:"LocalesResource"}),v=(0,x.S6)()(e);(0,n.useEffect)((()=>{p({event_type:120,component:13756})}),[p]);const{ad_targeting_attribution:P,promoter:S}=null!=v?v:{},{is_customer_list_matched:w=!1,is_shopping_retargeting_matched:I=!1,is_actalike_matched:T=!1,is_engagement_matched:A=!1,is_expand_targeting_matched:E=!1,is_from_gps_location:C=!1,is_visitor_matched:j=!1,is_shopping_prospecting_matched:R=!1,is_pl_persona_matched:D=!1,matched_age_bucket:F="",matched_locale:L="",matched_interest:O="",matched_gender:z="",matched_device:N="",geo_region:M="",geo_postal_code:B=""}=null!==(t=function(e=null,i=b){return e&&Object.keys(e).filter((i=>"boolean"==typeof e[i]||"string"==typeof e[i])).slice(0,i).reduce(((i,t)=>({...i,[t]:e[t]})),{})}(P))&&void 0!==t?t:{},Z=null!==(s=null==S?void 0:S.full_name)&&void 0!==s?s:"",U=function(e,i){var t;const{name:n=""}=null!==(t=e.find((e=>e.key===i)))&&void 0!==t?t:{};return n}(null!==(d=g.data)&&void 0!==d?d:[],m),K=k(null!==(c=y.data)&&void 0!==c?c:[],_),G=null!==(u=null==S?void 0:S.username)&&void 0!==u?u:"";return(0,h.jsx)(f,{brandName:Z,userName:G,country:U,language:K,ageBucketMatch:F,localeMatch:L,interestMatch:O,genderMatch:z,deviceMatch:N,isCustomerListMatched:w,isShoppingTargetingRematched:I,isActAlikeMatched:T,isEngagementMatched:A,isExpandTargetingMatched:E,isFromGPSLocation:C,isVisitorMatched:j,onDismiss:i,geoRegion:M,geoPostalCode:B,isShoppingProspectingMatched:R,isPlPersonaMatched:D})}},833897:(e,i,t)=>{t.d(i,{Z:()=>g});t(167912);var n,a=t(883119),o=t(840166),l=t(388011),r=t(825389),s=t(536042),d=t(599551),c=t(493851),u=t(473183),p=t(347151),_=t(785893);const m=void 0!==n?n:n=t(73755),h=e=>{var i,t,n;return{attributionSourceId:e.attribution_source_id,board:e.board&&{url:e.board.url},campaignId:e.campaign_id?String(e.campaign_id):null,carouselData:e.carousel_data&&{carouselSlots:e.carousel_data.carousel_slots&&e.carousel_data.carousel_slots.map((e=>({entityId:e.id}))),entityId:null!==(i=null===(t=e.carousel_data)||void 0===t?void 0:t.id)&&void 0!==i?i:"",index:null===(n=e.carousel_data)||void 0===n?void 0:n.index},description:e.description,entityId:e.id,gridTitle:e.grid_title,isDownstreamPromotion:e.is_downstream_promotion,isPromoted:e.is_promoted,pinPromotionId:e.pin_promotion_id?String(e.pin_promotion_id):null,pinner:e.pinner&&{username:e.pinner.username},promotedIsLeadAd:e.promoted_is_lead_ad,promotedLeadForm:e.promoted_lead_form&&{leadFormId:e.promoted_lead_form.lead_form_id},promoter:e.promoter&&{entityId:e.promoter.id},storyPinDataId:e.story_pin_data_id,title:e.title,trackingParams:e.tracking_params}};function g({sizing:e="default",children:i,collageChipId:t,componentType:n,contextLogData:g,elementType:y,pinKey:v,trackingParamsMap:f,viewParameter:x,viewType:b}){const P=(0,s.ZP)(),{data:S,childDataKey:w}=(0,r.uf)(m,v,{useLegacyAdapter:h}),{logContextEvent:I}=(0,l.v)(),T=(0,p.E)(),{carouselData:A,entityId:k}=S,E=!!S.promotedIsLeadAd;let C={},j=`/pin/${t||k}/`;const R=(0,o.Xx)();if(null!=R&&R.variantUrl&&(j=`/pin/${R.variantUrl}/`),A){var D;const{carouselSlots:e,entityId:i}=A,t=null!==(D=A.index)&&void 0!==D?D:0;j=`/pin/${k}/`,C={carousel_slot_id:(null==e?void 0:e[t])&&e[t].entityId,carousel_data_id:i,carousel_slot_index:t}}const F=(0,u.Z)(w);C={...C,...F({default:null==g?void 0:g.commerce_data})};const L=(0,d.Z)({href:j,externalData:{auxData:C,pin:S&&{attributionSourceId:S.attributionSourceId,board:S.board&&{url:S.board.url},campaignId:S.campaignId,entityId:S.entityId,isDownstreamPromotion:S.isDownstreamPromotion,isPromoted:S.isPromoted,pinner:S.pinner&&{username:S.pinner.username},pinPromotionId:S.pinPromotionId,promoter:S.promoter&&{entityId:S.promoter.entityId},storyPinDataId:S.storyPinDataId,trackingParams:S.trackingParams,trackingParamsMap:f}}});return(0,_.jsx)(a.Tg,{accessibilityLabel:(0,c.Z)(P._('{{ pinTitle }} pin page', 'pinRep.closeupLink.tapArea.accessibilityLabel', 'Accessibility label with pin title on individual links'),{pinTitle:S.gridTitle||S.title||S.description||""}),mouseCursor:"zoomIn",rounding:2,onTap:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),(()=>{if(E){var e,i;I({event_type:8948,view_type:b||T.viewType,view_parameter:x||T.viewParameter,component:null,object_id_str:S.entityId,aux_data:{closeup_navigation_type:"click",lead_form_id:null===(e=S.promotedLeadForm)||void 0===e?void 0:e.leadFormId,is_lead_ad:1}}),I({event_type:12,view_type:b||T.viewType,view_parameter:x||T.viewParameter,component:null,object_id_str:S.entityId,aux_data:{lead_form_id:null===(i=S.promotedLeadForm)||void 0===i?void 0:i.leadFormId,is_lead_ad:1,...F()}})}else{const e={...g,...F({default:null==g?void 0:g.commerce_data})};I({event_type:101,component:n||T.componentType,element:y,object_id_str:k,view_type:b||T.viewType,view_parameter:x||T.viewParameter,aux_data:e}),I({event_type:8948,view_type:b||T.viewType,view_parameter:x||T.viewParameter,component:n||T.componentType,element:y,object_id_str:k,aux_data:{closeup_navigation_type:"click",...e}})}})(),L({event:e})},fullWidth:"fullSize"===e,fullHeight:"fullSize"===e,href:j,children:i})}},946543:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(883119),a=t(785893);function o({children:e,additionalStyles:i={}}){return(0,a.jsx)(n.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...i}},"data-test-id":"contentLayer",children:e})}},520333:(e,i,t)=>{t.d(i,{Z:()=>P});var n=t(667294),a=t(616550),o=t(802071),l=t(883119),r=t(604094),s=t(633917),d=t(643183),c=t(806681),u=t(970588),p=t(536042),_=t(63262),m=t(550140),h=t(785893);function g(e){const i=(0,p.ZP)(),{onHide:t}=e,n=(0,h.jsx)(l.xv,{children:i._('Thank you for helping improve signal detection on Pinterest!', 'pinRep.actionBar.signalDetector.toast', 'Toast text displayed when a user submits a signal for review')});return(0,h.jsx)(m.ZP,{onHide:t,text:n})}const y=function({anchor:e,onDismiss:i,pinId:t,signals:a}){const r=(0,p.ZP)(),[s,d]=(0,n.useState)(0),c=(0,o.Z)(),{showOneToast:m}=(0,_.F9)();if(!c.isEmployee)return null;const y=a.map((({signal_message:e})=>({href:"#",text:null!=e?e:""}))),{background_color:v,icon_url:f,signal_id:x,signal_message:b}=a[s];return(0,h.jsx)(l.mh,{children:(0,h.jsx)(l.J2,{anchor:e,idealDirection:"right",onDismiss:i,positionRelativeToAnchor:!1,size:"lg",children:(0,h.jsxs)(l.xu,{padding:4,width:"100%",children:[a.length>1&&(0,h.jsx)(l.xu,{overflow:"scrollX",padding:1,marginBottom:4,children:(0,h.jsx)(l.mQ,{activeTabIndex:s,onChange:({event:e,activeTabIndex:i,dangerouslyDisableOnNavigation:t})=>{t(),(({activeTabIndex:e,event:i})=>{i.preventDefault(),d(e)})({activeTabIndex:i,event:e})},tabs:y})}),(0,h.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:(0,h.jsx)(l.X6,{size:"400",children:r._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,h.jsx)(l.xu,{paddingY:3,children:(0,h.jsxs)(l.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",children:[(0,h.jsx)(l.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:f?(0,h.jsx)(l.Ee,{alt:r._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:f}):(0,h.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:v}},height:40,width:40})}),(0,h.jsx)(l.xv,{size:"200",children:b})]})}),(0,h.jsx)(l.xu,{marginBottom:3,children:(0,h.jsx)(l.xv,{size:"200",children:r._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,h.jsxs)(l.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,h.jsx)(l.zx,{fullWidth:!0,color:"red",size:"md",text:r._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review'),onClick:()=>{(0,u.Z)({url:`/v3/pins/${t}/signal_request_review/`,method:"POST",data:{signal_id:x,user:c.id}}),i(),m((({hideToast:e})=>(0,h.jsx)(g,{onHide:e})))}}),(0,h.jsx)(l.zx,{fullWidth:!0,color:"gray",size:"md",text:r._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel'),onClick:i})]})]})})})};function v({signals:e,pinId:i}){const{background_color:t,icon_url:a,signal_message:o}=e[0],[u,p]=(0,n.useState)(!1),_=(0,n.useRef)();return(0,h.jsxs)(n.Fragment,{children:[(0,h.jsx)(r.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,h.jsx)(d.Z,{children:(0,h.jsx)(l.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,h.jsx)(s.Z,{children:(0,h.jsx)(c.q,{children:({hovered:e,onMouseEnter:i,onMouseLeave:n})=>(0,h.jsx)(l.iP,{onTap:()=>p((e=>!e)),rounding:"pill",onMouseEnter:i,onMouseLeave:n,children:(0,h.jsxs)(l.xu,{color:e?"dark":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:_,children:[(0,h.jsx)(l.xu,{display:"flex",width:24,height:24,rounding:"circle",color:"default",marginEnd:1,justifyContent:"center",alignItems:"center",children:(0,h.jsx)(l.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,h.jsx)(l.Ee,{alt:"",color:t,src:null!=a?a:"",naturalHeight:1,naturalWidth:1})})}),(0,h.jsx)(l.xv,{color:"inverse",size:"200",weight:"bold",children:o})]})})})})})})}),u&&_&&_.current&&(0,h.jsx)(y,{anchor:_.current,onDismiss:()=>p(!1),pinId:i,signals:e})]})}const f=({signal:e,anchor:i,setShowFlyout:t,setStore:n})=>{var a;const{hovered:o,onMouseEnter:r,onMouseLeave:s}=(0,c.Z)();return(0,h.jsx)(l.iP,{onTap:()=>(e=>{t((e=>!e)),n(e)})(e),rounding:"pill",onMouseEnter:r,onMouseLeave:s,children:(0,h.jsxs)(l.xu,{color:o?"dark":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:i,children:[(0,h.jsx)(l.xu,{display:"flex",minWidth:24,height:24,rounding:"circle",marginEnd:1,color:"default",justifyContent:"center",alignItems:"center",children:(0,h.jsx)(l.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,h.jsx)(l.Ee,{alt:"",color:e.background_color,src:null!==(a=e.icon_url)&&void 0!==a?a:"",naturalHeight:1,naturalWidth:1})})}),(0,h.jsx)(l.xv,{color:"inverse",size:"200",weight:"bold",children:e.signal_message})]})})};const x=function({anchor:e,onDismiss:i,pinId:t,signal:n}){const a=(0,p.ZP)(),r=(0,o.Z)(),{showOneToast:s}=(0,_.F9)();if(!r.isEmployee)return null;const{background_color:d,icon_url:c,signal_id:m,signal_message:y}=n;return(0,h.jsx)(l.mh,{children:(0,h.jsx)(l.J2,{anchor:e,idealDirection:"right",onDismiss:i,positionRelativeToAnchor:!1,size:"lg",children:(0,h.jsxs)(l.xu,{padding:4,width:"100%",children:[(0,h.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:(0,h.jsx)(l.X6,{size:"400",children:a._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,h.jsx)(l.xu,{paddingY:3,children:(0,h.jsxs)(l.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,h.jsx)(l.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:c?(0,h.jsx)(l.Ee,{alt:a._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:c}):(0,h.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:d}},height:40,width:40})}),(0,h.jsx)(l.xv,{size:"200",children:y})]})}),(0,h.jsx)(l.xu,{marginBottom:3,children:(0,h.jsx)(l.xv,{size:"200",children:a._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,h.jsxs)(l.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,h.jsx)(l.zx,{fullWidth:!0,color:"red",size:"md",text:a._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review'),onClick:()=>{(0,u.Z)({url:`/v3/pins/${t}/signal_request_review/`,method:"POST",data:{signal_id:m,user:r.id}}),i(),s((({hideToast:e})=>(0,h.jsx)(g,{onHide:e})))}}),(0,h.jsx)(l.zx,{fullWidth:!0,color:"gray",size:"md",text:a._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel'),onClick:i})]})]})})})};function b({signals:e,pinId:i}){const[t,a]=(0,n.useState)(!1),o=(0,n.useRef)(null),[c,u]=(0,n.useState)(e[0]);return(0,h.jsxs)(n.Fragment,{children:[(0,h.jsx)(r.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,h.jsx)(d.Z,{children:(0,h.jsx)(l.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,h.jsx)(s.Z,{children:(0,h.jsx)(l.kC,{alignItems:"stretch",justifyContent:"start",children:e.map((e=>(0,h.jsx)(l.xu,{marginEnd:2,children:(0,h.jsx)(f,{signal:e,anchor:o,setShowFlyout:a,setStore:u})},e.signal_id)))})})})})}),t&&(0,h.jsx)(x,{anchor:o.current,onDismiss:()=>a(!1),pinId:i,signal:c})]})}function P({pin:e}){const i=(0,o.Z)(),{search:t}=(0,a.useLocation)(),l=(0,n.useMemo)((()=>new URLSearchParams(t)),[t]);if(!i.isEmployee)return null;const{id:r,deb_ads:s,deb_content_quality:d,deb_inclusive_product:c,deb_shopping:u,deb_trust_and_safety:p}=e;if(s)return(0,h.jsx)(v,{pinId:r,signals:s});if(d)return(0,h.jsx)(v,{pinId:r,signals:d});if(c){if("skin_tone"===l.get("type")){const e=c.filter((e=>"visual_signals_hair_pattern_v1"!==e.signal_id));return(0,h.jsx)(b,{pinId:r,signals:e})}{const e=c.filter((e=>"visual_body_analyses_v2_0"!==e.signal_id));return(0,h.jsx)(b,{pinId:r,signals:e})}}return u?(0,h.jsx)(v,{pinId:r,signals:u}):p?(0,h.jsx)(v,{pinId:r,signals:p}):null}},299402:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(883119),a=t(885669),o=t(785893);function l(e,i){return{hidden:{opacity:0,transition:i?`opacity ${i}ms ease`:void 0},visible:{opacity:1,transition:e?`opacity ${e}ms ease`:void 0}}}function r({children:e,fadeInDuration:i=0,fadeOutDuration:t=a.X,visibility:r}){return"none"!==r&&e?(0,o.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:l(i,t)[r]},children:e}):null}},126645:(e,i,t)=>{t.d(i,{ZP:()=>m});var n=t(667294),a=t(883119),o=t(388011),l=t(536042),r=t(649796),s=t(176172),d=t(946543),c=t(785893);const u={background:{base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:s.Oc,filter:"blur(10px)",opacity:1}},backdrop:{base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},feedbackOverlayContainer:{base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}}},p=["followed","related","search"],_=["pfy","pfyBoard"];function m({feedbackType:e,pin:i,hideContents:t=!1}){var m;const{logContextEvent:h}=(0,o.v)(),g=(0,l.ZP)(),[y,v]=(0,n.useState)(!1),[f,x]=(0,n.useState)(!1);(0,n.useEffect)((()=>v(!0)),[]);const b=()=>x(!0),{feedbackText:P,images:S,showFeedbackOverlay:w,undoAction:I}=i,T=S&&(null===(m=S["236x"])||void 0===m?void 0:m.url),{image:A,subTitle:k,title:E,unfollow:C}=null!=P?P:{},j=!p.includes(e),R=_.includes(e),D="Reported"===E,F=()=>{h({event_type:101,view_type:1,view_parameter:92,element:11347})};return(0,c.jsxs)(a.xu,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,c.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[T&&(0,c.jsx)(d.Z,{additionalStyles:{...u.background.base,...y?u.background.blurred:{},backgroundImage:`url("${T}")`}}),(0,c.jsx)(d.Z,{additionalStyles:{...u.backdrop.base,...u.backdrop.blurred}})]}),(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{...u.feedbackOverlayContainer.base,...!w&&y?u.feedbackOverlayContainer.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%",children:!t&&(0,c.jsx)(a.xu,{height:"100%",children:(0,c.jsxs)(a.xu,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[(0,c.jsx)(a.xu,{marginBottom:2,children:(0,c.jsx)(a.X6,{color:"light",size:"400",children:E})}),(0,c.jsxs)(a.xu,{display:"flex",marginBottom:1,children:[A&&(0,c.jsx)(a.xu,{marginEnd:3,children:(0,c.jsx)(a.zd,{width:A.width,height:A.height,rounding:2,wash:!0,children:(0,c.jsx)(a.Ee,{alt:k||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:A.url||""})})}),(0,c.jsx)(a.xv,{color:"light",overflow:"normal",children:k})]}),(0,c.jsxs)(n.Fragment,{children:[I&&!D&&(0,c.jsx)(a.xu,{"data-test-id":"undo-action-btn",children:(0,c.jsx)(a.iP,{onTap:I,children:(0,c.jsx)(a.xv,{color:"inverse",weight:"bold",overflow:"normal",children:g._('Undo', 'Text on the button to navigate to undo hiding a pin', 'Text on the button to navigate to undo hiding a pin')})})}),(0,c.jsxs)(a.xu,{marginTop:"auto",children:[!I&&!f&&C&&!R&&(0,c.jsx)(a.zx,{fullWidth:!0,color:"white",onClick:()=>(0,r.t)(C.action,C.actionOptions,b),text:g._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user')}),j&&(0,c.jsx)(a.ZP,{color:"white",fullWidth:!0,href:"/edit",onClick:F,text:g._('Tune your feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})]})]})]})})})]})}},181453:(e,i,t)=>{t.d(i,{Z:()=>u});var n=t(883119),a=t(388011),o=t(536042),l=t(649796),r=t(958083),s=t(325438),d=t(154522),c=t(785893);function u({anchor:e,feedbackData:i,feedbackType:t,pinId:u,onDismiss:p,onHide:_,recommendationReason:m,viewParameter:h,viewType:g}){const{logContextEvent:y}=(0,a.v)(),v=(0,o.ZP)(),f=(e,n)=>{const{action:a,actionOptions:o}=(0,s.Z)({feedbackData:i,feedbackType:t,pinId:u,recommendationReason:m&&{board:m.board&&{entityId:m.board.entityId},reasonId:m.reasonId,reason:m.reason,throughProperties:m.throughProperties},complaintReason:e});(e=>{y({event_type:101,view_type:g,view_parameter:h,element:e,component:(0,r.nb)(t)})})(n),(0,l.t)(a,o),_()},x="promoted"===t?[{text:v._('Not relevant to me', 'homefeed.hideReasons.reason.notRelevant', 'Feedback option for Pin that is not relevant'),reason:10,elementType:1296},{text:v._('Seen Pin too many times', 'homefeed.hideReasons.reason.seenTooMany', 'Feedback option for Pin that has been seen too many times'),reason:3,elementType:11172},{text:v._('Blurry or pixelated image', 'homefeed.hideReasons.reason.lowQualityPicture', 'Feedback option for Pin with low quality picture'),reason:13,elementType:10898}]:[{text:v._('Not relevant to me', 'homefeed.hideReasons.reason.notRelevant', 'Feedback option for Pin that is not relevant'),reason:10,elementType:1296},{text:v._('Not in a language I understand', 'homefeed.hideReasons.reason.languageDontUnderstand', 'Feedback option for Pin that is in a language I dont understand'),reason:15,elementType:11178},{text:v._('Seen Pin too many times', 'homefeed.hideReasons.reason.seenTooMany', 'Feedback option for Pin that has been seen too many times'),reason:3,elementType:295},{text:v._('Blurry or pixelated image', 'homefeed.hideReasons.reason.lowQualityPicture', 'Feedback option for Pin with low quality picture'),reason:13,elementType:10898},{text:v._('Other', 'homefeed.hideReasons.reason.other', 'Feedback option for Pin hidden for other reasons'),reason:8,elementType:11179}];return(0,c.jsx)(n.Lt,{anchor:e,idealDirection:"down",onDismiss:p,zIndex:d.lI,id:"pin-action-dropdown",children:(0,c.jsx)(n.Lt.Section,{label:v._('Got a moment? Tell us why.', 'homefeed.hideReasons.title', 'Title of follow up question after negative Pin feedback'),children:x.map((({text:e,reason:i,elementType:t})=>(0,c.jsx)(n.Lt.Item,{onSelect:()=>f(i,t),option:{value:`hide-reason-${e.split(" ").join("-")}`,label:e},dataTestId:"hide-reason"})))})})}},87663:(e,i,t)=>{t.d(i,{Z:()=>_});var n=t(667294),a=t(294184),o=t.n(a),l=t(883119),r=t(536042),s=t(874261),d=t(51536),c=t(28630),u=t(785893);class p extends n.Component{constructor(...e){var i,t,n;super(...e),n={showBoardName:!1},(t="state")in(i=this)?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n}componentDidMount(){this.timer=setTimeout((()=>{this.setState({showBoardName:!0})}),950)}componentWillUnmount(){clearTimeout(this.timer)}render(){const{showBoardName:e}=this.state,{isDenseView:i,isNewlySaved:t,name:a,shouldUseLegoStyles:r,type:p,url:_}=this.props;if(r&&i)return null;const m="boardless"===p?this.props.i18n._('Saved to Profile', 'Saved.render.title', 'Text indicating saved to your profile'):a;let h,g;if(!t||e||r){const e=r?(0,u.jsx)(l.xv,{color:"inverse",size:"300",weight:"bold",children:m.length<=20?m:(0,d.Z)(m,20)}):(0,u.jsx)(l.X6,{color:"inverse",size:"400",lineClamp:1,children:m}),i=(0,c.Z)({url:_})?"nofollow":"none";h=_?(0,u.jsx)(l.rU,{rel:i,href:_,children:e}):e}else h=(0,u.jsx)(l.xv,{color:"inverse",children:(0,u.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n._('Saved!', 'Indication that a pin has been saved', 'Indication that a pin has been saved')})});return t&&(g=e?"board":"saved"),(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)(s.Z,{unsafeCSS:"\n.SavedAnimation {\n  &.saved {\n    animation: SavedAnimation--down-then-right 1s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n\n  &.board {\n    animation: SavedAnimation--to-right 0.12s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n}\n\n@keyframes SavedAnimation--down-then-right {\n  0% {\n    opacity: 0;\n    transform: translateY(-24px);\n  }\n\n  33% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  80% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  100% {\n    opacity: 0;\n    transform: translateX(24px);\n  }\n}\n\n@keyframes SavedAnimation--to-right {\n  from {\n    opacity: 0;\n    transform: translateX(-16px);\n  }\n\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n"}),(0,u.jsx)("div",{"data-test-id":"savedInfo",className:!r&&o()("SavedAnimation",g),children:h})]})}}const _=function(e){const i=(0,r.ZP)();return(0,u.jsx)(p,{...e,i18n:i})}},159262:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(958083);function a({feedbackType:e,viewParameter:i,boardFollowedByMe:t,hasPromoter:a,isDownstreamPromotion:o,pinnerFollowedByMe:l,hasRecommendationReason:r,recommendationReasonHasBoard:s,recommendationReasonReason:d}){return(0,n.hP)({boardFollowedByMe:t,feedbackType:e,promotion:a?{isDownstreamPromotion:o}:void 0,pinnerFollowedByMe:l,recommendationReason:r?{hasBoard:s,reason:d}:void 0,viewParameter:i})}},477001:(e,i,t)=>{t.d(i,{Z:()=>p});var n=t(702664),a=t(883119),o=t(603801),l=t(388011),r=t(527386),s=t(105095),d=t(870243),c=t(83503),u=t(785893);function p({isFullWidth:e,actionType:i,buttonAction:t,buttonText:p,experience:_,hideCompleteButton:m,imageAlt:h,imageUrl:g,openNewTab:y,avatarImageDetails:v,examplePinImage:f,titleText:x,titleTextColor:b,titleTextCustomization:P,descriptionText:S,descriptionTextCustomization:w}){var I,T;const{logContextEvent:A}=(0,l.v)(),k=(e=>0===e?3833:1===e?3834:2===e?3835:null)(i),E=(0,n.useDispatch)(),{experience_id:C,placement_id:j}=_||{},R=(0,c.Z)({onVisibilityChanged:e=>{e&&_&&(_.status="viewed",A({event_type:13,view_type:612,view_parameter:k}),E((0,r.UT)(j,C,!1,!0)))}}),{width:D}=(0,o.Z)()||{width:8},F=D-8,L=(0,s.IA)(D),O=F*L,z=L===s.LX||L===s.Ec,{url:N,full_name:M}=v||{},B=O*s.l0,{url:Z}=f||{},U=Z?O*s.l0:0,K=Z?s.ml*U:0,{color:G,fontStyle:H,fontWeight:V,horizontalAlignment:W,fontSize:$}=(0,s.Mf)(P||{},"mweb"),{color:Y,fontStyle:q,fontWeight:X,horizontalAlignment:J,fontSize:Q}=(0,s.Mf)(w||{},"mweb");return(0,u.jsx)(a.xu,{position:"relative",padding:1,marginBottom:2,ref:R,children:(0,u.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)",backgroundColor:e?"#003441":"education"}},color:e?"default":"education",paddingX:2,paddingY:4,position:"relative",rounding:4,children:[e&&g&&N&&(0,u.jsx)(a.xu,{height:O,width:F,children:(0,u.jsx)(a.Ee,{alt:h||x||"",color:"rgb(111, 91, 77)",naturalHeight:O,naturalWidth:F,src:g,fit:"cover",children:(0,u.jsx)(a.xu,{paddingY:N?12:3,children:(0,u.jsxs)(a.kC,{direction:"column",gap:2,alignItems:"center",flex:"grow",width:"100%",justifyContent:"center",children:[M&&N&&(0,u.jsx)(a.xu,{height:B,width:B,children:(0,u.jsx)(d.qE,{name:M,src:N,size:"fit"})}),(0,u.jsx)(a.xv,{align:W,color:b,italic:"italics"===H,weight:V,children:(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(I=G||b)&&void 0!==I?I:void 0,fontSize:z?s.SF:$}},children:x})}),(0,u.jsx)(a.xv,{align:J,italic:"italics"===q,weight:X,children:(0,u.jsx)(a.xu,{paddingX:12,dangerouslySetInlineStyle:{__style:{color:null!=Y?Y:void 0,fontSize:z?s._e:Q}},children:S})})]})})})}),(!e||e&&Z)&&(0,u.jsxs)(a.kC,{direction:"column",gap:2,alignItems:"center",flex:"grow",justifyContent:"center",children:[f&&Z&&(0,u.jsx)(a.xu,{paddingY:4,children:(0,u.jsx)(a.zd,{height:U,width:K,rounding:4,children:(0,u.jsx)(a.Ee,{alt:"Your first saved Pin",naturalHeight:U,naturalWidth:K,src:Z,fit:"cover"})})}),(0,u.jsx)(a.xv,{align:W,color:b,italic:"italics"===H,weight:V,children:(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(T=G||b)&&void 0!==T?T:void 0,fontSize:z&&e?s._e:$}},children:x})}),S&&w&&(0,u.jsx)(a.xu,{paddingX:e?2:0,paddingY:0,children:(0,u.jsx)(a.xv,{align:J,italic:"italics"===q,weight:X,children:(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{color:null!=Y?Y:void 0,fontSize:z&&e?s._e:Q}},children:S})})}),!m&&(0,u.jsx)(a.kC.Item,{alignSelf:"center",children:(0,u.jsx)(a.xu,{marginTop:2,marginBottom:e?4:0,children:(0,u.jsx)(a.ZP,{accessibilityLabel:p,color:"white",text:p,size:"md",href:t,target:y?"blank":null,onClick:()=>{_&&(A({event_type:102,view_type:612,view_parameter:k}),E((0,r.CK)(j,C,!1,!0)))}})})})]})]})})}},724097:(e,i,t)=>{t.d(i,{Z:()=>d});var n=t(883119),a=t(460914),o=t(785893);const l={__style:{borderRadius:"4px",padding:"10px 14px"}},r={borderWidth:"1px",borderStyle:"solid",borderColor:"white"},s={__style:{borderRadius:"4px",padding:"10px 14px 9px 8px",whiteSpace:"nowrap"}},d=({accessibilityLabel:e,color:i,customStyles:t,forwardedRef:d,icon:c,inline:u=!1,minHeight:p=40,minWidth:_=70,onTouch:m,pressState:h,shape:g,text:y})=>{const v=(e=>"transparent"===e||"dark"===e?"inverse":"primary"===e?"light":"default")(i),f=(({color:e,icon:i})=>i?s:"transparent"===e?{__style:{...l.__style,...r}}:l)({color:i,icon:c}),x=(0,o.jsx)(n.xu,{position:"relative",children:(0,o.jsx)(n.xu,{color:i,display:u?"inlineBlock":"flex",justifyContent:"center",minHeight:p,minWidth:_,dangerouslySetInlineStyle:"pill"===g?(b=t,{__style:{borderRadius:"24px",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"14px",paddingRight:"14px",...b}}):f,children:(0,o.jsxs)(n.kC,{alignItems:"center",justifyContent:"center",children:[c&&(0,o.jsx)(n.xu,{paddingX:"check"===c?2:0,children:(0,o.jsx)(n.JO,{accessibilityLabel:e,color:v,icon:c,inline:!0,size:"check"===c?16:20})}),(0,o.jsx)(n.xv,{color:v,inline:!0,size:"300",lineClamp:1,weight:"bold",children:y})]})})});var b;return m?(0,o.jsx)(a.Z,{onTouch:m,rounding:"pill"===g?"pill":2,pressState:h||"none",children:(0,o.jsx)(n.xu,{ref:d,children:x})}):x}},870601:(e,i,t)=>{t.d(i,{Z:()=>c});var n=t(667294),a=t(883119),o=t(936677),l=t(162664),r=t(589665),s=t(934211),d=t(785893);function c({children:e,className:i,forwardRef:t,offset:c=0,position:u,shouldShowShadow:p=!1,style:_={},top:m}){const{setIsContentHeaderPresent:h}=(0,o.i)();(0,n.useEffect)((()=>(h(!0),function(){h(!1)})),[]);const{currentScrollPosition:g,isScrolled:y,setSubheaderShadow:v}=(0,s.WQ)();(0,n.useEffect)((()=>(p&&v("contentHeader"),()=>{p&&v(null)})),[p]);let f=!1;"pending"!==m&&(f=null!=m?g>=m:y);const x=(0,l.t)(),b=(0,d.jsx)("div",{className:i,ref:t,style:{..._,top:x+c,...f&&p?{...r.Rz,zIndex:499}:{},...u&&"sticky"!==u?{position:u}:{}},children:e});return"sticky"===u?(0,d.jsx)(a.Le,{top:x+c,children:b}):b}},936677:(e,i,t)=>{t.d(i,{Z:()=>s,i:()=>r});var n=t(667294),a=t(583592),o=t(785893);const{Provider:l,useHook:r}=(0,a.Z)("ContentHeader");function s({children:e}){const[i,t]=(0,n.useState)(!1),a=(0,n.useMemo)((()=>({isContentHeaderPresent:i,setIsContentHeaderPresent:t})),[i]);return(0,o.jsx)(l,{value:a,children:e})}},843843:(e,i,t)=>{t.d(i,{MZ:()=>F,di:()=>O,Ai:()=>L});var n=t(667294),a=t(616550),o=t(883119),l=t(865173),r=t(563962),s=t(525571),d=t(988014),c=t(245410),u=t(617285),p=t(500797),_=t(282802),m=t(611756),h=t(173085),g=t(98736),y=t(802071),v=t(700453),f=t(277192),x=t(799006),b=t(724097),P=t(250307),S=t(354428),w=t(28630),I=t(204926);const T=({children:e,external:i,externalQueryParams:t,target:n,href:o})=>{const l=(0,a.useHistory)();if(!o)return null;const r=(0,P.Z)(o);return e({navigate:e=>{e.preventDefault(),(0,w.Z)({url:r})||i?"undefined"!=typeof window&&window.Windows?(0,I.Z)(r):(0,S.Gj)(r,{queryParams:t}):(0,S.G3)({event:e,href:o,history:l,target:"blank"===n?"blank":null})}})};var A=t(785893);const k=({accessibilityLabel:e,children:i,external:t,externalQueryParams:n,inline:a=!1,newTab:l,nofollow:r,onTouch:s,onBlur:d,onFocus:c,pressState:u,rounding:p,to:_})=>(0,A.jsx)(T,{external:t,target:l?"blank":null,externalQueryParams:n,href:_,children:({navigate:t})=>(0,A.jsx)(o.rU,{accessibilityLabel:e,onBlur:d?({event:e})=>d(e):void 0,onFocus:c?({event:e})=>c(e):void 0,underline:"none",href:(0,P.Z)(_),display:a?"inlineBlock":"block",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),null==s||s(e),e.defaultPrevented||t(e)},rel:r?"nofollow":"none",rounding:p,tapStyle:(Array.isArray(u)?u:[u]).includes("compress")?"compress":"none",children:i})}),E=({external:e,externalQueryParams:i,newTab:t,onTouch:n,to:a,...o})=>(0,A.jsx)(T,{external:e,target:t?"blank":null,externalQueryParams:i,href:a,children:({navigate:e})=>(0,A.jsx)(b.Z,{onTouch:i=>{null==n||n(i),i.defaultPrevented||e(i)},...o})});var C=t(951599),j=t(352865),R=t(712968);const D=(e,i=!1)=>function({isAppUpsellDisabled:t,...b}){const{children:P,clientTrackingParams:S,deeplinkUri:w,external:I,onTouch:T,refresh:k,to:E,viewParameter:D,viewType:F}=b,L=(0,x.Z)(),[O,z]=(0,n.useState)(!1),[N,M]=(0,n.useState)(!1),[B,Z]=(0,n.useState)(!1),{isAuth:U}=(0,y.Z)(),{userAgent:{platform:K,browserName:G},locale:H}=(0,_.B)(),V=(0,R.Tt)(),W=(0,r.Z)(),{checkExperiment:$}=(0,c.F)(),Y=(0,a.useLocation)(),q=(0,u.Z)();(0,n.useEffect)((()=>{!async function(){if(l.v){Z(!0);(await(0,l.Z)()).length>0&&M(!0)}}()}),[]),(0,n.useEffect)((()=>{U||(0,g.My)(`unauth.app_upsell.has_app.${N.toString()}`,{browser:G,platform:K})}),[G,N,U,K]);const X=()=>{W({event_type:1701,view_type:F,view_parameter:D}),O&&z(!1)};return(0,A.jsxs)(o.xu,{"data-test-id":"deeplink-wrapper",children:[O&&(0,A.jsx)(f.Z,{clientTrackingParams:S,deepLinkUri:w,isOpen:!0,onDismiss:()=>{W({component:14157,element:10308,event_type:10220,view_type:F||202,view_parameter:D,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}})},onOpenInApp:()=>{(0,m.Nh)("deeplinkBehavior","branchfallback"),X()},shouldTrackDismiss:!0,to:E,viewParameter:D,viewType:F,within:"deep-link-app-upsell-modal"}),(0,A.jsx)(C.Z,{children:n=>(0,A.jsx)(e,{...b,onTouch:e=>{const a=L&&!t&&U&&!I&&!k&&!(0,p.FP)(window)&&!("ios"===K&&(H||"").startsWith("ar"))&&(0,j.kp)((0,s.Z)(null==V?void 0:V.created_at));if(a){let i=!0,t=!1;"string"==typeof w&&(w||"").startsWith("/pin/")&&((0,d.uM)(Y)||(0,d.am)(Y)||(0,d.C$)(Y))?B&&N&&w&&"android"===K&&$("mweb_auth_deep_link_app_installed_user").anyEnabled&&(q(),i=!1):(i=!1,t=!0),i?(e.stopPropagation(),e.preventDefault(),z(!0)):t||(e.stopPropagation(),e.preventDefault(),W({component:14347,element:13582,event_type:3830,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}}),n(null!=w?w:(0,v.B)(Y),"deep-link-app-upsell-modal"))}else"branchfallback"!==(0,m.qn)("deeplinkBehavior")||(0,h.qn)("fallbackAttempt")||(e.stopPropagation(),e.preventDefault(),(0,h.Nh)("fallbackAttempt",1),n(w,"deep-link-app-upsell-modal",`${window.location.origin}${o=E,"string"==typeof o?o:`${o.pathname||""}${o.search?`?${o.search}`:""}`}`),X());var o;i&&a||!T||T(e)},children:P})})]})},F=D(k),L=D(E),O=D(b.Z,!0)},981628:(e,i,t)=>{t.d(i,{Wt:()=>r,ZP:()=>s,oQ:()=>l});var n=t(883119),a=t(536042),o=t(785893);const l={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},r={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function s({isCloseupButton:e,isDisabled:i,isFavorited:t,onTap:s,size:d}){const c=(0,a.ZP)();return e?(0,o.jsx)(n.hU,{accessibilityLabel:c._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),dangerouslySetSvgPath:t?r:l,disabled:i,iconColor:"darkGray",onClick:s,size:"lg"}):(0,o.jsx)(n.iP,{disabled:i,onTap:s,children:(0,o.jsx)(n.JO,{accessibilityLabel:c._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),color:"default",dangerouslySetSvgPath:t?r:l,size:d})})}},924255:(e,i,t)=>{function n(e){const i=e.split("/");return[i[2],i[1]]}function a(e,i){return!e||!e.some((e=>e.pin_type===i))}t.d(i,{E:()=>a,J:()=>n})},805834:(e,i,t)=>{t.d(i,{Zt:()=>Pe,iK:()=>Se,ZP:()=>we,cV:()=>fe});var n=t(667294),a=t(702664),o=t(616550),l=t(883119),r=t(604541),s=t(24286),d=t(536042),c=t(282442),u=t(282802),p=t(819079),_=t(946579),m=t(549201),h=t(586058),g=t(293926),y=t(387977),v=t(798198),f=t(777610),x=t(874261),b=t(943795),P=t(260070),S=t(785893);function w(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}const I="BizNuxHomefeedLoader",T=[140,220,265],A=["#E2780D","#0074e8","#0FA573","#FAB904","#133A5E","#FF8A8A"],k=e=>({position:"absolute",width:"100%",height:"100%",top:"0px",left:"0px",zIndex:"1",pointerEvents:"none",...e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:"1.15s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${I}_FadeOut`,animationDuration:".5s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${I}_FadeOut`}:{}}),E=e=>e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:".5s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${I}_FadeOut`,animationDuration:".4s",animationDelay:".5s",animationFillMode:"forwards",animationName:`${I}_FadeOut`}:{},C=[`${I}_FadeOut {\n    from { opacity: 1 }\n    to { opacity: 0 }\n  }`,`${I}_SlideUp {\n    from {\n      -webkit-transform: translateY(100vh);\n      transform: translateY(100vh);\n    }\n    to {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n    }\n  }`];class j extends n.PureComponent{constructor(...e){super(...e),w(this,"state",{enterAnimationFinished:!1,startExitAnimation:!1}),w(this,"enterAnimationDidFinished",(()=>{this.setState({enterAnimationFinished:!0})})),w(this,"startExitAnimation",(()=>{const{dismissLoader:e}=this.props;this.setState({startExitAnimation:!0},(()=>{this.exitAnimationTimeout=setTimeout((()=>{e()}),1700)}))}))}componentDidMount(){window.scrollTo(0,0),this.enterAnimationTimeout=setTimeout((()=>{this.enterAnimationDidFinished()}),2e3)}componentDidUpdate(){const{homefeedLoading:e}=this.props,{enterAnimationFinished:i,startExitAnimation:t}=this.state;!i||e||t||(0,y.Z)(this.startExitAnimation)}componentWillUnmount(){clearTimeout(this.enterAnimationTimeout),clearTimeout(this.exitAnimationTimeout)}get gridCellDimensionsByColumn(){const{gridContainerRef:e}=this.props;if(!e.current)return null;const i=e.current.querySelectorAll(".PinCard__imageWrapper"),t=Array.from({length:this.numberOfColumns},(()=>[]));for(let n=0;n<i.length;n+=1){const e=i[n].getBoundingClientRect();t[Math.round(e.left/(window.innerWidth/this.numberOfColumns))].push(e)}return t}get numberOfColumns(){return Math.max(Math.floor(window.innerWidth/200),2)}computeGridCellLayout(e,i,t){const n=this.numberOfColumns+1,a=(window&&window.innerWidth-16*n)/this.numberOfColumns;return{left:e*a+16*(e+1),top:t,width:a,height:T[(e+i)%T.length]}}renderGrid(){const{selectedTopics:e}=this.props,{startExitAnimation:i}=this.state,t=Array(this.numberOfColumns).fill(b.DEFAULT_HEIGHT),{gridCellDimensionsByColumn:n}=this,a=e.map(((e,a)=>{const o=a%this.numberOfColumns,r=Math.floor(a/this.numberOfColumns),s=A[a%A.length],d=t[o],c=this.computeGridCellLayout(o,r,d),u=(({color:e,startAnimation:i,originDimension:t,destinationDimension:n})=>{const a=n&&n.height>0?{top:n.top,left:n.left,width:n.width,height:n.height}:{opacity:0};return{position:"absolute",WebkitTransitionDuration:".5s",WebkitTransitionDelay:".6s",WebkitTransitionProperty:"all",WebkitTransitionTimingFunction:"ease-in-out",transitionDuration:".5s",transitionDelay:".6s",transitionProperty:"all",transitionTimingFunction:"ease-in-out",height:t.height,width:t.width,left:t.left,top:t.top,backgroundColor:e,borderRadius:"8px",...i?a:{}}})({color:s,startAnimation:i,originDimension:c,destinationDimension:n&&n[o][r]});return t[o]+=16+c.height,(0,S.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:u},children:(0,S.jsx)(l.xu,{margin:5,display:"flex",justifyContent:"start",alignItems:"start",dangerouslySetInlineStyle:{__style:E(i)},children:(0,S.jsx)(l.X6,{color:"light",size:"500",children:e.name})})},a)}));return(0,S.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{position:"absolute",height:"100%",width:"100%",left:0,top:0,WebkitTransform:"translateY(100vh)",WebkitAnimationDuration:".8s",WebkitAnimationDelay:"1.2s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${I}_SlideUp`,transform:"translateY(100vh)",animationDuration:".8s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${I}_SlideUp`}},children:a})}render(){const{startExitAnimation:e}=this.state;return(0,S.jsxs)(n.Fragment,{children:[(0,S.jsx)(x.Z,{unsafeCSS:(0,v.Ll)(C)}),(0,S.jsx)(l.xu,{color:"default",dangerouslySetInlineStyle:{__style:k(e)},children:(0,S.jsxs)(l.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,S.jsxs)(n.Fragment,{children:[(0,S.jsx)(g.Z,{duration:3700,finalProgress:100}),(0,S.jsx)(l.xu,{margin:10,dangerouslySetInlineStyle:{__style:{WebkitAnimationDuration:".5s",WebkitAnimationDelay:"1.4s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${I}_FadeOut`,animationDuration:".5s",animationDelay:"1.25s",animationFillMode:"forwards",animationName:`${I}_FadeOut`}},children:(0,S.jsx)(l.X6,{children:this.props.i18n._('Personalizing your feed with...', 'Loading homefeed details', 'Loading homefeed details')})})]}),this.renderGrid()]})})]})}}function R(e){const i=(0,d.ZP)(),t=(0,a.useSelector)((({topics:e})=>e)),n=(0,a.useDispatch)();return(0,f.Q)({view_type:24,view_parameter:261}),(0,S.jsx)(j,{...e,dismissLoader:()=>n((0,P.MI)(!1)),i18n:i,selectedTopics:Object.keys(t).filter((e=>t[e].is_followed)).map((e=>t[e]))})}var D=t(233569),F=t(372836),L=t(367184),O=t(220067),z=t(812889),N=t(593502),M=t(40660),B=t(448709),Z=t(477001),U=t(532243),K=t(825199),G=t(20227),H=t(563962),V=t(245410),W=t(802071),$=t(328939),Y=t(525104);const q=16,X=2;function J({pin:e,width:i,height:t,showDivider:n}){var a,o,r,s,d,c,u;const p=null===(a=e.images)||void 0===a?void 0:a["236x"];return(0,S.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:n?{borderRight:`${X}px solid #fff`}:{}},children:(0,S.jsx)(l.GH,{contentAspectRatio:(null!==(o=null==p?void 0:p.width)&&void 0!==o?o:1)/(null!==(r=null==p?void 0:p.height)&&void 0!==r?r:1),height:t,width:i,children:(0,S.jsx)(l.Ee,{alt:null!==(s=e.description)&&void 0!==s?s:"",naturalWidth:null!==(d=null==p?void 0:p.width)&&void 0!==d?d:1,naturalHeight:null!==(c=null==p?void 0:p.height)&&void 0!==c?c:1,src:null!==(u=null==p?void 0:p.url)&&void 0!==u?u:""})})})}function Q({storyId:e,slotIndex:i}){const t=(0,o.useHistory)(),r=(0,o.useLocation)(),{isAuth:s}=(0,W.Z)(),{checkExperiment:d}=(0,V.F)(),[c,u]=(0,n.useState)(0),p=(0,n.useRef)(),_=(0,H.Z)(),m=(0,Y.S6)();(0,n.useLayoutEffect)((()=>{const e=p.current;e&&u(e.offsetWidth)}),[]);const h=(0,a.useSelector)((({stories:i})=>i[e])),g=h.objects.map((e=>m(e.id))).filter(Boolean).slice(0,2),{story_type:y,action:v}=h,f=`${r.pathname}products/${r.search}`,x=()=>{_({component:200,event_type:102,view_parameter:3050,view_type:72}),t.push(f)};return d(s?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,S.jsx)($.qS,{auxData:{story_type:y,content_ids:g.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:i,viewParameter:3050,viewType:72,children:({impressionTrackerRef:e})=>c?(0,S.jsx)(l.xu,{padding:2,ref:e,children:(0,S.jsx)(l.zd,{rounding:2,children:(0,S.jsxs)(l.iP,{onTap:x,children:[(0,S.jsx)(l.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:g.map(((e,i)=>(0,S.jsx)(J,{pin:e,width:(c-q)/2-X/2,height:c-q,showDivider:!i},e.id)))}),(0,S.jsx)(l.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,S.jsx)(l.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,S.jsx)(l.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:(0,S.jsx)(l.xv,{weight:"bold",children:v.text})})})})]})})}):(0,S.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative"})}):(0,S.jsx)($.Hs,{auxData:{story_type:y,content_ids:g.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:i,viewParameter:3050,viewType:72,children:c?(0,S.jsx)(l.xu,{padding:2,children:(0,S.jsx)(l.zd,{rounding:2,children:(0,S.jsxs)(l.iP,{onTap:x,children:[(0,S.jsx)(l.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:g.map(((e,i)=>(0,S.jsx)(J,{pin:e,width:(c-q)/2-X/2,height:c-q,showDivider:!i},e.id)))}),(0,S.jsx)(l.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,S.jsx)(l.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,S.jsx)(l.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:(0,S.jsx)(l.xv,{weight:"bold",children:v.text})})})})]})})}):(0,S.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",ref:p})})}var ee=t(806530),ie=t(739425),te=t(377234);function ne({guide:e,guidedQuery:i,isSlot0Style:t=!1}){const{dominant_color:n,display:a}=e,o=(0,S.jsx)(l.Tg,{tapStyle:"none",rounding:"pill",href:`/search/pins/?rs=guide&q=${encodeURIComponent(i)}`,children:(0,S.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundSize:"cover",backgroundColor:n,whiteSpace:t?void 0:"nowrap"}},"data-test-id":"one-bar-module-3",minWidth:t?void 0:84,padding:4,rounding:"pill",children:(0,S.jsx)(l.xv,{align:t?"start":"center",color:t?(0,te.Yc)()?"inverse":"default":"inverse",lineClamp:t?2:void 0,size:"200",weight:t?"normal":"bold",children:a})})});return t?o:(0,S.jsx)(l.xu,{flex:"none",marginStart:-7,paddingX:4,children:o})}const ae={REPLACE:-1,PREPEND:0,APPEND:1};function oe({guides:e,isSlot0Style:i=!1,query:t}){const n=({position:e,term:i})=>e===ae.REPLACE?i:e===ae.PREPEND?`${i} ${t}`:`${t} ${i}`,a=()=>e.map((e=>(0,S.jsx)(ne,{guide:e,guidedQuery:n(e),isSlot0Style:i},e.display)));return i?(0,S.jsx)(l.xu,{padding:2,children:(0,S.jsx)(l.kC,{width:"100%",gap:{row:0,column:1},direction:"column",alignItems:"start",children:a()})}):(0,S.jsx)(l.xu,{overflow:"hidden",width:"calc(100vw - 16px)",children:(0,S.jsx)(l.xu,{display:"flex",marginBottom:-2,marginStart:-4,overflow:"auto",paddingX:7,paddingY:2,position:"relative",width:"100vw",children:a()})})}const le=43,re=2,se=["#CFFFCA","#D7EDFF","#DAD4FF","#DAFFF6","#FFE2EB","#FFE4C1","#FFFD92"],de=e=>se[e.charCodeAt(0)%se.length];function ce({guides:e,storyId:i,slotIndex:t,titleFormat:a}){var r;const{isAuth:s}=(0,W.Z)(),{checkExperiment:d}=(0,V.F)(),c=null!==(r=(0,ie.mB)((0,o.useLocation)().search).q)&&void 0!==r?r:"";return d(s?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,S.jsx)($.qS,{auxData:{story_type:"search_guides"},component:200,loggingId:i,objectIdStr:i,slotIndex:t,viewParameter:le,viewType:re,children:({impressionTrackerRef:i})=>(0,S.jsxs)(l.xu,{ref:i,children:[a&&(0,S.jsx)(l.xu,{paddingY:1,marginTop:2,children:(0,S.jsx)(l.xv,{align:"center",children:a})}),(0,S.jsx)(oe,{guides:e.map((e=>({display:e.display,dominant_color:de(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:c})]})}):(0,S.jsx)($.Hs,{auxData:{story_type:"search_guides"},component:200,loggingId:i,objectIdStr:i,slotIndex:t,viewParameter:le,viewType:re,children:(0,S.jsxs)(n.Fragment,{children:[a&&(0,S.jsx)(l.xu,{paddingY:1,marginTop:2,children:(0,S.jsx)(l.xv,{align:"center",children:a})}),(0,S.jsx)(oe,{guides:e.map((e=>({display:e.display,dominant_color:de(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:c})]})})}var ue=t(819365);function pe({slotIndex:e,storyId:i,viewParameter:t,viewType:a,storyData:o}){const{actionText:r,actionUrl:s,contextualSearchFromObjects:d,customProperties:c,descriptionFormat:u,displayOptions:p,experience:_,storyType:m,titleFormat:h}=o;switch((0,n.useEffect)((()=>{M.Z.increment("webapp.graphql.pinStory",.1,{viewType:a,storyType:m})}),[a,m]),m){case K.q:{var g,y,v;if(!c||!p)return null;const{numColumnsRequested:e,titleTextColor:i}=p;return 2===e?null:(0,S.jsx)(Z.Z,{isFullWidth:!1,actionType:c.actionType,buttonAction:null!=s?s:"",buttonText:null!=r?r:"",experience:null!=_?_:void 0,hideCompleteButton:c.hide_complete_button,imageAlt:c.image_alt,imageUrl:c.image,openNewTab:c.open_new_tab,avatarImageDetails:null!==(g=c.avatar_image_details)&&void 0!==g?g:{},examplePinImage:null!==(y=null===(v=c.example_pin_image_details)||void 0===v?void 0:v.originals)&&void 0!==y?y:{},titleText:null!=h?h:"",titleTextColor:G.e[i],titleTextCustomization:c.title_text_customization,descriptionText:null!=u?u:"",descriptionTextCustomization:c.description_text_customization})}case"feed_card_default":case"feed_card_video":return(0,S.jsx)(G.Z,{buttonAction:null!=s?s:"",buttonCustomization:c.button_customization,buttonText:null!=r?r:"",experience:null!=_?_:void 0,hideCompleteButton:c.hide_complete_button,imageAlt:c.image_alt,imageUrl:c.image,openNewTab:c.open_new_tab,storyType:m,titleText:null!=h?h:"",titleTextColor:G.e[p.titleTextColor],titleTextCustomization:c.title_text_customization,videoPin:c.video_pin,videoPlaceholderImage:c.video_placeholder_image});case"general_shopping_upsell":return(0,S.jsx)(G.Z,{buttonAction:null!=s?s:"",buttonText:null!=r?r:"",imageAlt:null==c?void 0:c.image_alt,imageUrl:null==c?void 0:c.image,storyType:m,titleText:null!=h?h:"",titleTextColor:G.e[p.titleTextColor]});case"BUBBLE_ONE_COL":return(0,S.jsx)(l.xu,{padding:2,children:(0,S.jsx)(U.Z,{slotIndex:e,storyKey:{type:"deprecated",data:i},storyId:i,viewType:a,viewParameter:t})});case"pinner_authority":case"pinner_authority_unified":return(0,S.jsx)(ee.Z,{storyId:i,slotIndex:e});case"stela_in_flashlight_onecol":return(0,S.jsx)(Q,{storyId:i,slotIndex:e});case"search_guides":return(0,S.jsx)(ce,{guides:null!=d?d:[],slotIndex:e,storyId:i,titleFormat:null!=h?h:""});default:return null}}const _e=(0,B.Z)({useGraphQLAdapter:()=>null,useLegacyAdapter:e=>{const i=(0,a.useSelector)((({stories:i})=>i[e]));if(!i)return null;const{action:t,container_type:n,custom_properties:o,display_options:l,experience:r,story_type:s,title:d,description:c,objects:u}=i;if(!s)return null;const p=u,_=null==p?void 0:p.filter((e=>"contextual_search"===e.schema||"contextual_search"===e.type)).map((e=>{var i,t;return{schema:"contextual_search",display:null!==(i=e.display)&&void 0!==i?i:"",term:null!==(t=e.term)&&void 0!==t?t:""}}));return{actionText:null==t?void 0:t.text,actionUrl:null==t?void 0:t.url,customProperties:o,displayOptions:l?{numColumnsRequested:l.num_columns_requested,titleTextColor:l.title_text_color}:null,experience:r,storyType:(0,ue.Z)({containerTypeIsItemGrid:56===n,storyType:s})?"BUBBLE_ONE_COL":s,titleFormat:null==d?void 0:d.format,descriptionFormat:null==c?void 0:c.format,contextualSearchFromObjects:_}}}),me=e=>(0,S.jsx)(_e,{input:{enabled:!1,data:e.storyId},children:({data:i})=>i&&(0,S.jsx)(pe,{...e,storyData:i})});var he=t(679420),ge=t(726091);function ye(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}const ve={},fe=e=>{ve[e]&&ve[e].handlePullToRefresh()},xe=()=>{const{plpImageRenderData:e}=(0,O.HW)(),[i]=e;return i?i.pin_id:null};class be extends n.PureComponent{constructor(...e){super(...e),ye(this,"state",{refreshing:!1,unauthLandingPinStateForAuthHomefeed:this.props.authHomefeedComponentDidUpdate?{pinId:xe(),feedItem:null}:null}),ye(this,"backOnlineAutoFetchResource",(()=>{this.props.pagination.loadNext()})),ye(this,"handlePullToRefresh",(()=>{this.props.pagination.refetch(),this.setState({refreshing:!0})})),ye(this,"gridContainerRef",(0,n.createRef)()),ye(this,"renderFeedPin",((e,i)=>{const{feedItemProps:t,location:n,performanceOptimization:a,renderSquarePins:o,showSeoMetadata:l,squarePins:r,trafficSource:s}=this.props,{auxData:d,componentType:c,feedback:u,imageOnly:p,impressionData:_,objectIdStr:m,oneTapSave:h,onFeedItemClick:g,onPinLinkClick:y,shouldAllowProductPriceIndicator:v,showSeoMetadata:f,viewData:x,viewParameter:b,viewType:P}=t||{},w=(n.search||"").includes("force_seo"),I=!(null==a||!a.lazyLoadBelowFoldIndex)&&i>a.lazyLoadBelowFoldIndex,T=!(null==a||!a.priorityFetchAboveFoldIndex)&&i<=a.priorityFetchAboveFoldIndex;return(0,S.jsx)(N.default,{auxData:d,componentType:c||0,duploFeedItemProps:{onPinClick:g,onPinLinkClick:y,showSeoMetadata:l||w||f},duploIsSquarePin:o||r,duploLazyLoadImage:I,duploOneTapSave:h,duploPriorityFetchImage:T,duploQueryRef:null,duploShouldAllowProductPriceIndicator:v,feedback:u,imageOnlyOption:p?"image-only":"default",impressionData:_,objectIdStr:m,pinId:e.id,slotIndex:i,trackingParams:e.trackingParams,trafficSource:s,viewData:x,viewParameter:b,viewType:P||1})}))}componentDidMount(){var e,i;window.addEventListener("online",this.backOnlineAutoFetchResource),e=this.props.feedKey,i=this,ve[e]=i}componentWillUnmount(){var e;window.removeEventListener("online",this.backOnlineAutoFetchResource),e=this.props.feedKey,delete ve[e]}componentDidUpdate(e){const{refreshing:i,unauthLandingPinStateForAuthHomefeed:t}=this.state,{feedItems:n,authHomefeedComponentDidUpdate:a}=this.props,o=i&&e.pagination.isLoadingNext&&!this.props.pagination.isLoadingNext;if(o&&this.setState({refreshing:!1}),a&&t){const i=a({feedItems:n,prevFeedItems:e.feedItems,finishedRefresh:o,unauthLandingPinStateForAuthHomefeed:t});i&&this.setState({unauthLandingPinStateForAuthHomefeed:i})}}render(){const{deviceType:e,emptyState:i,feedItemProps:t,feedItems:a,feedItemsAdjustment:o,feedKey:d,gridConfig:u,pagination:p,pullToRefresh:m,renderFeedItem:g,serverRender:y,showBizNuxHomefeedLoader:v,trafficSource:f,visuallyCompleteProfilerOptions:x,i18n:b,pageSize:P}=this.props,{unauthLandingPinStateForAuthHomefeed:w}=this.state,I=null!=w&&w.feedItem&&a.length?[w.feedItem,...a]:a,{viewParameter:T,viewType:A}=t||{},{key:k}=u||{},E=d+(k?`|${k}`:""),C="user_search"===f,j=C?window.innerWidth-16:200,D="board"===f?4:void 0,O={columnWidth:"desktop"===e?s.yF:j,renderItem:({data:e,itemIdx:i})=>{if(g){const t=g(e,i);if("FALLBACK_TO_DEFAULT"!==t)return t}switch(e.type){case"pin":return(0,S.jsx)(F.cn,{children:this.renderFeedPin(e,i)});case"user":return(0,S.jsx)(ge.Z,{truncateName:!0,userId:e.id,userSearchRepStyle:C,viewParameter:T,viewType:A});case"board":return(0,S.jsx)(h.Z,{boardId:e.id,type:"grid",viewParameter:T,viewType:A});case"topic":return(0,S.jsx)(he.Z,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:T,viewType:A});case"story":return"number"==typeof T?(0,S.jsx)(me,{slotIndex:i,storyId:e.id,viewParameter:T,viewType:A||1}):null;case"FEED_BREAK_IN":return o&&"breakIn"===o.type&&o.value.content;default:return null}},gutterWidth:"desktop"===e?4*s.jC:D,loadItems:p.loadNext,minCols:C?1:2,...u},N=!v&&p.isLoadingNext&&0===I.length&&!this.state.refreshing,M=P&&parseInt(P,10)<25,[B,Z,U]="fullWidthBreakIn"===(null==o?void 0:o.type)?[I.slice(0,o.value.index),o.value.content,I.slice(o.value.index)]:[I,null,[]],K="desktop"===e&&"flashlight"===f,G=K?0:s.qG;return(0,S.jsxs)(l.xu,{"data-test-id":"MobileFeed",children:[(0,S.jsx)(L.Z,{enabled:!!m,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing}),(0,S.jsxs)(l.xu,{marginStart:G,marginEnd:G,"data-test-id":"grid",ref:this.gridContainerRef,opacity:this.state.refreshing?.5:1,children:[(0,S.jsxs)(c.Z,{includeBackgroundImages:null==x?void 0:x.includeBackgroundImages,includeVideos:null==x?void 0:x.includeVideos,isAtEndOfFeed:!p.hasNext,itemCount:I.length,pinData:null==x?void 0:x.pins,children:[I.length?(0,S.jsx)(l.xu,{"data-test-id":"feed",marginTop:(0,F.kk)({isDesktop:"desktop"===e}),children:(0,S.jsx)(_.Z.Consumer,{children:e=>(0,S.jsx)(n.Fragment,{children:(0,S.jsxs)(F.c$,{children:[(0,S.jsx)(r.Z,{cacheKey:E,id:y?d:void 0,items:B,scrollContainerRef:e,serverRender:y,...O}),Z,U.length>0&&(0,S.jsx)(r.Z,{cacheKey:`${E}_afterBreak`,items:U,scrollContainerRef:e,...O})]})})})}):p.isLoadingNext?(0,S.jsx)(F.gG,{}):null!=i?i:null,p.isLoadingNext&&"board"===f&&M&&(0,S.jsx)(l.$j,{accessibilityLabel:b._('Loading', 'Label for loading spinner', 'Label for loading spinner'),show:!0})]}),N&&(0,S.jsx)(l.xu,{column:12,paddingY:2,children:(0,S.jsx)(z.Z,{partialViewportWidth:K})}),v&&(0,S.jsx)(R,{homefeedLoading:p.isLoadingNext,gridContainerRef:this.gridContainerRef})]})]})}}function Pe({feedItems:e,pagination:i,...t}){const{feedItemsAdjustment:n}=t,l=(0,o.useLocation)(),r=(0,m.ZP)(),s=(0,d.ZP)(),{isAuthenticated:c,isBot:p}=(0,u.B)(),{isBizNuxHomefeedLoadShown:_}=(0,a.useSelector)((({session:e})=>e));let h=e;return"breakIn"===(null==n?void 0:n.type)?h=(0,D.N)({items:e,breakIn:n.value}):"offset"===(null==n?void 0:n.type)&&(h=e.slice(n.value)),(0,S.jsx)(be,{...t,deviceType:r,feedItems:h,isAuthenticated:c,pagination:i,location:l,i18n:s,showBizNuxHomefeedLoader:!!_,showSeoMetadata:p||!c})}function Se({resource:{isAtEnd:e,isFetching:i,fetchMore:t,refresh:n},...o}){const l=(0,a.useSelector)((({feeds:e})=>{var i;return null!==(i=e[o.feedKey])&&void 0!==i?i:[]}));return(0,S.jsx)(Pe,{...o,feedItems:l,pagination:{hasNext:!e,isLoadingNext:i,loadNext:()=>t(),refetch:()=>n()}})}function we({resourceConfig:e,...i}){const t=(0,p.Z)(e);return(0,S.jsx)(Se,{...i,resource:t})}},41669:(e,i,t)=>{t.d(i,{Z:()=>S});var n=t(883119),a=t(563962),o=t(536042),l=t(245410),r=t(599226),s=t(98736),d=t(618569),c=t(63262),u=t(549201),p=t(272109),_=t(802071),m=t(230910),h=t(198060),g=t(471819),y=t(525104),v=t(712968),f=t(820166),x=t(618671),b=t(785893);const P=({children:e,pulsar:i,testId:t})=>i.show?(0,b.jsx)(n.xu,{position:"relative","data-test-id":t,children:(0,b.jsxs)(n.iP,{tapStyle:"none",onTap:i.onClick,children:[(0,b.jsx)(n.xu,{position:"absolute",marginTop:-5,dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},children:e}),(0,b.jsx)(n.xu,{position:"absolute",marginTop:-12,dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},children:(0,b.jsx)(n.o3,{})})]})}):(0,b.jsx)(n.xu,{"data-test-id":t,children:e});function S({auxData:e,disabled:i,disableLog:t,followEventType:S,id:w,inline:I,invertColors:T,isFollowed:A,isIdeaPin:k,isLegoEnabled:E,isSecondaryButton:C,isUserFollowButton:j,isUserMe:R,onFollow:D,onUnfollow:F,pinId:L,shouldUseLegoColors:O,showPulsar:z,size:N,textType:M="FollowFollowing",unfollowEventType:B,viewParameter:Z,viewType:U,clientTrackingParams:K}){const G=(0,o.ZP)(),H=(0,u.HG)(),{showToast:V}=(0,c.F9)(),W=(0,d.Z)(),$=(0,a.Z)(),Y=(0,r.Z)(),{checkExperiment:q}=(0,l.F)(),X=(0,g.Z)(),J=(0,_.Z)(),Q=J&&J.isAuth,{unauthFollowUserId:ee,setUnauthFollowUserId:ie}=(0,x.f)(),te=(0,v.mN)()(w),ne=(0,y.S6)()(null!=L?L:""),{link_domain:ae,native_creator:oe,origin_pinner:le,pinner:re}=ne||{},se=(0,m.wS)(ae,oe,le,re),de=null!=te?te:se;(0,p.Z)((()=>{!H&&Q&&ee&&w&&ee===w&&D(w)}));const ce=X({fn:()=>{Q?A?(F(w),t||$({event_type:B,view_type:U,view_parameter:Z,object_id_str:w,aux_data:e,clientTrackingParams:K})):(D(w),j&&V((({hideToast:e})=>{if(!de)return null;const i=de.username?`/${de.username}/`:"";return(0,b.jsx)(f.Z,{handleHide:e,text:G._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow'),userId:w,href:i,imageUrl:de.image_medium_url})})),t||$({event_type:S,view_type:U,view_parameter:Z,object_id_str:w,aux_data:e,clientTrackingParams:K})):((0,s.My)(`mweb_unauth_follow_button.tap.${String(U)}`),5===U&&26===S&&(0,s.My)("mweb_unauth_board_page_follow_button.tap"),(0,s.NC)(A?"press_profile_unfollow":"press_profile_follow"),W({action:"click",item:"board-follow-button"}),Y({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:k?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:H&&q("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!H&&q("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),H||ie(null!=w?w:""),(0,s.NC)("clickthrough"))},modalHeader:(0,h.N4)({i18n:G,toFollow:!A})}),ue=!A&&!!z,pe=()=>{if(R)return G._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===M)return A?G._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):G._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');const e="FollowUnfollow"===M?G._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):G._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return A?e:G._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,b.jsx)(P,{pulsar:ue?{show:!0,onClick:ce}:{show:!1},testId:R||A?"board-unfollow-button":"board-follow-button",children:(0,b.jsx)(n.zx,{color:O||"AddRemove"===M||!E&&C||A?"gray":"red",disabled:R||i,fullWidth:I,onClick:ue?void 0:({event:i})=>{i.preventDefault(),i.stopPropagation(),t||$({event_type:101,component:13672,element:11951,object_id_str:w,view_type:U,view_parameter:Z,aux_data:e,clientTrackingParams:K}),ce()},selected:T?!A:O&&A||!!A&&C,size:N,text:pe(),accessibilityLabel:pe()})})}},475190:(e,i,t)=>{t.d(i,{HW:()=>l,YW:()=>u,i3:()=>p,o2:()=>c});var n=t(667294),a=t(583592),o=t(785893);const l=660,r={educationId:null,paddingRight:0,zIndex:l};function s(e,i){switch(i.type){case"FOOTER_SET_EDUCATION_ID":const{educationId:t}=i.payload;return{...e,educationId:t};case"FOOTER_SET_PADDING_RIGHT":const{paddingRight:n}=i.payload;return{...e,paddingRight:n};case"FOOTER_SET_Z_INDEX":const{zIndex:a}=i.payload;return{...e,zIndex:a};default:return e}}const{Provider:d,Consumer:c,useHook:u}=(0,a.Z)("footerContext");function p({children:e}){const[i,t]=(0,n.useReducer)(s,r),a=(0,n.useCallback)((e=>t({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}})),[]),l=(0,n.useCallback)((e=>t({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}})),[]),c=(0,n.useCallback)((e=>t({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}})),[]),u=(0,n.useMemo)((()=>({...i,setEducationId:l,setPaddingRight:a,setZIndex:c})),[i,l,a,c]);return(0,o.jsx)(d,{value:u,children:e})}},818577:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(883119),a=t(785893);function o({text:e}){return(0,a.jsx)(n.xu,{display:"visuallyHidden",children:(0,a.jsx)(n.X6,{accessibilityLevel:1,children:e})})}},162664:(e,i,t)=>{t.d(i,{c:()=>a,t:()=>o});var n=t(435399);function a({children:e}){const{height:i}=(0,n.J)();return e(i)}function o(){const{height:e}=(0,n.J)();return e}},435399:(e,i,t)=>{t.d(i,{J:()=>d,Z:()=>_});var n=t(667294),a=t(583592),o=t(515640),l=t(589665),r=t(785893);const{Provider:s,useHook:d}=(0,a.Z)("Header"),c={childList:!0,attributes:!0,subtree:!0},u={height:l.cI,isInBiznuxFullscreen:!1,repinPinId:null,repinStartAnimation:!1,showAccountMenuFlyout:!1};function p(e,i){switch(i.type){case"showAccountMenuFlyout":return{...e,showAccountMenuFlyout:!0};case"hideAccountMenuFlyout":return{...e,showAccountMenuFlyout:!1};case"showRepinAnimation":return{...e,repinStartAnimation:!0,repinPinId:i.payload};case"hideRepinAnimation":return{...e,repinStartAnimation:!1,repinPinId:null};case"updateHeight":return{...e,height:i.payload};case"updateIsInBiznuxFullscreen":return{...e,isInBiznuxFullscreen:i.payload};default:throw new Error("action type not supported")}}function _({children:e}){const i=(0,n.useRef)(null),[{height:t,isInBiznuxFullscreen:a,repinPinId:d,repinStartAnimation:_,showAccountMenuFlyout:m},h]=(0,n.useReducer)(p,u);(0,n.useEffect)((()=>{const e=document.getElementById(l.WZ),t=()=>{e&&h({type:"updateHeight",payload:e.clientHeight})};return e&&"undefined"!=typeof MutationObserver&&(i.current=new MutationObserver(t),i.current.observe(e,c)),()=>{var e;null===(e=i.current)||void 0===e||e.disconnect()}}));const g=(0,n.useMemo)((()=>({height:t,isInBiznuxFullscreen:a,repinPinId:d,repinStartAnimation:_,showAccountMenuFlyout:m,updateHeaderState:h})),[h,t,a,d,_,m]);return(0,r.jsx)(s,{value:g,children:(0,r.jsx)(o.t,{children:e})})}},589665:(e,i,t)=>{t.d(i,{L1:()=>o,Rz:()=>s,WZ:()=>l,cI:()=>a,fe:()=>r,hu:()=>n});const n=64,a=80,o=22,l="HeaderContent",r=671,s={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},934211:(e,i,t)=>{t.d(i,{Hv:()=>c,WQ:()=>d});var n=t(667294),a=t(583592),o=t(223654),l=t(785893);const r=50,{Provider:s,useHook:d}=(0,a.Z)("HeaderShadow");function c({children:e}){const[i,t]=(0,n.useState)(!1),[a,d]=(0,n.useState)(0),[c,u]=(0,n.useState)(null);return(0,n.useEffect)((()=>{const e=(0,o.Z)((()=>{t(window.scrollY>0),d(window.scrollY)}),r);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]),(0,l.jsx)(s,{value:{currentScrollPosition:a,isScrolled:i,setSubheaderShadow:u,subheaderShadow:c},children:e})}},367184:(e,i,t)=>{t.d(i,{Z:()=>f});var n=t(667294),a=t(245410),o=t(616550),l=t(883119),r=t(388011),s=t(536042),d=t(785893);const c=24;function u({text:e,isSelected:i,icon:t,animationType:n,position:a,hasStartPulling:o,isExecuted:r}){return(0,d.jsxs)(l.xu,{display:"flex",direction:"column",alignItems:"center",marginBottom:6,children:[(0,d.jsx)(l.xu,{color:i?"dark":"secondary","data-test-id":"action-animated-icon",rounding:"circle",padding:o?4:0,dangerouslySetInlineStyle:i&&r?{__style:{transform:"rotate(360deg)",transition:"all .9s ease-out"}}:{__style:{transition:"all .3s ease-out",marginTop:i&&"move"===n?40:0}},children:(0,d.jsx)(l.JO,{size:100*a<c?100*a:c,icon:t,accessibilityLabel:e,color:i?"light":"dark"})}),(0,d.jsx)(l.xu,{padding:1,"data-test-id":"action-animated-text",dangerouslySetInlineStyle:{__style:{opacity:i?1:0,transition:"all .3s ease-out"}},children:(0,d.jsx)(l.xv,{align:"center",size:"100",children:e})})]})}const p=.5,_=250;function m({enabled:e,onSelect:i,refreshing:t}){const a=(0,n.useRef)(null),[o,l]=(0,n.useState)(0),[r,s]=(0,n.useState)(!1),d=t?0:o/_,c=d>0,u=()=>{s(!1),l(0)};(0,n.useEffect)((()=>{if(e){const e=e=>{window.scrollY<=0&&!t&&(a.current=e.touches[0].clientY)},n=e=>{if(a.current){const i=(e.touches[0].clientY-a.current)*p;i>0&&(l(i),e.preventDefault())}},r=()=>{a.current&&(s(!0),i({pullDistance:o,position:d,resetState:u}),a.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",n,{passive:!1}),window.addEventListener("touchend",r),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",n,{passive:!1}),window.removeEventListener("touchend",r)}}}),[e,i,o,t,d]);const m=a.current;return{pullDistance:o,hasStartPulling:c,position:d,startYRefCurrent:m,PULL_MENU_DISTANCE:_,isExecuted:r}}const h=500;function g({enabled:e,onPull:i,refreshing:t}){const n=(0,s.ZP)(),a=(0,o.useHistory)(),{logContextEvent:c}=(0,r.v)(),p=e=>e>=.6,_=e=>e>.4&&e<.6,{position:g,hasStartPulling:y,PULL_MENU_DISTANCE:v,isExecuted:f}=m({enabled:e,onSelect:e=>{const{position:t,resetState:n}=e;_(t)?setTimeout((()=>{c({view_type:1,event_type:158,view_parameter:92}),i(),n()}),h):p(t)?setTimeout((()=>{c({view_type:1,event_type:10144,view_parameter:92}),a.push("edit/"),n()}),h):n()},refreshing:t}),x=n._('Refresh', 'pullMenu.refresh', 'Pull down on grid to refresh items'),b=n._('Edit Feed', 'pullMenu.goTuner', 'Pull down on grid to edit your feed');return(0,d.jsx)(l.xu,{children:e&&(0,d.jsxs)(l.xu,{display:"flex",alignItems:"center",direction:"column",height:g*v,justifyContent:"center",marginBottom:y?4:0,children:[(0,d.jsx)(u,{text:b,isSelected:p(g),icon:"edit",animationType:"move",position:g,hasStartPulling:y,isExecuted:f}),(0,d.jsx)(u,{text:x,isSelected:_(g),icon:"refresh",position:g,hasStartPulling:y,isExecuted:f})]})})}const y=120;function v({enabled:e,onPull:i,refreshing:t}){const n=(0,s.ZP)(),{logContextEvent:a}=(0,r.v)(),{position:o,startYRefCurrent:c,pullDistance:u}=m({enabled:e,onSelect:e=>{const{pullDistance:t,resetState:n}=e;t>=y&&(a({view_type:1,event_type:158,view_parameter:92}),i()),n()},refreshing:t}),p=Math.min(o,1),_=n._('Pull to refresh', 'Pull down on grid to refresh items', 'Pull down on grid to refresh items');return(0,d.jsx)(l.xu,{children:e&&(0,d.jsx)(l.xu,{display:"flex",alignItems:"center",justifyContent:"center",height:o*y,dangerouslySetInlineStyle:{__style:{opacity:p,transition:null===c?"all .3s ease-out":void 0}},children:(0,d.jsx)(l.JO,{size:40,icon:c&&u<y?"arrow-circle-down":"arrow-circle-up",accessibilityLabel:_})})})}function f({enabled:e,onPull:i,refreshing:t}){const{checkExperiment:o}=(0,a.F)(),{anyEnabled:l}=o("hfp_drive_traffic_to_homefeed_tuner_mweb");return(0,d.jsx)(n.Fragment,{children:l?(0,d.jsx)(g,{enabled:e,onPull:i,refreshing:t}):(0,d.jsx)(v,{enabled:e,onPull:i,refreshing:t})})}},460914:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(883119),a=t(785893);function o({children:e,onMouseEnter:i,onMouseLeave:t,onTouch:o,rounding:l,fullWidth:r=!1,pressState:s="none",accessibilityLabel:d,role:c}){const u=(Array.isArray(s)?s:[s]).includes("compress");return(0,a.jsx)(n.iP,{fullWidth:r,onMouseEnter:i&&(({event:e})=>i(e)),onMouseLeave:t&&(({event:e})=>t(e)),onTap:o&&(({event:e})=>o(e)),rounding:l,tapStyle:u?"compress":"none",accessibilityLabel:d,role:c,children:e})}},397831:(e,i,t)=>{t.d(i,{C:()=>s,f:()=>r});var n=t(667294),a=t(583592),o=t(785893);const{Provider:l,useHook:r}=(0,a.Z)("MostRecentPin");function s({children:e}){const[i,t]=(0,n.useState)(),[a,r]=(0,n.useState)(),s=(0,n.useCallback)((e=>{const i=a?a.slice(0,10):[],t=[e].concat(i.filter((i=>i!==e)));r(t)}),[a]),d=(0,n.useMemo)((()=>({id:i,plpImageSignatures:a,setMostRecentPinId:t,setMostRecentPinImage:s})),[i,a,s]);return(0,o.jsx)(l,{value:d,children:e})}},360675:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(883119),a=t(558533);const o=new n.H3([a.Z])},199999:(e,i,t)=>{t.d(i,{D:()=>a,a:()=>o});var n=t(583592);const{Provider:a,useMaybeHook:o}=(0,n.Z)("unauthPageWrapperContext")},593502:(e,i,t)=>{t.r(i),t.d(i,{default:()=>Gi,pinRepPaddingInBoint:()=>Fi});var n,a=t(667294),o=t(702664),l=t(167912),r=t(616550),s=t(883119),d=t(563962),c=t(117651),u=t(402833),p=t(604094),_=t(765456),m=t(825389),h=t(536042),g=t(630089),y=t(525571),v=t(300657),f=t(958083),x=t(624417),b=t(740494),P=t(465991),S=t(245410),w=t(950695),I=t(895200),T=t(282802),A=t(643183),k=t(446077),E=t(98736),C=t(618569),j=t(938818),R=t(549201),D=t(272109),F=t(873610),L=t(768865),O=t(843843),z=t(328939),N=t(480462),M=t(348597),B=t(230910),Z=t(836),U=t(261453),K=t(411224),G=t(493214),H=t(870243),V=t(988014),W=t(460914),$=t(107877),Y=t(951202),q=t(341027),X=t(785893);const J=({data:{pinProduct:{maxPrice:e,minPrice:i,standardPrice:t,price:n},domain:o}})=>(0,X.jsxs)(a.Fragment,{children:[o&&(0,X.jsx)(s.xv,{color:"default",size:"100",children:o}),(0,X.jsx)(s.xu,{display:"flex",alignItems:"center","data-test-id":"priceLego_price",children:(0,X.jsx)(Y.Z,{textSize:"100",currentPrice:(0,q.Z)({maxPrice:e,minPrice:i,price:n}),originalPrice:t})})]}),Q=void 0!==n?n:n=t(788536);function ee({pinKey:e}){var i,t,n;const{data:a}=(0,m.k5)(Q,e,{type:"pin",useLegacyAdapter:e=>{var i,t;return{linkDomain:e.link_domain&&{__typename:"Domain"},richMetadata:e.rich_metadata&&{recipe:e.rich_metadata.recipe&&{fromAggregatedData:e.rich_metadata.recipe.from_aggregated_data},products:(null!==(i=e.rich_metadata.products)&&void 0!==i?i:[]).map((e=>({name:e.name,offerSummary:e.offer_summary&&{maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}})))},richSummary:e.rich_summary&&{siteName:e.rich_summary.site_name,products:(null!==(t=e.rich_summary.products)&&void 0!==t?t:[]).map((e=>({name:e.name,offerSummary:e.offer_summary&&{maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}})))}}}});if(!a)return null;const o=(0,B.kb)({hasLinkDomain:!!a.linkDomain,richMetadata:a.richMetadata&&{recipe:a.richMetadata.recipe&&{fromAggregatedData:a.richMetadata.recipe.fromAggregatedData},products:(null!==(i=a.richMetadata.products)&&void 0!==i?i:[]).map((e=>({name:e.name,offerSummary:e.offerSummary})))},richSummary:a.richSummary&&{products:(null!==(t=a.richSummary.products)&&void 0!==t?t:[]).map((e=>({name:e.name,offerSummary:e.offerSummary})))}});return o&&o.price?(0,X.jsx)(J,{data:{pinProduct:o,domain:null===(n=a.richSummary)||void 0===n?void 0:n.siteName}}):null}var ie,te=t(510336),ne=t(333741);const ae=void 0!==ie?ie:ie=t(991102),oe=(0,a.lazy)((()=>t.e(21326).then(t.bind(t,121326)))),le=({title:e})=>{const i=(0,R.HG)(),t=(0,C.Z)();return(0,X.jsx)(s.xu,{"data-test-id":"related-pins-title",children:(0,X.jsx)(s.iP,{onTap:()=>{t({action:"click",item:"related-pins-title"})},children:(0,X.jsx)(G.Z,{size:i?"300":"100",weight:"bold",lineClamp:2,children:e})})})},re=({credits:e,data:i,hasAffiliatedProducts:t,hidePinMetadata:n,isPromotedPin:o,isSponsoredPin:l,logCreditsClick:d,marginTop:c,pinDescription:u,pinGraphqlRef:_,pinId:m,pinnedToBoardId:g,pinReactionCounts:y,recipeReview:v,shouldShowReactions:f,showPriceIndicatorInPinCardDetails:x,title:b,type:P})=>{var S,w,I,k,j,D,F,L,O;const z=(0,h.ZP)(),N=(0,r.useLocation)(),M=(0,C.Z)(),{isAuthenticated:B}=(0,T.B)(),Z=(0,R.HG)(),U=(0,r.useHistory)(),K=b||u||"oneTap"===P,{pinner:G}=i,Y=(0,$.gC)()(g||String(null===(S=i.board)||void 0===S?void 0:S.entityId)),q=o&&(null===(w=i.promoter)||void 0===w?void 0:w.entityId)===(null===(I=i.nativeCreator)||void 0===I?void 0:I.entityId),J=V.Q0?2:c||(K&&!n?1:0),Q=!x;return(0,X.jsxs)(s.xu,{flex:"grow",children:[(0,X.jsx)(s.xu,{display:"flex",marginTop:n?0:c||1,children:(0,X.jsxs)(s.xu,{flex:"grow",children:[(l||t)&&!q&&(0,X.jsx)(s.xu,{marginBottom:1,children:(0,X.jsx)(s.xu,{flex:"grow",overflow:"hidden",children:(0,X.jsx)(te.Z,{hasAffiliatedProducts:t,isPromoted:o,sponsorName:i.sponsorship?(0,X.jsx)(s.xv,{inline:!0,size:"100",weight:"bold",children:null==e?void 0:e.subtitle}):void 0,sponsorshipStatus:null===(k=i.sponsorship)||void 0===k?void 0:k.status})})}),b&&(0,X.jsx)(s.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:!n&&(0,X.jsx)(le,{title:b})}),Z&&!B&&u&&!(0,V.$Y)(N)&&!(0,V.E0)(N)&&(0,X.jsx)(s.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",children:(0,X.jsx)(s.iP,{onTap:()=>{M({action:"click",item:"related-pins-description"})},children:(0,X.jsx)(s.xv,{size:"100",inline:!0,children:u})})}),x&&(0,X.jsx)(ee,{pinKey:_?{type:"graphqlRef",data:_}:{type:"deprecated",data:m}}),v]})}),f&&y&&Object.keys(y).length>0&&(0,X.jsx)(s.xu,{height:18,display:void 0,justifyContent:"center",children:(0,X.jsx)(p.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,X.jsx)(A.Z,{children:(0,X.jsx)(oe,{pinReactionCounts:y})})})}),Q&&e?(0,X.jsx)(W.Z,{onTouch:i=>{i.stopPropagation(),i.preventDefault(),e.link&&U.push(e.link),d()},pressState:"none",children:(0,X.jsx)(s.xu,{children:(!n||l||q)&&(0,X.jsxs)(s.xu,{display:"flex",marginTop:J,marginBottom:n?2:0,position:"relative",direction:"row",children:[(0,X.jsx)(s.xu,{flex:"none",display:void 0,justifyContent:"center","data-test-id":"related-pins-avatar-image",children:(0,X.jsx)(s.iP,{onTap:()=>{M({action:"click",item:"related-pins-avatar-image"})},children:(0,X.jsx)(H.qE,{accessibilityLabel:e.title||e.subtitle||z._('Creator\'s avatar', 'pinCardDetails.tapArea.avatar', 'The avatar of the creator of this pin.'),name:e.title||"",outline:!1,size:"sm",src:e.avatar||void 0})})}),(0,X.jsx)(s.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:(0,X.jsx)(s.iP,{onTap:()=>{M({action:"click",item:"related-pins-name"})},children:(0,X.jsxs)(a.Fragment,{children:[e.title&&(0,X.jsx)(s.xv,{lineClamp:1,size:"100",weight:l&&!q||t?"normal":"bold",children:e.title===(null==G?void 0:G.fullName)&&(null!=G&&G.isVerifiedMerchant||null!=G&&null!==(j=G.verifiedIdentity)&&void 0!==j&&j.verified)?(0,X.jsx)(ne.Z,{badgeSize:"sm",badgeSpacing:2,fullName:e.title,verifiedType:G.isVerifiedMerchant?"verifiedMerchant":"verifiedIdentity"}):e.title}),e.subtitle?(!l&&!n||q)&&(0,X.jsx)(s.xv,{lineClamp:l||t?void 0:1,size:Z?"200":"100",weight:Z?"bold":"normal",children:e.subtitle}):!B&&Y&&"protected"!==Y.privacy?(0,X.jsx)(s.xu,{"data-test-id":"related-pin-text-below-name",children:(0,X.jsx)(s.rU,{underline:"hover",href:null!==(D=Y.url)&&void 0!==D?D:"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,E.NC)("click_board_pin_attribution_profile"),M({action:"click",item:"related-pin-text-below-name"})},children:(0,X.jsx)(s.xv,{size:"200",children:Y.name})})}):null]})})})]})})}):Z&&!!G&&((0,V.L6)(N)||(0,V.cD)(N)||(0,V.$Y)(N))&&(0,X.jsxs)(s.xu,{display:"flex",marginTop:K?2:0,children:[(0,X.jsx)(s.xu,{flex:"none","data-test-id":"related-pins-avatar-image",children:(0,X.jsx)(s.iP,{onTap:()=>{M({action:"click",item:"related-pins-avatar-image"})},children:(0,X.jsx)(H.qE,{name:G.username||"",size:"sm",src:null!==(F=G.imageSmallUrl)&&void 0!==F?F:void 0})})}),(0,X.jsxs)(s.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:[(0,X.jsx)(s.rU,{underline:"hover",href:`/${G.username||""}/`,onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,E.NC)("click_board_pin_attribution_board"),M({action:"click",item:"related-pins-name"})},children:(0,X.jsx)(s.xv,{size:"200",weight:"bold",children:G.fullName||G.username})}),Y&&"protected"!==Y.privacy?(0,X.jsx)(s.xu,{"data-test-id":"related-pin-text-below-name",children:(0,X.jsx)(s.rU,{underline:"hover",href:null!==(L=Y.url)&&void 0!==L?L:"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,E.NC)("click_board_pin_attribution_profile"),M({action:"click",item:"related-pin-text-below-name"})},children:(0,X.jsx)(s.xv,{size:"200",children:null!==(O=Y.name)&&void 0!==O?O:""})})}):null]})]})]})},se=e=>{const{pinId:i,pinGraphqlRef:t}=e,{data:n,childDataKey:a}=(0,m.k5)(ae,t?{type:"graphqlRef",data:t}:{type:"deprecated",data:i},{type:"pin",useLegacyAdapter:e=>({entityId:e.id,board:e.board&&{entityId:e.board.id},nativeCreator:e.native_creator&&{entityId:e.native_creator.id},pinner:e.pinner&&{fullName:e.pinner.full_name,imageSmallUrl:e.pinner.image_small_url,isVerifiedMerchant:e.pinner.is_verified_merchant,username:e.pinner.username,verifiedIdentity:e.pinner.verified_identity&&{verified:e.pinner.verified_identity.verified}},promoter:e.promoter&&{entityId:e.promoter.id},sponsorship:e.sponsorship&&{status:e.sponsorship.status}})});return n&&(0,X.jsx)(re,{...e,data:n,pinGraphqlRef:"graphqlRef"===a.type?a.data:null})};var de,ce=t(792953),ue=t(671915);const pe=void 0!==de?de:de=t(441959),_e=(e,i)=>{const{checkExperiment:t}=(0,S.F)();return t("graphql_migration_sharelink_sgrowth_web").anyEnabled?((e,i)=>{const t=(0,l.useRelayEnvironment)();return(0,X.jsx)(ue.t,{invite_code:e,relayEnvironment:t,inviteQuery:pe,children:e=>{const t=null!=e&&e.data?e.data.sender:null,n=t&&t.first_name?t.first_name.substring(0,30):"";if(!n)return null;const a=t&&!t.is_default_image?t.image_medium_url:"",o=(0,g.nk)(i._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:n});return(0,X.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,X.jsx)(s.zd,{height:32,width:32,children:(0,X.jsx)(H.qE,{name:n,src:a})}),(0,X.jsx)(s.xu,{width:"80%",paddingY:2,children:(0,X.jsx)(s.xv,{align:"center",size:"200",weight:"bold",children:o})})]})}})})(e,i):((e,i)=>(0,X.jsx)(ue.Z,{invite_code:e,children:e=>{const t=e?e.sender:null,n=t&&t.first_name?t.first_name.substring(0,30):"";if(!n)return null;const a=t&&!t.is_default_image?t.image_medium_url:"",o=(0,g.nk)(i._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:n});return(0,X.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,X.jsx)(s.zd,{height:32,width:32,children:(0,X.jsx)(H.qE,{name:n,src:a})}),(0,X.jsx)(s.xu,{width:"80%",paddingY:2,children:(0,X.jsx)(s.xv,{align:"center",size:"200",weight:"bold",children:o})})]})}}))(e,i)},me=({inviteCode:e})=>{const i=(0,h.ZP)();return(0,X.jsx)(s.xu,{minHeight:82,children:(0,X.jsx)(p.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,X.jsx)(A.Z,{fallback:(0,X.jsx)(ce.Z,{accessibilityLabel:i._('Loading Invitation component', 'Loading InviteFetch component', 'loading InviteFetch component')}),children:_e(e,i)})})})};var he=t(388011),ge=t(570476),ye=t(448709),ve=t(898252),fe=t(176172),xe=t(348672),be=t(550140),Pe=t(63262),Se=t(739425),we=t(726425),Ie=t(994405),Te=t(169492),Ae=t(624524),ke=t(471819),Ee=t(527386),Ce=t(724097),je=t(922204),Re=t(260070),De=t(712968),Fe=t(648575),Le=t(252315);const Oe=new s.Ry(1);function ze({buttonText:e,clientTrackingParams:i,color:t="primary",deeplinkUri:n,experience:l,inline:c=!0,minWidth:u,onTouch:p,onUnsave:_,pinId:m,pinnedToBoardId:g,shape:y,shouldShowSavedButton:v,viewType:f,viewParameter:x,showSaveHandoffExperience:b}){var P;const w=(0,h.ZP)(),I=(0,o.useDispatch)(),T=(0,r.useHistory)(),A=(0,r.useLocation)(),k=(0,Le.M)(),E=A.pathname.startsWith("/pin"),j=(0,o.useSelector)((({session:e})=>e.hasSavedUnauthPin)),R=(0,o.useSelector)((({session:e})=>e.unauthSavePinId)),D=null===(P=(0,De.Tt)())||void 0===P?void 0:P.pin_count,F=(0,d.Z)(),L=(0,C.Z)(),{checkExperiment:z}=(0,S.F)(),N=(0,we.N)(),M=e=>T.push(e),{showToast:B,showRepinConfirmation:Z}=(0,je.Z)(),U=()=>{var e;I((0,Fe.Z)({checkExperiment:z,isNativeAppInstalledContext:N,history:T,i18n:w,logContextEvent:F,onSuccess:()=>{l&&I((0,Ee.CK)(l.placement_id,l.experience_id))},originalPinId:m,pinId:m,trackingParams:{clientTrackingParams:i,pinnedToBoardId:g},showRepinConfirmation:b&&!E?()=>{}:Z,disableRepinAnimation:R===m,pinCount:D,historyPush:M,savePinId:null!==(e=null==k?void 0:k.save)&&void 0!==e?e:()=>{}})).catch((e=>B((({hideToast:i})=>(0,X.jsx)(be.ZP,{type:"error",text:e.message||w._('Sorry! Something went wrong on our end.', 'quickSave.toast.error.message', 'error during repin'),onHide:i})))))},K=(0,a.useRef)(null),G=b&&!j,H=(0,ke.Z)()({fn:e=>{e.stopPropagation(),e.preventDefault(),p&&p(e),v?v&&_&&_():U()},modalHeader:(0,Ae.Bx)(w)});(0,a.useEffect)((()=>{G&&!K.current&&(L({action:"trigger",item:"unauth-save-button-quicksave"}),F({event_type:14581}),U(),I((0,Re.e2)())),K.current=G}));const V=()=>w._('Pin', 'quickSave.quickSaveButton.icon.accessibilityLabel', 'Pin accessibility label'),W=()=>e||w._('Save', 'quickSave.quickSaveButton.buttonText', 'Auth mobile web save button for pin closeup');return j&&!E?null:(0,X.jsx)(s.xu,{"data-test-id":"save-button-mobile",zIndex:Oe,children:n?(0,X.jsx)(O.di,{accessibilityLabel:V(),color:t,customStyles:{padding:"14px 16px"},deeplinkUri:n,inline:c,minHeight:48,minWidth:u,onTouch:H,pressState:["compress","background"],shape:y,size:"lg",text:W(),to:T.location.pathname,upsellType:"save",viewType:f,viewParameter:x}):(0,X.jsx)(Ce.Z,{accessibilityLabel:V(),color:t,customStyles:{padding:"14px 16px"},inline:c,minHeight:48,minWidth:u,onTouch:H,pressState:"compress",shape:y,size:"300",text:W()})})}var Ne=t(86829),Me=t(540459),Be=t(77875);function Ze(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class Ue extends a.PureComponent{constructor(...e){var i;super(...e),i=this,Ze(this,"state",{saveState:void 0}),Ze(this,"legoFixedZIndex",new s.Ry(2)),Ze(this,"onAddPin",(async function(){const{clientTrackingParams:e,checkExperiment:t,dispatch:n,i18n:a,isNativeAppInstalledContext:o,oneTapSave:l,pinId:r,pinnedToBoardId:s,showToast:d,viewType:c,historyPush:u,repinContext:p}=i.props;try{var _;const a=await n((0,Be.w)({checkExperiment:t,isNativeAppInstalledContext:o,i18n:i.props.i18n,logContextEvent:i.props.logContextEvent,originalPinId:r,pinId:r,boardId:null==l?void 0:l.boardId,isOneTapSave:!0,onUndo:()=>{i.onDeletePin()},section:null==l?void 0:l.section,showToast:d,trackingParams:{clientTrackingParams:e,pinnedToBoardId:s},viewType:c,historyPush:u,savePinId:null!==(_=null==p?void 0:p.save)&&void 0!==_?_:()=>{}}));i.setState({saveState:"saved"}),n((0,Ne.a)({boardId:null==l?void 0:l.boardId,localPinId:a.id,pinId:r}))}catch(m){d((({hideToast:e})=>(0,X.jsx)(be.ZP,{type:"error",text:m.message||a._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin'),onHide:e}))),i.setState({saveState:void 0})}})),Ze(this,"onDeletePin",(async function(){const{dispatch:e,clientTrackingParams:t,i18n:n,pinId:a,savedInfo:o,showToast:l,repinContext:r}=i.props;if(o){e((0,Ne.k)({boardId:o.boardId,localPinId:o.localPinId,pinId:a})),null==r||r.unsave(a);try{await e((0,Me.q)({pinId:o.localPinId,boardId:o.boardId,clientTrackingParams:t})),l((({hideToast:e})=>(0,X.jsx)(be.ZP,{text:n._('Pin deleted!', 'User deleted their pin', 'User deleted their pin'),onHide:e}))),i.setState({saveState:void 0})}catch(s){l((({hideToast:e})=>(0,X.jsx)(be.ZP,{type:"error",text:n._('Sorry! There was an error deleting your Pin.', 'Error when user tried to delete pin', 'Error when user tried to delete pin'),onHide:e}))),i.setState({saveState:"saved"})}}})),Ze(this,"handlePinAction",this.props.requireAuthForLimitedLogin({fn:({event:e})=>{e.stopPropagation(),e.preventDefault();const{saveState:i}=this.state,{history:t,pinId:n,isOneTapExploreLocalTab:a,pinnedToBoard:o,directSaveExpGroup:l,oneTapSave:r}=this.props,s=l.includes("overlay");["saving","deleting"].includes(i)||a&&o||(i||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),a||!r&&s?t.push({pathname:`/pin/${n}/repin`,state:{isOneTapSave:!0}}):this.onAddPin()))},modalHeader:(0,Ae.Bx)(this.props.i18n)})),Ze(this,"shouldDisplayAsSaved",(({isOneTapExploreLocalTab:e,pinnedToBoard:i,savedInfo:t})=>e?!!i:!!t))}render(){const{checkExperiment:e,children:i,clientTrackingParams:t,directSaveExpGroup:n,homepageExperience:o,i18n:l,isBoardIdeas:r,isOneTapExploreLocalTab:d,isRTL:c,oneTapSave:u,pinId:p,pinnedToBoard:_,pinnedToBoardId:m,savedInfo:h,shouldShowSaveHandoffExp:g,useSmallSaveIcon:y}=this.props,v=n.includes("overlay");if(!(u||d||g||v))return i;const f=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:!!d,pinnedToBoard:_,savedInfo:h}),x="#000",b="rgba(255, 255, 255, 0.8)",P="light",S="dark",{group:w}=r?e("mweb_align_save_icon"):{},I=w&&w.includes("label"),T=w&&w.includes("all_surfaces"),A=()=>{if(w&&T){if(w.includes("pin"))return"angled-pin";if(w.includes("bookmark"))return"save-outline"}return"add"},k=f?(0,X.jsx)(s.xv,{weight:"bold",color:"light",children:l._('Saved', 'button for saving quickly with one click', 'button for saving quickly with one click, indicating pin is saved')}):(0,X.jsx)(s.xv,{weight:"bold",color:"dark",children:l._('Save', 'button for saving quickly with one click', 'button for saving quickly with one click, indicating pin is unsaved')});let E=null;const C=n.includes("uselabel");return g?E=(0,X.jsx)(ze,{buttonText:_?l._('Saved', 'OneTapSave.QuickSaveButton.Saved', 'Message on saved pin'):"",clientTrackingParams:t,color:_?"default":"primary",deeplinkUri:"deeplinkUri",experience:o,inline:!0,pinnedToBoardId:m,minWidth:54,pinId:p,shape:"pill",shouldShowSavedButton:!!_,showSaveHandoffExperience:g}):u?E=(0,X.jsx)(s.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,X.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:f?x:b}},paddingX:I?3:2,paddingY:2,rounding:I?"pill":"circle",children:(0,X.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:[I&&k,!I&&(0,X.jsx)(s.JO,{accessibilityLabel:f?l._('saved', 'checkmark icon to show pin has been saved', 'checkmark icon to show pin has been saved'):l._('save', 'button for saving quickly with one click', 'button for saving quickly with one click'),icon:f?"check":A(),color:f?P:S,size:y||T?16:24})]})})}):v&&(E=(0,X.jsx)(s.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,X.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:f?x:b}},paddingX:C?3:2,paddingY:2,rounding:C?"pill":"circle",children:(0,X.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:C?k:(0,X.jsx)(s.JO,{accessibilityLabel:f?l._('saved', 'checkmark icon to show pin has been saved', 'checkmark icon to show pin has been saved'):l._('save', 'button for saving quickly with one click', 'button for saving quickly with one click'),icon:f?"saved":"save-outline",color:f?P:S,size:16})})})})),(0,X.jsxs)(a.Fragment,{children:[i,(0,X.jsx)(s.xu,{bottom:!0,left:c,padding:2,position:"absolute",right:!c,zIndex:this.legoFixedZIndex,children:E})]})}}function Ke(e){const{showToast:i}=(0,Pe.F9)(),t=(0,r.useLocation)(),n=(0,h.ZP)(),l=(0,d.Z)(),s=(0,ke.Z)(),c=(0,o.useDispatch)(),u=(0,r.useHistory)(),{isRTL:p,isAuthenticated:_}=(0,T.B)(),m=(0,Le.M)(),g=(0,o.useSelector)((({session:e})=>e.unauthSavePinId)),y=_&&!!g&&g===e.pinId,{pins:v,clear:f}=(0,Te.Z)(),x=(0,a.useRef)(!1),b=(0,Se.mB)(t.search).ideas_referrer,P=(0,R.HG)(),{checkExperiment:w}=(0,S.F)(),I=(0,Ie.J1)(),A=(0,we.N)(),k=!P&&b===String(25),C=e=>u.push(e),j=(0,o.useSelector)((i=>i.pins[e.pinId]&&i.pins[e.pinId].savedInfo)),F=(0,o.useSelector)((i=>i.pins[e.pinId]&&i.pins[e.pinId].pinned_to_board)),L=(0,o.useSelector)((e=>e.experiences[40001]));return(0,D.Z)((()=>{_&&!x.current&&v.length>0&&(x.current=!0,l({event_type:14577,aux_data:{num_unauth_saved_pins:v.length}}),[...v,...g&&w(I).anyEnabled?[{id:g}]:[]].forEach((({id:i})=>{var t;c((0,Fe.Z)({checkExperiment:w,isNativeAppInstalledContext:A,history:u,i18n:n,logContextEvent:l,onSuccess:()=>{},originalPinId:i,pinId:i,trackingParams:{clientTrackingParams:e.clientTrackingParams,pinnedToBoardId:e.pinnedToBoardId},showRepinConfirmation:()=>{},disableRepinAnimation:!0,historyPush:C,savePinId:null!==(t=null==m?void 0:m.save)&&void 0!==t?t:()=>{}})).catch((e=>{(0,E.My)(`error.unauth_profile_pin_merge.${e}`)}))})),f())})),(0,X.jsx)(Ue,{...e,checkExperiment:w,isNativeAppInstalledContext:A,i18n:n,requireAuthForLimitedLogin:s,history:u,logContextEvent:l,showToast:i,shouldShowSaveHandoffExp:y,isRTL:p,historyPush:C,useSmallSaveIcon:k,repinContext:m,savedInfo:j,pinnedToBoard:F,homepageExperience:L,dispatch:c})}Ke.displayName="OneTapSave";const Ge=Ke;var He=t(371362);function Ve({boardUrl:e,boardName:i,directSaveExpGroup:t,isQuicksave:n,sectionName:a,sectionSlug:o}){const l=(0,h.ZP)(),d=(0,r.useHistory)(),c=new s.Ry(1),u=!!o&&`${e}${o}/`;let p=null;return p=t.includes("footer")?(0,X.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:c,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,X.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:t.includes("overlay")?0:4,children:(0,X.jsx)(s.iP,{onTap:i=>{i.event.preventDefault(),d.push(n?"/me/":u||e)},children:(0,X.jsx)(s.xu,{position:"absolute",bottom:!0,left:!0,right:!0,marginStart:4,marginBottom:4,marginEnd:4,children:(0,X.jsxs)(s.xu,{position:"relative",children:[(0,X.jsx)(s.xu,{children:(0,X.jsx)(s.xv,{color:"light",children:l._('Saved!', 'PinCard.SavedToProfile.Overlay', 'String saying "Saved" after saving a Pin')})}),(0,X.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",flex:"grow",children:[(0,X.jsx)(s.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:(0,X.jsx)(s.xv,{color:"light",children:a?(0,g.nk)(l._('{{sectionName}}', 'PinCard.SavedToSection.Overlay', 'Saved to section overlay, sectionName:the section name that the pin is saved to'),{sectionName:(0,X.jsx)(s.xv,{color:"light",weight:"bold",inline:!0,children:(0,He.ZP)(a,22)},`pincard-${a}`)}):(0,g.nk)(l._('{{boardName}}', 'PinCard.SavedToBoard.Overlay', 'Saved to board overlay, boardName:the board name that the pin is saved to'),{boardName:(0,X.jsx)(s.xv,{color:"light",weight:"bold",inline:!0,children:n?l._('Profile', 'PinCard.SavedToProfile.Overlay', 'Part of string saying "Saved to Profile" after saving a Pin'):(0,He.ZP)(i,22)},`pincard-${i}`)})})}),(0,X.jsx)(s.xu,{position:"absolute",right:!0,bottom:!0,marginBottom:1,children:(0,X.jsx)(s.JO,{accessibilityLabel:l._('Saved!', 'PinCard.SavedToProfile.Overlay', 'String saying "Saved" after saving a Pin'),icon:"arrow-forward",size:"16",color:"light"})})]})]})})})})}):t.includes("overlay")?(0,X.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:c,children:(0,X.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:t.includes("overlay")?0:4,children:(0,X.jsx)(s.iP,{fullWidth:!0,fullHeight:!0,onTap:i=>{i.event.preventDefault(),d.push(n?"/me/":u||e)}})})}):(0,X.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:c,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,X.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:t.includes("overlay")?0:4,children:(0,X.jsx)(s.iP,{onTap:i=>{i.event.preventDefault(),d.push(n?"/me/":u||e)},children:(0,X.jsx)(s.xv,{color:"light",children:a?(0,g.nk)(l._('Saved to {{sectionName}}', 'PinCard.SavedToSection.Overlay', 'Saved to section overlay'),{sectionName:(0,X.jsx)(s.xv,{color:"light",weight:"bold",inline:!0,children:(0,He.ZP)(a,22)},`pincard-${a}`)}):(0,g.nk)(l._('Saved to {{boardName}}', 'PinCard.SavedToBoard.Overlay', 'Saved to board overlay'),{boardName:(0,X.jsx)(s.xv,{color:"light",weight:"bold",inline:!0,children:n?l._('Profile', 'PinCard.SavedToProfile.Overlay', 'Part of string saying "Saved to Profile" after saving a Pin'):(0,He.ZP)(i,22)},`pincard-${i}`)})})})})}),p}var We=t(391670),$e=t(51536);const Ye=({clickLoggingOptions:e,domain:i,link:t,onClick:n})=>{var a;const o=null===(a=(0,We.lO)())||void 0===a?void 0:a.logging,l=(0,h.ZP)(),r=(0,d.Z)(),c=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:{}}].map((i=>({component:0,element:162,view_type:null==o?void 0:o.viewType,view_parameter:null==o?void 0:o.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...i})));return(0,X.jsx)(s.iP,{onTap:({event:e})=>{e.stopPropagation(),c().forEach((e=>r(e))),n(e)},children:(0,X.jsxs)(s.xu,{marginBottom:4,marginStart:4,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:!0,bottom:!0,children:[(0,X.jsx)(s.xu,{marginEnd:1,children:(0,X.jsx)(s.JO,{size:9,icon:"arrow-up-right",color:"light",accessibilityLabel:l._('Link', 'unauth.pin.domain.link', 'Link to take them to the source of the iamge')})}),(0,X.jsx)("a",{href:t,onClick:e=>{e.stopPropagation(),c().forEach((e=>r(e))),n(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:(0,X.jsx)(s.xv,{size:"200",inline:!0,weight:"bold",lineClamp:1,color:"inverse",children:(0,$e.Z)(i,27)})})]})})},qe=({domainLinkData:e})=>{const i=(0,h.ZP)(),t=(0,u.g)();return(0,X.jsxs)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(51, 51, 51, 0.8)"}},children:[(0,X.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,children:(0,X.jsx)(s.X6,{size:"400",align:"center",color:"light",children:i._('Open', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.')})}),!!e&&(0,X.jsx)(s.xu,{position:"absolute",bottom:!0,left:!0,width:"100%",minWidth:"100%",children:(0,X.jsx)(Ye,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,onClick:e.onClick||(null==t?void 0:t.pinLinkClickHandler)||(()=>{})})})]})};var Xe,Je=t(698303),Qe=t(525104),ei=t(935340),ii=t(738162);const ti=void 0!==Xe?Xe:Xe=t(182964),ni=({width:e,height:i,minY:t,maxY:n})=>{const a=i=>e<=0||!i?"0%":Math.round(i/e*100)+"%";return{top:t<=0?"0%":a(-1*t*i),bottom:n>=1?"0%":a(-1*(1-n)*i)}},ai=({children:e,margin:i,disableRounding:t})=>(0,X.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:i?{marginTop:i.top,marginBottom:i.bottom}:{}},position:"relative","data-test-id":"pin-visual-wrapper",children:(0,X.jsx)(s.zd,{wash:!0,rounding:t?0:fe.mv,children:e})}),oi=({clientTrackingParams:e,color:i,data:t,description:n,directSaveExpGroup:o,domainLinkData:l,image:d,imageAltText:u,imageCrop:p,isBoardIdeas:_,isOneTapExploreLocalTab:m,isSquarePin:g,lazyLoadImage:y,onError:v,oneTapSave:f,onLoad:x,pinId:b,priorityFetchImage:P,disableDefaultContextMenu:w,pinnedToBoardId:I,productPrice:A,disableRounding:k,storyDataExists:j,title:D,type:F,videoDuration:L,viewType:O,slotIndex:z,isPromotedPin:N})=>{var M,B,Z,U,K,G,H,W,$,Y,q,J;const Q=(0,h.ZP)(),ee=(0,xe.Z)(),{checkExperiment:ie}=(0,S.F)(),[te,ne]=(0,a.useState)(!1),{isAuthenticated:ae}=(0,T.B)(),oe=(0,R.ZP)(),le="desktop"===oe,re=(0,Le.M)(),se=I&&!(null==re||!re.isSaved(b)),de=l&&l.link?"with-link":"without-link",ce=!ae&&!le,ue=(0,a.useRef)(Date.now()),pe=(0,a.useRef)(null),_e=(0,C.Z)(),{shouldOpenInStream:me}=t,ye=(0,ii.I)(),{logContextEvent:fe}=(0,he.v)(),be=ie("ads_mweb_idea_ad").anyEnabled;(0,a.useEffect)((()=>{te&&!ae&&_e({action:"view",item:"unauth-video-autoplay-on-hover"})}),[te,_e,ae]),(0,a.useEffect)((()=>{var e,i;const t="board-image-preload-"+(z-1),n=null!==(e=null===(i=document.getElementById(t))||void 0===i?void 0:i.getAttribute("href"))&&void 0!==e?e:"";ye&&5===O&&n&&(0,ei.nP)("www.blp.preloadImageCheck",{sampleRate:5,tags:{isAuthenticated:ae,deviceType:oe,isEqual:n===d.url}})}),[]);const Pe=(0,X.jsx)(ge.Z,{alt:u||D||n||"",color:i,naturalHeight:null!==(M=d.height)&&void 0!==M?M:1,naturalWidth:null!==(B=d.width)&&void 0!==B?B:1,onError:v,onLoad:x,src:null!==(Z=d.url)&&void 0!==Z?Z:"",fit:g?"cover":void 0,loading:y?"lazy":"auto",fetchPriority:P?"high":"auto"}),Se=(0,r.useLocation)(),we=()=>(0,V.C$)(Se)?"homefeed":(0,V.L6)(Se)?"related_pins":(0,V.En)(Se)?"search":"unknown",Ie=o.includes("enabled"),Te=Ie?!I&&!(null==re||!re.isSaved(b)):"quick_saves"===(null===(U=t.board)||void 0===U?void 0:U.layout),Ae=Ie?ae&&(se||Te):ae&&se;return(0,X.jsx)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:(0,X.jsxs)(s.xu,{onContextMenu:e=>{if("desktop"!==oe){const i=we();(0,E.My)((ae?"auth":"unauth")+".mweb_pin_feed.pin_image.long_press",{page:i}),ae||(e.preventDefault(),e.stopPropagation())}},onTouchStart:e=>{if("desktop"!==oe&&((0,E.My)("unauth.mweb.related_pin.image.touch.start"),ae||null==w||w(),ue.current=Date.now(),e.changedTouches&&e.changedTouches.length>0)){const i=e.changedTouches.item(0);i&&(pe.current={x:i.pageX,y:i.pageY})}},onTouchEnd:e=>{if("desktop"!==oe){const i=we();(0,E.My)("unauth.mweb.related_pin.image.touch.end");const t=Date.now()-ue.current>500,n=pe.current;if(e.changedTouches&&e.changedTouches.length>0&&n){const a=e.changedTouches.item(0);if(a&&Math.pow(a.pageX-n.x,2)+Math.pow(a.pageY-n.y,2)>100)return;!t||ae||"related_pins"!==i&&!ie("pcons_enable_context_menu_all_feeds").anyEnabled?t&&ae&&fe({event_type:103,view_parameter:(0,V.C$)(Se)?92:(0,V.L6)(Se)?140:(0,V.En)(Se)?43:void 0}):(null==w||w(),ee({pinId:b,location:"related-pins-long-press"}),e.stopPropagation())}}},"data-test-id":`pincard-${F}-${de}`,dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},overflow:"hidden",onMouseOver:ce||ie("prevent_open_on_hover").anyEnabled?void 0:()=>ne(!0),onMouseLeave:ce?void 0:()=>ne(!1),position:"relative",rounding:k?0:4,children:[(0,X.jsxs)(Ge,{clientTrackingParams:e||"",oneTapSave:f,isBoardIdeas:_,isOneTapExploreLocalTab:m,pinId:b,directSaveExpGroup:o,pinnedToBoardId:I,viewType:O,children:[(()=>{if("gif"===F&&!se)return(0,X.jsx)(Je.Z,{text:Q._('GIF', 'pin.pinCard.gifIconIdentifier', 'pin type identifier for gifs')});if("video"===F&&L&&!se)return(0,X.jsx)(Je.Z,{text:L});if("storyPin"===F&&j&&!se&&!1!==me){var e,i,n;const a=(null===(e=t.storyPinData)||void 0===e?void 0:e.pageCount)||0,o=(null===(i=t.storyPinData)||void 0===i?void 0:i.staticPageCount)||0,l=(null===(n=t.storyPinData)||void 0===n?void 0:n.totalVideoDuration)||0;if(l>0){const e=l+o*ve.oN;return(0,X.jsx)(Je.Z,{text:(0,c.Z)(e)})}if("number"==typeof a&&a>0)return(0,X.jsx)(Je.Z,{icon:"idea-pin",text:a.toString()})}if(be&&j&&!se&&!1!==me&&N){var a,o;const e=(null===(a=t.storyPinData)||void 0===a?void 0:a.staticPageCount)||0,i=(null===(o=t.storyPinData)||void 0===o?void 0:o.totalVideoDuration)||0;if(i>0){const t=i+e*ve.oN;return(0,X.jsx)(Je.Z,{text:(0,c.Z)(t)})}}return"product"===F&&A?(0,X.jsx)(Je.Z,{text:A}):null})(),(0,X.jsx)(ai,{disableRounding:k,margin:p?ni({width:null!==(K=d.width)&&void 0!==K?K:1,height:null!==(G=d.height)&&void 0!==G?G:1,minY:p.minY,maxY:p.maxY}):void 0,children:g?(0,X.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,X.jsx)(s.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:Pe})}):Pe})]}),te&&!ae&&(0,X.jsx)(qe,{domainLinkData:l}),Ae&&(0,X.jsx)(Ve,{boardName:null!==(H=null===(W=t.board)||void 0===W?void 0:W.name)&&void 0!==H?H:"",boardUrl:null!==($=null===(Y=t.board)||void 0===Y?void 0:Y.url)&&void 0!==$?$:"",directSaveExpGroup:o,sectionName:null==f||null===(q=f.section)||void 0===q?void 0:q.title,sectionSlug:null==f||null===(J=f.section)||void 0===J?void 0:J.slug,isQuicksave:Te})]})})},li=(0,ye.Z)({useGraphQLAdapter:e=>{const i=(0,l.useFragment)(ti,e);return{pin:i,pinGraphqlRef:i}},useLegacyAdapter:({pinId:e,pinnedToBoardId:i})=>{var t;const n=(0,Qe.S6)()(e),a=(0,$.gC)();if(!n)return null;const o=a(i||String(null===(t=n.board)||void 0===t?void 0:t.id));return{pin:{board:o&&{layout:o.layout,name:o.name,url:o.url},shouldOpenInStream:n.should_open_in_stream,storyPinData:n.story_pin_data&&{pageCount:n.story_pin_data.page_count,staticPageCount:n.story_pin_data.static_page_count,totalVideoDuration:n.story_pin_data.total_video_duration}},pinGraphqlRef:null}}}),ri=e=>(0,X.jsx)(li,{input:e.pinGraphqlRef?{enabled:!0,data:e.pinGraphqlRef}:{enabled:!1,data:{pinId:e.pinId,pinnedToBoardId:e.pinnedToBoardId}},children:({data:i})=>i&&(0,X.jsx)(oi,{...e,data:i.pin,pinGraphqlRef:i.pinGraphqlRef})});var si=t(649796);const di={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:.8,transition:"opacity 1s ease"}},ci=(e,i,t)=>(0,X.jsx)(s.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,X.jsx)(s.rU,{display:"inlineBlock",href:i,tapStyle:"none",underline:"hover",children:t})},e);function ui({color:e,getFeedbackText:i,onUnfollow:t,showing:n,unfollowed:o}){const l=(0,h.ZP)(),[r,d]=(0,a.useState)(n?"fadeIn":"initial"),c=(0,a.useRef)(null);(0,a.useEffect)((()=>("initial"===r&&n&&(c.current=window.requestAnimationFrame((()=>d("fadeIn")))),()=>{c.current&&window.cancelAnimationFrame(c.current)})),[r,d,n]);const{subTitle:u,title:p,unfollow:_}=i(ci);let m=p,g=u;_&&o&&(m=_.title,g=_.subTitle);const y=()=>_?(0,si.t)(_.action,_.actionOptions,t):void 0;return n&&(0,X.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e,...di[r]}},margin:1,rounding:4,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,X.jsxs)(s.xu,{width:"100%",height:"100%",color:"dark",rounding:4,overflow:"auto",children:[(0,X.jsxs)(s.xu,{padding:3,rounding:2,display:"flex",direction:"column",height:"100%",justifyContent:"between",children:[(0,X.jsxs)(s.xu,{children:[(0,X.jsx)(s.X6,{size:"400",color:"light",children:m}),!!g&&(0,X.jsxs)(s.xu,{marginTop:1,children:[(0,X.jsx)(s.xv,{color:"light",size:"200",inline:!0,children:g}),(0,X.jsx)(s.xv,{color:"light",inline:!0,size:"200",weight:"bold",children:(0,X.jsx)(s.rU,{href:"/edit",display:"inlineBlock",rounding:2,tapStyle:"none",underline:"hover",children:l._('Tune your home feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})})]})]}),!o&&_&&(0,X.jsx)(s.xu,{paddingY:1,children:(0,X.jsx)(s.zx,{fullWidth:!0,color:"white",text:l._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:y})})]}),!o&&_&&(0,X.jsx)(s.xu,{paddingY:1,children:(0,X.jsx)(s.zx,{fullWidth:!0,color:"white",text:l._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:y})})]})})}var pi=t(187768);function _i(e){const i=(0,h.ZP)(),{pinId:t,clientTrackingParams:n,directSaveExpGroup:a}=e,l=(0,Le.M)(),d=(0,r.useHistory)(),{showToast:c}=(0,Pe.F9)(),u=(0,o.useSelector)((e=>e.pins[t]&&e.pins[t].savedInfo)),p=!(null==l||!l.isSaved(t))||u,_=(0,o.useDispatch)(),m=a.includes("uselabel"),g=async e=>{if(e.stopPropagation(),e.preventDefault(),p){if(!u)return;_((0,Ne.k)({boardId:u.boardId,localPinId:u.localPinId,pinId:t})),null==l||l.unsave(t);try{await _((0,Me.q)({pinId:u.localPinId||"",boardId:u.boardId,clientTrackingParams:n})),c((({hideToast:e})=>(0,X.jsx)(be.ZP,{text:i._('Pin deleted!', 'User deleted their pin', 'User deleted their pin'),onHide:e})))}catch(a){c((({hideToast:e})=>(0,X.jsx)(be.ZP,{type:"error",text:i._('Sorry! There was an error deleting your Pin.', 'Error when user tried to delete pin', 'Error when user tried to delete pin'),onHide:e})))}}else d.push({pathname:`/pin/${t}/repin`,state:{isOneTapSave:!0}})},y=p?(0,X.jsx)(s.xv,{weight:"bold",size:"100",children:i._('Saved', 'button for saving quickly with one click', 'button for saving quickly with one click, indicating pin is saved')}):(0,X.jsx)(s.xv,{weight:"bold",size:"100",children:i._('Save', 'button for saving quickly with one click', 'button for saving quickly with one click, indicating pin is unsaved')});return m?(0,X.jsx)(s.iP,{onTap:({event:e})=>{g(e)},rounding:"circle",children:(0,X.jsx)(s.xu,{color:"transparent",paddingX:2,paddingY:1,rounding:"pill",children:(0,X.jsx)(s.xu,{children:y})})}):(0,X.jsx)(s.hU,{icon:p?"saved":"save-outline",size:"sm",iconColor:"darkGray",padding:1,accessibilityLabel:p?i._('Undo save', 'PinFooterSaveButton.Unsave', 'String saying "Undo save" after saving a Pin to undo save'):i._('Save', 'PinFooterSaveButton.Save', 'String saying "Save" to ask user to save a pin'),onClick:({event:e})=>{g(e)}})}var mi=t(31407);function hi({maxRating:e,rating:i,text:t}){return(0,X.jsxs)(s.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,X.jsx)(mi.Z,{max_rating:e||"",rating:i||"",width:10}),t&&(0,X.jsx)(a.Fragment,{children:(0,X.jsx)(s.xu,{marginStart:1,overflow:"hidden",children:(0,X.jsx)(s.xv,{size:"100",lineClamp:1,children:t})})})]})}var gi,yi=t(190253),vi=t(141418);const fi=void 0!==gi?gi:gi=t(937711);function xi({dedupeVisualAnnotations:e,description:i,gridTitle:t,pinId:n,richMetadataTitle:a,richSummaryDisplayName:o,storyPinDataId:r,storyPinDataMetadataPinTitle:d,title:c,queryRef:u}){const p=(0,l.useFragment)(fi,u);return(0,X.jsxs)(s.xu,{paddingX:2,marginBottom:-1,display:"flex",children:[(0,X.jsx)(s.xu,{flex:"grow",maxHeight:32,minHeight:12,overflow:"hidden",width:142,children:(0,X.jsx)(s.xv,{lineClamp:2,size:"100",weight:"bold",children:(0,P.fs)({pinTitle:c,gridTitle:t,richSummaryDisplayName:o,richMetadataTitle:a,storyPinDataId:r,storyPinDataMetadataPinTitle:d})||i})}),(0,X.jsx)(s.xu,{children:(0,X.jsx)(vi.Z,{pinId:n,size:"sm",graphqlRef:p,dedupeVisualAnnotations:e})})]})}var bi,Pi=t(117918),Si=t(204722);const wi=void 0!==bi?bi:bi=t(143453),Ii=({attribute:e,deviceType:i,location:t})=>{const n=(0,C.S)(t);(0,E.My)("unauth.product_attribution.click",{item:e,page:n,device:i})},Ti=({isSquarePin:e,price:i,shouldDisplayMerchant:t})=>i&&e?t?90:68:void 0,Ai=({maxPrice:e,minPrice:i,price:t})=>e&&i?`${i}-${e}`:t;function ki({dedupeVisualAnnotations:e,description:i,domain:t,graphqlRef:n,gridTitle:o,isSquarePin:l,pinId:d,priceSummary:c,richMetadataTitle:u,richSummaryDisplayName:p,storyPinDataId:_,storyPinDataMetadataPinTitle:m,title:h}){const g=(0,R.ZP)(),y=(0,r.useLocation)(),v=c&&(c.price||c.standardPrice||Ai(c)),f=(0,a.useMemo)((()=>l?2:v?3:2),[l,v]);if(!d)return null;const x=(0,P.fs)({pinTitle:h,gridTitle:o,richSummaryDisplayName:p,richMetadataTitle:u,storyPinDataId:_,storyPinDataMetadataPinTitle:m})||i,b=`/pin/${d}/`;return(0,X.jsx)(s.xu,{paddingX:2,marginBottom:-1,marginTop:2,display:"flex",direction:"column",height:Ti({isSquarePin:l,price:v}),children:(0,X.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,X.jsx)(s.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:(0,X.jsxs)(O.MZ,{to:b,accessibilityLabel:x,deeplinkUri:b,children:[v&&(0,X.jsx)(s.iP,{onTap:()=>Ii({deviceType:g,attribute:"price",location:y}),children:(0,X.jsx)(s.xv,{size:"100",weight:"bold",children:v})}),(0,X.jsx)(s.xu,{marginTop:1,children:(0,X.jsx)(s.iP,{onTap:()=>Ii({deviceType:g,attribute:"title",location:y}),children:(0,X.jsx)(s.xv,{size:"100",weight:"bold",lineClamp:f,children:x})})}),t&&v&&(0,X.jsx)(s.xu,{marginTop:1,children:(0,X.jsx)(s.iP,{onTap:()=>Ii({deviceType:g,attribute:"merchant",location:y}),children:(0,X.jsx)(s.xv,{size:"100",lineClamp:1,children:t})})})]})}),"desktop"!==g&&(0,X.jsx)(s.xu,{children:(0,X.jsx)(vi.Z,{dedupeVisualAnnotations:e,pinId:d,size:"sm",graphqlRef:n})})]})})}const Ei=(0,ye.Z)({useGraphQLAdapter:({queryRef:e})=>(0,l.useFragment)(wi,e),useLegacyAdapter:()=>null});function Ci({queryRef:e,...i}){return(0,X.jsx)(Ei,{input:e?{enabled:!0,data:{queryRef:e}}:{enabled:!1,data:{pinId:i.pinId}},children:({data:e})=>(0,X.jsx)(ki,{...i,graphqlRef:e})})}var ji,Ri=t(197838);const Di=void 0!==ji?ji:ji=t(256468),Fi=({isDesktop:e})=>e?0:1,Li=e=>Boolean(e.promoter&&!e.isDownstreamPromotion),Oi=e=>{const{attribution:i,embed:t,isEligibleForWebCloseup:n,richSummary:a,videos:o,storyPinDataId:l}=e,r=t||(null==i?void 0:i.embed);return n?"oneTap":o||"video"===(null==r?void 0:r.type)?"video":"gif"===(null==r?void 0:r.type)?"gif":"product"===(null==a?void 0:a.typeName)?"product":"recipe"===(null==a?void 0:a.typeName)?"recipe":l?"storyPin":"image"},zi=e=>{const{adDestinationUrl:i,link:t,trackedLink:n}=e;return i||n||t||""},Ni=e=>{var i,t,n;const a=null===(i=e.videos)||void 0===i?void 0:i.videoList;return a?(0,c.Z)(null!==(t=null===(n=a[Object.keys(a)[0]])||void 0===n?void 0:n.duration)&&void 0!==t?t:0):""},Mi=e=>{var i;const[t]=(null===(i=e.richSummary)||void 0===i?void 0:i.products)||[];if(!t)return null;const{offerSummary:n}=t;return n&&(n.price||n.maxPrice)},Bi=e=>e&&e.includes("/user/default")?void 0:e,Zi=(0,a.lazy)((()=>Promise.all([t.e(68138),t.e(10536)]).then(t.bind(t,91822))));function Ui({auxData:e,componentType:i,debugInfo:t,disableAppUpsell:n,disableReaction:l,disableRounding:c,duploConversationPin:m,duploDedupeVisualAnnotations:j,duploDisablePinCardPadding:G,duploFeedItemProps:H,duploIsSquarePin:V,duploLazyLoadImage:W,duploOneTapSave:$,duploPinCardDetailsMargin:Y,duploPriorityFetchImage:q,duploQueryRef:J,duploShouldAddNiiSearchParamToImageUrls:Q,duploShouldAllowProductPriceIndicator:ee,feedback:ie,imageOnlyOption:te,impressionData:ne,objectIdStr:ae,pin:oe,slotIndex:le,topLevelTrafficSource:re,topLevelTrafficSourceDepth:de,trackingParams:ce,trafficSource:ue,viewData:pe,viewParameter:_e,viewType:he}){var ge,ye,ve,fe,xe,be,Pe,Se,we,Ie,Te,Ae,ke,Ee,Ce,je,Re;const De=(0,h.ZP)(),Fe=(0,u.g)(),Le=(0,r.useLocation)(),Oe=(0,R.HG)(),ze=(0,K.Z)(),Ne=(0,w.yz)(),Me=(0,_._)({id:1000107}),Be=(0,d.Z)(),Ze=(0,C.Z)(),{country:Ue,isAuthenticated:Ke,isBot:Ge,isSocialBot:He}=(0,T.B)(),{viewedSharedPins:Ve}=(0,o.useSelector)((({session:e})=>e)),We=(0,o.useSelector)((({experiences:e})=>{const i=e[1000107];return!!i&&500678===i.experience_id})),$e=(0,o.useSelector)((({session:e,users:i})=>(0,y.Z)(i[e.userId].created_at))),{getPinFeedbackStatus:Ye,setPinFeedbackStatus:qe}=(0,pi.K)(),[Xe,Je]=(0,a.useState)(!1),[Qe,ei]=(0,a.useState)(!1),ii=(0,a.useRef)(),ti=(0,v.t)(),ni=oe.entityId,ai=!!oe.storyPinDataId&&!1===oe.shouldOpenInStream,oi=e=>Q&&e?{...e,url:e.url&&(0,k.H5)(e.url)}:e,li=oi(oe.imageSpec_136x136),si=oi(oe.imageSpec_170x),di=oi(oe.imageSpec_236x),ci=oi(oe.imageSpec_474x),mi=oi(oe.imageSpec_736x),gi=oi(oe.imageSpec_orig),vi={...[["136x136",li],["170x",si],["236x",di],["474x",ci],["736x",mi],["orig",gi]].reduce(((e,[i,t])=>{var n,a,o,l;return t?(e[i]={dominant_color:null!==(n=t.dominantColor)&&void 0!==n?n:void 0,height:null!==(a=t.height)&&void 0!==a?a:void 0,url:null!==(o=t.url)&&void 0!==o?o:void 0,width:null!==(l=t.width)&&void 0!==l?l:void 0},e):e}),{})},{checkExperiment:fi}=(0,S.F)(),bi=Ke?fi("web_auth_exclude_original_images").anyEnabled:fi("web_unauth_exclude_original_images").anyEnabled,wi=Object.keys(vi).reduce(((e,i)=>{var t;return i&&null!==(t=vi[i])&&void 0!==t&&t.url?{...e,[i]:vi[i].url}:e}),{}),Ii=e=>{var i,t;return(0,x.Z)({embedSrc:null===(i=oe.embed)||void 0===i?void 0:i.src,embedType:null===(t=oe.embed)||void 0===t?void 0:t.type,imagesUrls:wi,preferredResolution:e,excludeOriginals:!Ge&&!He&&bi})},Ti=Oi(oe),Ai=(0,N.Z)({isEligibleForPdp:oe.isEligibleForPdp,isOosProduct:oe.isOosProduct,isStaleProduct:oe.isStaleProduct,pinShoppingFlags:null!==(ge=oe.shoppingFlags)&&void 0!==ge?ge:void 0}),ki=(0,F.z)();(0,D.Z)((()=>{if(ki&&!Oe&&"image"===Ti){const t=vi["236x"]||vi["136x136"],n=Ii("736x");if(n){var e,i;const a={pin:{board:oe.board&&{entityId:oe.board.entityId},category:oe.category,closeupAttribution:oe.closeupAttribution&&{fullName:oe.closeupAttribution.fullName,imageMediumUrl:oe.closeupAttribution.imageMediumUrl,username:oe.closeupAttribution.username},closeupUnifiedDescription:oe.closeupUnifiedDescription,domain:oe.domain,dominantColor:oe.dominantColor,embed:oe.embed&&{src:oe.embed.src,type:oe.embed.type},entityId:oe.entityId,gridTitle:oe.gridTitle,imageSignature:oe.imageSignature,isDownstreamPromotion:oe.isDownstreamPromotion,isEligibleForAggregatedComments:oe.isEligibleForAggregatedComments,link:oe.link,linkDomain:oe.linkDomain&&{officialUser:oe.linkDomain.officialUser&&{fullName:oe.linkDomain.officialUser.fullName,imageMediumUrl:oe.linkDomain.officialUser.imageMediumUrl,imageSmallUrl:oe.linkDomain.officialUser.imageSmallUrl}},mobileLink:oe.mobileLink,nativeCreator:oe.nativeCreator&&{fullName:oe.nativeCreator.fullName,imageMediumUrl:oe.nativeCreator.imageMediumUrl,imageSmallUrl:oe.nativeCreator.imageSmallUrl},originPinner:oe.originPinner&&{fullName:oe.originPinner.fullName,imageMediumUrl:oe.originPinner.imageMediumUrl,imageSmallUrl:oe.originPinner.imageSmallUrl},pinJoin:oe.pinJoin&&{visualAnnotation:oe.pinJoin.visualAnnotation},pinnedToBoard:oe.pinnedToBoard&&{entityId:oe.pinnedToBoard.entityId,url:oe.pinnedToBoard.url},pinner:oe.pinner&&{entityId:oe.pinner.entityId,fullName:oe.pinner.fullName,imageMediumUrl:oe.pinner.imageMediumUrl,imageSmallUrl:oe.pinner.imageSmallUrl,username:oe.pinner.username},promoter:oe.promoter&&{__typename:"User"},richMetadata:oe.richMetadata&&{__typename:"RichPinDataView",title:oe.richMetadata.title,article:oe.richMetadata.article&&{__typename:"ArticleMetadata"},recipe:oe.richMetadata.recipe&&{__typename:"RecipeMetadata"},products:null===(e=oe.richMetadata.products)||void 0===e?void 0:e.map((()=>({__typename:"RichPinProductMetadata"}))),tutorial:(null===(i=oe.richMetadata)||void 0===i?void 0:i.tutorial)&&{__typename:"MakeCardTutorialMetadata"}},richSummary:oe.richSummary&&{displayName:oe.richSummary.displayName},section:oe.section&&{entityId:oe.section.entityId},storyPinDataId:oe.storyPinDataId,storyPinData:oe.storyPinData&&{metadata:oe.storyPinData.metadata&&{pinTitle:oe.storyPinData.metadata.pinTitle}},seoNoindexReason:oe.seoNoindexReason,seoTitle:oe.seoTitle,title:oe.title,trackedLink:oe.trackedLink,trackingParams:oe.trackingParams},derived:{commerceData:Ai,homefeedRecommendationReason:92===_e&&oe.recommendationReason?{reason:oe.recommendationReason.reason,reasonId:oe.recommendationReason.reasonId}:null,imagesUrls:wi,imageUrl:n,placeholder:t&&{width:t.width,height:t.height,url:t.url}}};ki.setData(ni,a)}}})),(0,D.Z)((()=>{if(!Ke&&0===le&&3070===_e){var e,i,t;const n=Le.pathname,{imageSignature:a,entityId:o,imageSpec_236x:l,description:r}=oe;(0,U.H$)(n,a,o,l&&{dominant_color:null!==(e=l.dominantColor)&&void 0!==e?e:void 0,height:null!==(i=l.height)&&void 0!==i?i:void 0,url:l.url,width:null!==(t=l.width)&&void 0!==t?t:void 0},r)}}));const Ei=92===_e&&(null===(ye=Ve&&Ve[ni])||void 0===ye?void 0:ye.inviteCode),ji=V?{height:136,url:null==di?void 0:di.url,width:136}:[di,si,li,mi,ci,gi].find((e=>e&&e.url))||{width:1,height:1,url:""},Di=null===(ve=oe.videos)||void 0===ve||null===(fe=ve.videoList)||void 0===fe?void 0:fe.v720P,Ui=Ye({pinId:ni}),Ki=Li(oe),Gi=()=>{var e,i,t,n,a,o,l;const r=({user:e,linkToBoard:i})=>{var t;return{link:i?(null===(t=oe.board)||void 0===t?void 0:t.url)||`/pin/${oe.entityId}/`:(null==e?void 0:e.username)&&`/${e.username}/`||"",avatar:Bi(null==e?void 0:e.imageMediumUrl)||Bi(null==e?void 0:e.imageSmallUrl)}};var s,d,c,u,p,_,m;if(Li(oe))return oe.sponsorship&&(null===(s=oe.promoter)||void 0===s?void 0:s.entityId)!==(null===(d=oe.nativeCreator)||void 0===d?void 0:d.entityId)?{title:null===(c=oe.nativeCreator)||void 0===c?void 0:c.fullName,subtitle:null===(u=oe.promoter)||void 0===u?void 0:u.fullName,...r({user:oe.nativeCreator})}:{title:De._('Promoted by', 'Grid pin annotation', 'Grid pin annotation'),subtitle:null===(p=oe.promoter)||void 0===p?void 0:p.fullName,...r({user:oe.promoter})};if(null!==(e=oe.sponsorship)&&void 0!==e&&e.creator)return{title:null===(_=oe.nativeCreator)||void 0===_?void 0:_.fullName,subtitle:null===(m=oe.sponsorship.sponsor)||void 0===m?void 0:m.fullName,...r({user:oe.nativeCreator})};if(!oe.isEligibleForPdp){if(oe.nativeCreator)return{title:oe.nativeCreator.fullName,subtitle:"",...r({user:oe.nativeCreator})};switch(_e){case 3375:if(null===(i=oe.linkDomain)||void 0===i||null===(t=i.officialUser)||void 0===t||!t.isPrimaryWebsiteVerified)return;const e=null!==(n=oe.storyPinData)&&void 0!==n&&n.hasProductPins?oe.nativeCreator:oe.linkDomain.officialUser;return{title:"",subtitle:null==e?void 0:e.fullName,...r({user:e})};case 0:case 3173:return null!==(a=oe.storyPinData)&&void 0!==a&&a.hasProductPins?{title:"",subtitle:null===(o=oe.nativeCreator)||void 0===o?void 0:o.fullName,...r({user:oe.nativeCreator,linkToBoard:!0})}:{title:oe.board&&"protected"===oe.board.privacy?De._('Saved by', 'Grid pin annotation', 'Grid pin annotation'):(null===(l=oe.pinner)||void 0===l?void 0:l.fullName)||"",subtitle:"",...r({user:oe.pinner,linkToBoard:!0})};default:return}}},Hi=(0,f.hP)({boardFollowedByMe:!(null===(xe=oe.board)||void 0===xe||!xe.followedByMe),feedbackType:null==ie?void 0:ie.type,viewParameter:_e,promotion:oe&&oe.promoter&&{isDownstreamPromotion:!!oe.isDownstreamPromotion},pinnerFollowedByMe:!(null===(be=oe.pinner)||void 0===be||!be.explicitlyFollowedByMe),recommendationReason:oe.recommendationReason&&{hasBoard:!!oe.recommendationReason.board,reason:null!==(Pe=oe.recommendationReason.reason)&&void 0!==Pe?Pe:void 0}}),Vi=e=>{var i,t,n;const a={i18n:De,makeNavigateLink:e};switch(Hi){case"pfy":return(0,f.Ud)({...a,feedback:{type:"pfy"}});case"pfyBoard":return(0,f.Ud)({...a,feedback:{type:"pfyBoard",recommendationReasonBoard:(null===(i=oe.recommendationReason)||void 0===i?void 0:i.board)&&{name:null!==(t=oe.recommendationReason.board.name)&&void 0!==t?t:"",url:null!==(n=oe.recommendationReason.board.url)&&void 0!==n?n:""}}});case"topic":return(0,f.Ud)({...a,feedback:{type:"topic",sourceInterest:oe.sourceInterest&&oe.sourceInterest.name&&oe.sourceInterest.urlName?{name:oe.sourceInterest.name,url_name:oe.sourceInterest.urlName}:null}});case"followed":return(0,f.Ud)({...a,feedback:{type:"followed",followed:oe.pinner&&oe.pinner.explicitlyFollowedByMe?{type:"pinner",pinner:oe.pinner.fullName&&oe.pinner.username?{full_name:oe.pinner.fullName,username:oe.pinner.username}:null}:{type:"board",board:oe.board&&oe.board.name&&oe.board.url?{name:oe.board.name,url:oe.board.url}:null}}});case"promoted":return(0,f.Ud)({...a,feedback:{type:"promoted",promoter:!oe.adMatchReason&&oe.promoter&&oe.promoter.fullName?{full_name:oe.promoter.fullName,username:oe.promoter.username}:null}});default:return null}},{category:Wi,linkDomain:$i,description:Yi,gridTitle:qi,imageSignature:Xi,richMetadata:Ji,richSummary:Qi,title:et,sponsorship:it,storyPinData:tt}=oe,[nt,at]="string"==typeof qi?[qi,""]:[null==Qi?void 0:Qi.displayName,Yi],ot=null==tt?void 0:tt.isDeleted,lt=(0,M.Z)((Le&&Le.state||{}).trackingParams||ce,oe.trackingParams),rt="product"===Ti&&!Ke,{experimentsClient:st}=(0,T.B)(),dt=We&&!(3375===_e)&&(st.checkExperiment("mweb_pin_grid_image_only_v2").anyEnabled||st.checkExperiment("mweb_pin_grid_image_only_v2_new_user").anyEnabled),ct=We&&!(Qi&&43===_e&&!$e||3375===_e)||dt;let ut=null===(Se=oe.pinJoin)||void 0===Se?void 0:Se.visualAnnotation;j&&ut&&(ut=j({pinId:ni,visualAnnotations:ut}));const pt=(0,P.rw)(null!==(we=oe.description)&&void 0!==we?we:"",oe.descriptionHtml||"",ut,oe.altText||"",oe.autoAltText||""),_t=Ke?at:(0,b.Z)({storyPinDataId:oe.storyPinDataId,pinDescription:oe.description,richMetadataDescription:null!==(Ie=null===(Te=oe.richMetadata)||void 0===Te?void 0:Te.description)&&void 0!==Ie?Ie:"",richSummaryDisplayName:null!==(Ae=null===(ke=oe.richSummary)||void 0===ke?void 0:ke.displayName)&&void 0!==Ae?Ae:"",closeupDescription:null!==(Ee=oe.closeupDescription)&&void 0!==Ee?Ee:"",closeupUnifiedDescription:null!==(Ce=oe.closeupUnifiedDescription)&&void 0!==Ce?Ce:""});let mt;mt="oneTap"===Ti?oe.trackedLink||oe.link:Ke?(0,P.BY)(ni):(0,P.bN)({pinId:ni,seoUrl:oe.seoUrl});const ht={accessibilityLabel:pt||nt||at||De._('Pin', 'Pin accessibility label', 'Pin accessibility label'),country:Ue,deeplinkUri:mt,external:"oneTap"===Ti,externalQueryParams:{pin:ni,client_tracking_params:ce},isAppUpsellDisabled:n,onTouch:t=>{var n;if((()=>{const t=(0,M.Z)(ce,oe.trackingParams);if((0,E.My)(`unauth_pin_rep.click.${String(_e)}`),Be({view_type:he,view_parameter:_e,element:oe.storyPinDataId?12372:35,event_type:101,component:i,object_id_str:ni,clientTrackingParams:t,aux_data:{commerce_data:Ai,grid_index:le,image_signature:oe.imageSignature,...e}}),"oneTap"!==Ti&&Be({event_type:8948,view_type:he,view_parameter:_e,object_id_str:ni,clientTrackingParams:t,aux_data:{image_signature:oe.imageSignature,commerce_data:Ai,closeup_navigation_type:"click",grid_index:le,cosmic_ray_count:"3",...e}}),!Ke)switch(Ze({action:"click",item:"pin"}),he){case 3:(0,E.NC)("click_pin_related_image");break;case 5:(0,E.NC)("click_board_pin_image");break;case 210:(0,E.NC)("click_topic_pin_image");break;case 605:(0,E.NC)("click_shopping_category_pin_image");break;case 606:(0,E.NC)("click_videos_category_pin_image")}"oneTap"===Ti&&(Be({event_type:8948,view_type:he,view_parameter:_e,object_id_str:ni,clientTrackingParams:t,aux_data:{image_signature:oe.imageSignature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...e}}),(0,Z.jC)({view_type:he,view_parameter:_e,element:oe.storyPinDataId?12372:35,component:i,object_id_str:ni,aux_data:{commerce_data:Ai,grid_index:le,image_signature:oe.imageSignature,...e},clientTrackingParams:t}),Be({component:i,event_type:13,view_type:3,clientTrackingParams:t,aux_data:{closeup_navigation_type:"web_closeup",image_signature:oe.imageSignature},object_id_str:ni}),fi("m10n_ara_click_web_mobile").anyEnabled&&ti({attributionSourceId:oe.attributionSourceId,auxData:e,campaignId:oe.campaignId,clientTrackingParams:t,href:zi(oe),isPromoted:Li(oe),pinId:ni,pinPromotionId:oe.pinPromotionId}))})(),null==H||null===(n=H.onPinClick)||void 0===n||n.call(H),Oe){const e=494===he;if(t.metaKey||e)(0,E.My)(`unauth_pin_rep.click.cmd_button_pressed.${String(_e)}`),t.preventDefault(),window.open(`/pin/${ni}/`,"_blank").focus();else if(!Ke&&Fe){const{pinImageClickHandler:e}=Fe;e({event:t,pinId:ni,linkTarget:"duploClientNav",seoUrl:oe.seoUrl})}}else if(!Ke&&((0,E.My)("unauth_mweb_pin_rep.click",{viewType:he}),[3,2].includes(he))){const{group:e}=fi("mweb_unauth_lop_broad_to_narrow_new_tab_targeting",{dangerouslySkipActivation:!0});if(!e)return;let i=!1;switch(he){case 3:(e.includes("view_type_closeup")||e.includes("view_type_all"))&&(i=fi("mweb_unauth_lop_broad_to_narrow_new_tab_targeting").anyEnabled);break;case 2:(e.includes("view_type_search")||e.includes("view_type_all"))&&(i=fi("mweb_unauth_lop_broad_to_narrow_new_tab_targeting").anyEnabled)}(0,E.My)("unauth_mweb_pin_rep.click.new_tab_exp",{viewType:he,expName:"mweb_unauth_lop_broad_to_narrow_new_tab_targeting",expGroup:e,enabled:i}),i&&(t.preventDefault(),t.stopPropagation(),window.open(mt,"_blank").focus())}},pinCategory:oe.category,pressState:"none",rounding:4,title:De._('See this Pin', 'App Upsell Text after clicking on Pin in feed', 'App Upsell Text after clicking on Pin in feed'),to:{pathname:mt,state:{trackingParams:ce,trafficSource:ue,topLevelTrafficSource:re,topLevelTrafficSourceDepth:de}},upsellType:"direct",viewParameter:_e,viewType:he,clientTrackingParams:lt},gt=(0,B.kb)({hasLinkDomain:!!$i,richMetadata:Ji&&{recipe:Ji.recipe&&{fromAggregatedData:Ji.recipe.fromAggregatedData},products:null===(je=Ji.products)||void 0===je?void 0:je.map((({__typename:e,...i})=>i))},richSummary:Qi&&{products:Qi.products}}),yt=!ee&&["shop_feed"].includes(ue),vt=(0,o.useSelector)((({session:e})=>e.unauthSavePinId)),ft=!Ke||Ke&&!!vt&&vt===ni||$?"":fi("mweb_direct_save_from_grid_v2").group||fi("mweb_direct_save_from_grid_v2_new_user").group||"",xt=ft.includes("footer");return(0,X.jsx)(z.dL,{auxData:{commerce_data:Ai,pwa_type:Ne,...e},component:i,impressionData:{richTypes:oe.shoppingFlags||[],imageURL:ji.url||"",isPromoted:Li(oe),attributionSourceId:oe.attributionSourceId,link:zi(oe),campaignId:oe.campaignId,...Di?{isNativeVideoAndWatchable:!!(Di&&Di.url&&Di.height&&Di.width)||void 0,videoIdStr:Di&&(null===(Re=oe.videos)||void 0===Re?void 0:Re.entityId)||void 0}:{},...ne},isPaused:!Xe,loggingId:oe.entityId,objectIdStr:ae,slotIndex:le,trackingParams:ce,viewData:pe,viewParameter:_e,viewType:he,children:({impressionTrackerRef:e})=>{var n,o,r,d,u,_,h,y,v,x,b,P,S,w,T,k,C,R,D,F,z,N,B,Z,U,K,Q,ne;return(0,X.jsx)(s.xu,{ref:e,children:(0,X.jsxs)(s.xu,{"data-test-id":"pin","data-test-pin-id":ni,marginBottom:Oe?0:2,children:[(0,X.jsxs)(s.xu,{"data-test-id":pt||nt||at?"pin-with-alt-text":"pin-missing-alt-text",padding:G?0:Fi({isDesktop:Oe}),marginBottom:0,onContextMenu:Oe&&(oe.nativeCreator||oe.pinner)?e=>{e.stopPropagation(),e.preventDefault(),ze((0,X.jsx)(Si.Z,{desktopContextMenuState:{x:e.clientX,y:e.clientY},pinId:ni,graphqlRef:J})),(0,E.My)("pcons.dweb.pin_rep.context_menu.open")}:void 0,dangerouslySetInlineStyle:{__style:Qe?{WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"}:{}},children:[(0,X.jsxs)(O.MZ,{...ht,children:[!!Ei&&(0,X.jsx)(me,{inviteCode:Ei}),ot?(0,X.jsx)(Pi.Z,{isPinRep:!0}):(0,X.jsx)(ri,{pinGraphqlRef:J,clientTrackingParams:lt,color:null!==(n=oe.dominantColor)&&void 0!==n?n:"",description:!at||ct&&0!==_e?void 0:at.trim(),domainLinkData:oe.domain&&oe.link?{clickLoggingOptions:{auxData:{objectId:ni,grid_index:le,sanitized_url:oe.link}},domain:oe.domain,link:oe.link,onClick:null==H?void 0:H.onPinLinkClick}:void 0,disableRounding:c,image:ji&&{dominant_color:null!==(o=ji.dominantColor)&&void 0!==o?o:void 0,height:null!==(r=ji.height)&&void 0!==r?r:void 0,url:null!==(d=ji.url)&&void 0!==d?d:void 0,width:null!==(u=ji.width)&&void 0!==u?u:void 0},imageAltText:pt,imageCrop:!V&&oe.imageCrop&&"number"==typeof oe.imageCrop.minY&&"number"==typeof oe.imageCrop.maxY?{minY:oe.imageCrop.minY,maxY:oe.imageCrop.maxY}:void 0,isBoardIdeas:3173===_e||13184===i,isSquarePin:V,lazyLoadImage:W,onError:()=>Je(!1),oneTapSave:$,onLoad:()=>Je(!0),priorityFetchImage:q,disableDefaultContextMenu:()=>ei(!0),pinId:ni,pinnedToBoardId:null!==(_=null===(h=oe.pinnedToBoard)||void 0===h?void 0:h.entityId)&&void 0!==_?_:"",productPrice:"product"===Ti&&ee&&!rt?Mi(oe):null,slotIndex:le,storyDataExists:!!tt,title:ct&&0!==_e?void 0:nt,type:Ti,videoDuration:Ni(oe),viewType:he,directSaveExpGroup:ft,isPromotedPin:Ki})]}),"image-only"!==te&&(Ke||Oe)&&(0,X.jsxs)(s.xu,{children:[!Ke&&Oe&&3475!==_e&&43!==_e&&(0,X.jsx)(Ri.Z,{dedupeVisualAnnotations:j,pinId:ni,mode:"inlineWithScrollArrows",graphqlRef:J}),!rt&&(0,X.jsxs)(s.xu,{position:"relative",children:[(0,X.jsx)(O.MZ,{...ht,children:(0,X.jsx)(s.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,ref:ii})}),(0,X.jsx)(s.iP,{onTap:()=>{var e;null===(e=ii.current)||void 0===e||e.click()},accessibilityLabel:ht.accessibilityLabel,children:(0,X.jsxs)(s.xu,{display:"flex",height:V?yt?104:72:void 0,marginEnd:Y||1,marginStart:Y||1,marginTop:ft.includes("enabled")?1:0,position:"relative",children:[(0,X.jsx)(se,{pinGraphqlRef:J,marginTop:Y,hidePinMetadata:(null==Me?void 0:Me.display_data.hideDesc)||!1,credits:Gi(),hasAffiliatedProducts:!(null==tt||!tt.hasProductPins),isPromotedPin:Ki,isSponsoredPin:!!it,logCreditsClick:()=>{var e;return Be({view_type:3,element:27,event_type:102,object_id_str:ni,component:oe.storyPinDataId?230:void 0,clientTrackingParams:(0,M.Z)(ce,oe.trackingParams),aux_data:{pin_id:ni,...null!==(e=oe.sponsorship)&&void 0!==e&&e.creator&&oe.sponsorship.sponsor?{creator_id:oe.sponsorship.creator.entityId,sponsor_id:oe.sponsorship.sponsor.entityId}:{}}})},pinDescription:_t,pinId:ni,pinnedToBoardId:null!==(y=null===(v=oe.pinnedToBoard)||void 0===v?void 0:v.entityId)&&void 0!==y?y:"",pinReactionCounts:null===(x=oe.reactionCountsData)||void 0===x?void 0:x.reduce(((e,{reactionCount:i,reactionType:t})=>({...e,[String(null!=t?t:0)]:null!=i?i:0})),{}),recipeReview:"recipe"===Ti&&!ct&&!(null==Qi||null===(b=Qi.aggregateRating)||void 0===b||!b.reviewCount)&&(0,X.jsxs)(s.xu,{alignItems:"center",display:"flex",marginTop:1,children:[(0,X.jsx)(hi,{maxRating:Qi.aggregateRating.bestRating||"",rating:Qi.aggregateRating.ratingValue||"",text:""}),!!Qi.displayCookTime&&(0,X.jsxs)(a.Fragment,{children:[(0,X.jsx)(s.xu,{paddingX:1,children:(0,X.jsx)(s.xv,{size:"100",children:"·"})}),(0,X.jsx)(s.xv,{size:"100",children:(0,L.IS)({...(0,I.u)(Qi.displayCookTime),i18n:De})})]})]}),shouldShowReactions:!l&&(0,yi.J6)({boardIsCollaborative:null===(P=oe.board)||void 0===P?void 0:P.isCollaborative,isDownstreamPromotion:oe.isDownstreamPromotion,isEligibleForStaticImageIdeaPin:ai,isPromoted:oe.isPromoted,storyPinDataId:oe.storyPinDataId,videosId:null===(S=oe.videos)||void 0===S?void 0:S.entityId})&&3475!==_e&&606!==he&&!(Me&&Me.display_data.hideReactions),showPriceIndicatorInPinCardDetails:yt,title:nt,type:Ti}),(0,X.jsxs)(s.xu,{right:!0,display:"flex",children:[!Ke||dt||ot||m?null:(0,X.jsx)(s.xu,{marginStart:1,marginTop:Y,children:(0,X.jsx)(s.xu,{height:26,width:24,children:(0,X.jsx)(p.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,X.jsx)(A.Z,{children:(0,X.jsx)(Zi,{adMatchReason:oe.adMatchReason,bestPinImgSrc:Ii(),feedback:ie,feedbackType:Hi,getRecommendationDescription:Vi,graphqlRef:J,hideSaveOption:null!==(w=oe.promotedIsRemovable)&&void 0!==w&&w,imageSignature:null!=Xi?Xi:void 0,isAdsOnlyPin:null!==(T=oe.promotedIsRemovable)&&void 0!==T&&T,pinCategory:Wi,pinDescription:_t,pinId:ni,pinTitle:et,sourceType:Ki?"ad":0===_e?"following":void 0,viewParameter:_e,viewType:he,trackingParams:ce})})})})}),xt?(0,X.jsx)(s.xu,{right:!0,children:(0,X.jsx)(s.xu,{children:(0,X.jsx)(_i,{pinId:ni,pin:oe,directSaveExpGroup:ft,clientTrackingParams:lt})})}):null]})]})})]})]}),rt&&(0,X.jsx)(Ci,{dedupeVisualAnnotations:j,queryRef:J,description:oe.description,domain:null===(k=oe.richSummary)||void 0===k?void 0:k.siteName,isSquarePin:V,gridTitle:null!==(C=oe.gridTitle)&&void 0!==C?C:void 0,pinId:ni,priceSummary:gt&&{maxPrice:gt.maxPrice,minPrice:gt.minPrice,price:gt.price,standardPrice:gt.standardPrice},richMetadataTitle:null===(R=oe.richMetadata)||void 0===R?void 0:R.title,richSummaryDisplayName:null===(D=oe.richSummary)||void 0===D?void 0:D.displayName,storyPinDataId:oe.storyPinDataId,storyPinDataMetadataPinTitle:null===(F=oe.storyPinData)||void 0===F||null===(z=F.metadata)||void 0===z?void 0:z.pinTitle,title:oe.title})]}),"reported"===Ui?(0,X.jsx)(ui,{color:null!==(N=oe.dominantColor)&&void 0!==N?N:"",getFeedbackText:()=>({title:De._('Reported', 'message displayed after reporting a pin', 'message displayed after reporting a pin'),subTitle:De._('Thanks! Your feedback helps us keep the Pinterest community safe.', 'message displayed after reporting a pin', 'message displayed after reporting a pin')}),pinId:ni,showing:!0}):(0,X.jsx)(ui,{color:null!==(B=oe.dominantColor)&&void 0!==B?B:"",getFeedbackText:e=>{const{promoter:i}=oe;if(Li(oe)&&null!=i&&i.fullName)return{title:"",subTitle:(0,g.nk)(De._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'pinRep.promotedPinfeedbackText.subtitle', 'message displayed after hiding a promoted pin'),{promoter:i.fullName})};let t;switch(Hi){case"followed":const{board:i,pinner:n}=oe;i&&n&&(t=(0,f.oK)({boardId:i.entityId,i18n:De,makeNavigateLink:e,display:n.explicitlyFollowedByMe?{type:"board",data:{name:i.name,url:i.url}}:{type:"pinner",data:{full_name:n.fullName,username:n.username}}}));break;case"topic":const{sourceInterest:a}=oe;a&&(t=(0,f.Iv)({i18n:De,makeNavigateLink:e,sourceInterest:{id:a.entityId,name:a.name,url_name:a.urlName}}))}return t?{title:De._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:Vi(e),unfollow:t}:{title:De._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:De._('Got it! We\'ll try to show you more relevant Pins in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}},onUnfollow:()=>qe({pinId:ni,pinFeedbackStatus:"unfollowed"}),pinId:ni,showing:!!Ui,unfollowed:"unfollowed"===Ui,viewParameter:_e,viewType:he}),!Oe&&(null==H?void 0:H.showSeoMetadata)&&!rt&&(0,X.jsx)(s.xu,{"data-test-id":"related-pins-title",children:(0,X.jsx)(s.iP,{onTap:()=>{Ze({action:"click",item:"related-pins-title"})},fullWidth:!1,children:(0,X.jsx)(xi,{dedupeVisualAnnotations:j,description:oe.description,gridTitle:null!==(Z=oe.gridTitle)&&void 0!==Z?Z:void 0,pinId:ni,richMetadataTitle:null===(U=oe.richMetadata)||void 0===U?void 0:U.title,richSummaryDisplayName:null===(K=oe.richSummary)||void 0===K?void 0:K.displayName,storyPinDataId:oe.storyPinDataId,storyPinDataMetadataPinTitle:null===(Q=oe.storyPinData)||void 0===Q||null===(ne=Q.metadata)||void 0===ne?void 0:ne.pinTitle,title:oe.title,queryRef:J})})}),t]})})}})}const Ki=e=>{var i,t,n,a,o,l,r,s,d,c,u,p,_;const m=e=>e&&{entityId:e.id,fullName:e.full_name,imageMediumUrl:e.image_medium_url,imageSmallUrl:e.image_small_url,username:e.username},h=e=>e&&{dominantColor:e.dominant_color,height:e.height,url:e.url,width:e.width},g=e.reaction_counts;return{adMatchReason:e.ad_match_reason,adDestinationUrl:e.ad_destination_url,altText:e.alt_text,attribution:e.attribution&&{embed:e.attribution.embed&&{type:e.attribution.embed.type}},attributionSourceId:e.attribution_source_id,autoAltText:e.auto_alt_text,board:e.board&&{entityId:e.board.id,followedByMe:e.board.followed_by_me,isCollaborative:e.board.is_collaborative,name:e.board.name,privacy:e.board.privacy,url:e.board.url},campaignId:e.campaign_id?String(e.campaign_id):null,category:e.category,closeupAttribution:e.closeup_attribution&&{fullName:e.closeup_attribution.full_name,imageMediumUrl:e.closeup_attribution.image_medium_url,username:e.closeup_attribution.username},closeupDescription:e.closeup_description,closeupUnifiedDescription:e.closeup_unified_description,debug:e.debug,descriptionHtml:e.description_html,description:e.description,domain:e.domain,dominantColor:e.dominant_color,embed:e.embed&&{height:e.embed.height,src:e.embed.src,type:e.embed.type,width:e.embed.width},entityId:e.id,gridTitle:e.grid_title,imageCrop:e.image_crop&&{minY:e.image_crop.min_y,maxY:e.image_crop.max_y},imageSignature:e.image_signature,imageSpec_136x136:h(null===(i=e.images)||void 0===i?void 0:i["136x136"]),imageSpec_170x:h(null===(t=e.images)||void 0===t?void 0:t["170x"]),imageSpec_236x:h(null===(n=e.images)||void 0===n?void 0:n["236x"]),imageSpec_474x:h(null===(a=e.images)||void 0===a?void 0:a["474x"]),imageSpec_736x:h(null===(o=e.images)||void 0===o?void 0:o["736x"]),imageSpec_orig:h(null===(l=e.images)||void 0===l?void 0:l.orig),isDownstreamPromotion:e.is_downstream_promotion,isEligibleForAggregatedComments:e.is_eligible_for_aggregated_comments,isEligibleForPdp:e.is_eligible_for_pdp,isEligibleForWebCloseup:e.is_eligible_for_web_closeup,isOosProduct:e.is_oos_product,isPromoted:e.is_promoted,isStaleProduct:e.is_stale_product,linkDomain:e.link_domain&&{officialUser:e.link_domain.official_user&&{fullName:e.link_domain.official_user.full_name,entityId:null!==(r=e.link_domain.official_user.id)&&void 0!==r?r:"",imageMediumUrl:e.link_domain.official_user.image_medium_url,imageSmallUrl:e.link_domain.official_user.image_small_url,username:e.link_domain.official_user.username,isPrimaryWebsiteVerified:e.link_domain.official_user.is_primary_website_verified}},link:e.link,mobileLink:e.mobile_link,originPinner:e.origin_pinner&&{fullName:e.origin_pinner.full_name,imageMediumUrl:e.origin_pinner.image_medium_url,imageSmallUrl:e.origin_pinner.image_small_url},nativeCreator:m(e.native_creator),pinnedToBoard:e.pinned_to_board&&{entityId:null!==(s=e.pinned_to_board.id)&&void 0!==s?s:"",url:e.pinned_to_board.url},pinJoin:e.pin_join&&{visualAnnotation:e.pin_join.visual_annotation},pinner:e.pinner&&{entityId:e.pinner.id,explicitlyFollowedByMe:e.pinner.explicitly_followed_by_me,fullName:e.pinner.full_name,imageMediumUrl:e.pinner.image_medium_url,imageSmallUrl:e.pinner.image_small_url,username:e.pinner.username},pinPromotionId:e.pin_promotion_id?String(e.pin_promotion_id):null,promoter:m(e.promoter),promotedIsRemovable:e.promoted_is_removable,reactionCountsData:g&&Object.keys(g).map((e=>({reactionType:Number(e),reactionCount:g[e]}))),richMetadata:e.rich_metadata&&{description:e.rich_metadata.description,title:e.rich_metadata.title,article:e.rich_metadata.article&&{__typename:"ArticleMetadata"},recipe:e.rich_metadata.recipe&&{__typename:"RecipeMetadata",fromAggregatedData:e.rich_metadata.recipe.from_aggregated_data},products:e.rich_metadata.products&&e.rich_metadata.products.map((e=>{var i,t,n,a;return{__typename:"RichPinProductMetadata",name:e.name,offerSummary:{maxPrice:null===(i=e.offer_summary)||void 0===i?void 0:i.max_price,minPrice:null===(t=e.offer_summary)||void 0===t?void 0:t.min_price,price:null===(n=e.offer_summary)||void 0===n?void 0:n.price,standardPrice:null===(a=e.offer_summary)||void 0===a?void 0:a.standard_price}}})),tutorial:(null===(d=e.rich_metadata)||void 0===d?void 0:d.tutorial)&&{__typename:"MakeCardTutorialMetadata"}},richSummary:e.rich_summary&&{aggregateRating:e.rich_summary.aggregate_rating&&{bestRating:e.rich_summary.aggregate_rating.best_rating,ratingValue:e.rich_summary.aggregate_rating.rating_value,reviewCount:e.rich_summary.aggregate_rating.review_count},displayName:e.rich_summary.display_name,displayCookTime:e.rich_summary.display_cook_time,siteName:e.rich_summary.site_name,typeName:e.rich_summary.type_name,products:e.rich_summary.products&&e.rich_summary.products.map((e=>{var i,t,n,a;return{name:e.name,offerSummary:{maxPrice:null===(i=e.offer_summary)||void 0===i?void 0:i.max_price,minPrice:null===(t=e.offer_summary)||void 0===t?void 0:t.min_price,price:null===(n=e.offer_summary)||void 0===n?void 0:n.price,standardPrice:null===(a=e.offer_summary)||void 0===a?void 0:a.standard_price}}}))},section:e.section&&e.section.id?{entityId:e.section.id}:null,seoNoindexReason:e.seo_noindex_reason,seoTitle:e.seo_title,seoUrl:e.seo_url,shoppingFlags:e.shopping_flags,shouldOpenInStream:e.should_open_in_stream,sourceInterest:e.source_interest&&{entityId:null!==(c=e.source_interest.id)&&void 0!==c?c:"",name:e.source_interest.name,urlName:e.source_interest.url_name},sponsorship:e.sponsorship&&{creator:e.sponsorship.creator&&{entityId:null!==(u=e.sponsorship.creator.id)&&void 0!==u?u:"",fullName:e.sponsorship.creator.full_name,imageMediumUrl:e.sponsorship.creator.image_medium_url,imageSmallUrl:e.sponsorship.creator.image_small_url,username:e.sponsorship.creator.username},sponsor:e.sponsorship.sponsor&&{entityId:null!==(p=e.sponsorship.sponsor.id)&&void 0!==p?p:"",fullName:e.sponsorship.sponsor.full_name,imageMediumUrl:e.sponsorship.sponsor.image_medium_url,imageSmallUrl:e.sponsorship.sponsor.image_small_url,username:e.sponsorship.sponsor.username}},storyPinDataId:e.story_pin_data_id,storyPinData:e.story_pin_data&&{hasProductPins:e.story_pin_data.has_product_pins,isDeleted:e.story_pin_data.is_deleted,metadata:e.story_pin_data.metadata&&{pinTitle:e.story_pin_data.metadata.pin_title}},title:e.title,trackedLink:e.tracked_link,trackingParams:e.tracking_params,videos:e.videos&&{entityId:null!==(_=e.videos.id)&&void 0!==_?_:"",videoList:e.videos.video_list&&{v720P:e.videos.video_list.V_720P&&{duration:e.videos.video_list.V_720P.duration,height:e.videos.video_list.V_720P.height,width:e.videos.video_list.V_720P.width,url:e.videos.video_list.V_720P.url}}},recommendationReason:e.recommendation_reason&&{reason:e.recommendation_reason.reason,reasonId:e.recommendation_reason.reason_id,board:e.recommendation_reason.board&&{name:e.recommendation_reason.board.name,url:e.recommendation_reason.board.url}}}};function Gi({pinId:e,duploQueryRef:i,...t}){const n=(0,j.Qy)(),{data:a,childDataKey:o}=(0,m.k5)(Di,i?{type:"graphqlRef",data:i}:{type:"deprecated",data:e},{type:"pin",useLegacyAdapter:Ki});return!!a&&(0,X.jsx)(Ui,{...t,debugInfo:n&&a.debug&&(0,X.jsx)(j.Wu,{data:a.debug}),pin:a,duploQueryRef:"graphqlRef"===o.type?o.data:null})}},684993:(e,i,t)=>{t.d(i,{CC:()=>r,ZP:()=>d,hW:()=>s});var n=t(240684),a=t(549201),o=t(802071),l=t(785893);const r=(0,n.ZP)({resolved:{},chunkName:()=>"AuthDesktopPinRep",isReady(e){const i=this.resolve(e);return!0===this.resolved[i]&&!!t.m[i]},importAsync:()=>Promise.all([t.e(97270),t.e(67631),t.e(2984)]).then(t.bind(t,394214)),requireAsync(e){const i=this.resolve(e);return this.resolved[i]=!1,this.importAsync(e).then((e=>(this.resolved[i]=!0,e)))},requireSync(e){const i=this.resolve(e);return t(i)},resolve(){return 394214}}),s=(0,n.ZP)({resolved:{},chunkName:()=>"DefaultPinRep",isReady(e){const i=this.resolve(e);return!0===this.resolved[i]&&!!t.m[i]},importAsync:()=>Promise.all([t.e(97270),t.e(39921)]).then(t.bind(t,593502)),requireAsync(e){const i=this.resolve(e);return this.resolved[i]=!1,this.importAsync(e).then((e=>(this.resolved[i]=!0,e)))},requireSync(e){const i=this.resolve(e);return t(i)},resolve(){return 593502}});function d(e){const i=(0,a.HG)(),t=(0,o.Z)();if(t&&t.isAuth&&i){const{disableReaction:i,disableRounding:t,disableAppUpsell:n,duploDedupeVisualAnnotations:a,duploDisablePinCardPadding:o,duploFeedItemProps:s,duploIsSquarePin:d,duploLazyLoadImage:c,duploOneTapSave:u,duploPinCardDetailsMargin:p,duploPriorityFetchImage:_,duploQueryRef:m,duploShouldAddNiiSearchParamToImageUrls:h,duploShouldAllowProductPriceIndicator:g,duploConversationPin:y,topLevelTrafficSource:v,topLevelTrafficSourceDepth:f,trafficSource:x,...b}=e;return(0,l.jsx)(r,{...b})}const{attributionOption:n,blockClickEvents:d,borderStyle:c,disableHover:u,imageHeightModifier:p,imageOnlyOption:_,onError:m,onLoad:h,pin:g,pinImageCrop:y,pinImageFit:v,resolution:f,rounding:x,saveButtonOptions:b,authDesktopSelectionState:P,authDesktopSurface:S,...w}=e;return(0,l.jsx)(s,{...w})}},698303:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(883119),a=t(377234),o=t(536042),l=t(785893);function r({text:e,icon:i,largeIdentifier:t,largeMargin:r}){const s=(0,o.ZP)();return(0,l.jsxs)(n.xu,{zIndex:new n.Ry(1),alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,a.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)"}},"data-test-id":"PinTypeIdentifier",display:"flex",margin:r?4:2,overflow:"hidden",position:"absolute",rounding:"pill",padding:2,paddingX:t?4:void 0,height:t?36:24,top:!0,children:[i&&(0,l.jsx)(n.xu,{marginEnd:t?2:1,children:(0,l.jsx)(n.JO,{accessibilityLabel:s._('identifier that shows the pin type', 'pin.pincard.iconAccessibilityLabel', 'shows an icon with the pin type'),color:"default",icon:i,inline:!0,size:t?18:12})}),(0,l.jsx)(n.xv,{inline:!0,size:t?"200":"100",weight:"bold",children:e})]})}},548802:(e,i,t)=>{t.d(i,{x:()=>r,y:()=>s});var n=t(667294),a=t(583592),o=t(785893);const{Provider:l,useMaybeHook:r}=(0,a.Z)("ProfileViewContext");function s({children:e}){const[i,t]=(0,n.useState)(),[a,r]=(0,n.useState)(new Map),[s,d]=(0,n.useState)(),[c,u]=(0,n.useState)(),p=(0,n.useCallback)(((e,i)=>{r(new Map(a.set(e,i)))}),[a]),_=(0,n.useMemo)((()=>({boardPinDensity:i,boardSortOrder:a,profileBoardView:s,profilePinDensity:c,setBoardPinDensity:t,updateBoardSortOrder:p,setProfileBoardView:d,setProfilePinDensity:u})),[i,a,s,c,p]);return(0,o.jsx)(l,{value:_,children:e})}},190253:(e,i,t)=>{function n(e){const i=Object.keys(e);if(i.length>0){return i.sort(((i,t)=>e[t]-e[i])).slice(0,3)}return null}function a(e){const i=Object.values(e);if(i.length>0){return i.reduce(((e,i)=>e+i),0)}return 0}function o({boardIsCollaborative:e,isDownstreamPromotion:i,isPromoted:t,storyPinDataId:n,videosId:a,isEligibleForStaticImageIdeaPin:o}){return!(t||i||!a&&!n||null!=e&&e||o)}t.d(i,{At:()=>n,J6:()=>o,Ud:()=>a})},525104:(e,i,t)=>{t.d(i,{AF:()=>r,H0:()=>s,S6:()=>d,_S:()=>c});var n=t(702664),a=t(583592),o=t(785893);const{Provider:l,useHook:r,useMaybeHook:s}=(0,a.Z)("Pins");function d(){const e=r();return i=>e[i]}function c({children:e}){const i=(0,n.useSelector)((({pins:e})=>e),n.shallowEqual);return(0,o.jsx)(l,{value:i,children:e})}},712968:(e,i,t)=>{t.d(i,{Tt:()=>u,cm:()=>c,kW:()=>s,kY:()=>p,mN:()=>d});var n=t(702664),a=t(583592),o=t(802071),l=t(785893);const{Provider:r,useHook:s}=(0,a.Z)("Users");function d(){const e=s();return i=>e[i]}function c(){const e=s();return i=>{const t=Object.keys(e).find((t=>e[t].username===i));return e[null!=t?t:""]}}function u(){const{id:e}=(0,o.Z)();return s()[null!=e?e:""]}function p({children:e}){const i=(0,n.useSelector)((({users:e})=>e),n.shallowEqual);return(0,l.jsx)(r,{value:i,children:e})}},141418:(e,i,t)=>{t.d(i,{Z:()=>A});var n=t(667294),a=t(702664),o=t(167912),l=t(883119),r=t(943072),s=t(536042),d=t(282802),c=t(819079),u=t(98736),p=t(618569),_=t(348672),m=t(549201),h=t(377234),g=t(88622),y=t(894121),v=t(785893);function f({showFullScreenInfo:e,isOpen:i,interstitialUpsellDismissed:t,children:n}){const a=(0,s.ZP)(),o=(0,m.HG)(),r=(0,m.Wb)();return r||o?(0,v.jsx)(g.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,mobileIsFullscreen:!0,isOpen:e&&!r,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,v.jsx)(l.xu,{color:(0,h.Yc)()?"dark":"default",dangerouslySetInlineStyle:{__style:{border:(0,h.Yc)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:o?"100vw":"100%",zIndex:new l.Ry(1),children:(0,v.jsx)(l.xu,{bottom:!0,left:!0,right:!0,top:!0,position:"fixed",padding:5,overflow:"scroll",marginTop:t?0:12,children:n})})}):(0,v.jsx)(y.default,{accessibilityModalLabel:a._('Close', 'Close modal window', 'Close modal window'),isOpen:i,onDismiss:()=>{},mobileAccessibilityCloseIconLabel:a._('Close', 'Close modal window', 'Close modal window'),children:n})}var x,b=t(50169);const P=void 0!==x?x:x=t(599271);function S({dedupeVisualAnnotations:e,iconColor:i,size:t,isMainPin:o,isAuth:c,pinCreditPrefix:h,onClickTitleOrDomain:g,pinId:y,renderOnlyHiddenSEOContent:x=!1,graphqlRef:P}){const S=(0,s.ZP)(),w=(0,p.Z)(),{isBot:I}=(0,d.B)(),{unauthInterstitialDismissed:T}=(0,a.useSelector)((({session:e})=>e)),[A,k]=(0,n.useState)(!1),E=(0,m.HG)(),C=(0,m.Wb)(),j=(0,_.Z)(),R=!C&&!c,D=P?{type:"graphqlRef",data:P}:{type:"deprecated",data:y},F=(0,v.jsxs)(l.xu,{padding:5,dangerouslySetInlineStyle:R?{__style:{paddingTop:0,paddingBottom:30}}:void 0,children:[(0,v.jsx)(l.xu,{left:!0,position:"absolute",top:!0,color:"default",padding:4,"data-test-id":"close-seo-vase-see-more-button",children:(0,v.jsx)(l.hU,{accessibilityLabel:S._('Cancel', 'close modal icon', 'close modal icon'),icon:"cancel",size:"sm",onClick:()=>{(0,u.My)("mweb.unauth.see_more.dismissed"),w({action:"click",item:"close-seo-vase-see-more-button"}),k(!1),o&&(0,u.My)("mweb.unauth.see_more.main_pin.dismissed")},iconColor:"gray"})}),(0,v.jsx)(l.xu,{marginBottom:R?0:8,children:(0,v.jsx)(l.xv,{align:R?"start":"center",weight:R?void 0:"bold",children:(0,v.jsx)("span",{className:"deprecatedTextSizeXL",children:R?null:S._('More information', 'more information label', 'more information label')})})}),(0,v.jsx)(b.Z,{dedupeVisualAnnotations:e,pinCreditPrefix:h,onClickTitleOrDomain:g,pinId:y,pinKey:D})]});return x?(0,v.jsx)(l.xu,{display:"none",children:F}):(0,v.jsxs)(l.xu,{right:!0,"data-test-id":"SeoVaseSeeMoreButton",dangerouslySetInlineStyle:{__style:{float:"right"}},children:[(0,v.jsx)(l.hU,{accessibilityLabel:S._('See more', 'more information icon', 'more information icon'),icon:"ellipsis",iconColor:null!=i?i:"gray",size:t||"md",onClick:({event:i})=>{i.stopPropagation(),(0,u.My)("mweb.unauth.see_more.shown."+(o?"main_pin":"related_pins")),w({action:"click",item:"seo-vase-see-more-button"}),C||c?(k(!0),o&&(0,u.My)("mweb.unauth.see_more.main_pin.shown")):j({pinId:y||"",location:o?"main-pin-more-information":"non-main-pin-more-information",vaseSection:(0,v.jsx)(b.Z,{dedupeVisualAnnotations:e,pinCreditPrefix:h,onClickTitleOrDomain:g,pinId:y,pinKey:D})})}}),I&&!E?(0,v.jsx)(l.xu,{display:A?"flex":"none",children:F}):(0,v.jsx)(f,{showFullScreenInfo:A,isOpen:A&&!C,interstitialUpsellDismissed:!!T,children:F}),C&&A&&(0,v.jsx)(r.default,{accessibilityModalLabel:"test",onDismiss:()=>{},children:F})]})}function w(e){const i=(0,o.useFragment)(P,e.graphqlRef);return(0,v.jsx)(S,{dedupeVisualAnnotations:e.dedupeVisualAnnotations,iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,pinId:e.pinId,renderOnlyHiddenSEOContent:e.renderOnlyHiddenSEOContent,graphqlRef:i})}function I(e){return(0,v.jsx)(S,{dedupeVisualAnnotations:e.dedupeVisualAnnotations,iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,pinId:e.pinId,renderOnlyHiddenSEOContent:e.renderOnlyHiddenSEOContent})}function T(e){return(0,c.Z)({name:"PinResource",options:{id:e.pinId,field_set_key:"unauth_ssr_lazy_load"}}),(0,v.jsx)(I,{...e})}function A(e){return e.graphqlRef?(0,v.jsx)(w,{...e}):e.lazyLoadAnnotations?(0,v.jsx)(T,{...e}):(0,v.jsx)(I,{...e})}},729239:(e,i,t)=>{t.d(i,{Z:()=>h});var n=t(667294),a=t(883119),o=t(604541),l=t(24286),r=t(282442),s=t(946579),d=t(549201),c=t(272109),u=t(372836),p=t(367184),_=t(812889),m=t(785893);function h({customLayoutType:e,emptyState:i,feedItems:t,feedKey:h,pagination:{hasNext:g,isLoadingNext:y,loadNext:v,refetch:f},pullToRefresh:x,renderFeedItem:b,serverRender:P}){const S=(0,d.HG)(),[w,I]=(0,n.useState)(!1),T="userSearch"===e?window.innerWidth-16:200,A=y&&0===t.length&&!w,k="desktopFlashlight"===e?0:l.qG;return(0,c.Z)((()=>(window.addEventListener("online",v),()=>window.removeEventListener("online",v)))),(0,m.jsxs)(a.xu,{"data-test-id":"MobileFeed",children:[(0,m.jsx)(p.Z,{enabled:!!x,onPull:()=>{f(),I(!0)},refreshing:w}),(0,m.jsxs)(a.xu,{marginStart:k,marginEnd:k,"data-test-id":"grid",opacity:w?.5:1,children:[(0,m.jsx)(r.Z,{isAtEndOfFeed:!g,itemCount:t.length,children:t.length?(0,m.jsx)(a.xu,{"data-test-id":"feed",marginTop:(0,u.kk)({isDesktop:S}),children:(0,m.jsx)(s.Z.Consumer,{children:i=>(0,m.jsx)(n.Fragment,{children:(0,m.jsx)(u.c$,{children:(0,m.jsx)(o.Z,{cacheKey:h,id:P?h:void 0,items:t,scrollContainerRef:i,serverRender:P,columnWidth:S?l.yF:T,renderItem:({data:e,itemIdx:i})=>b(e,i),gutterWidth:S?4*l.jC:void 0,loadItems:v,minCols:"userSearch"===e?1:2})})})})}):y?(0,m.jsx)(u.gG,{}):null!=i?i:null}),A&&(0,m.jsx)(a.xu,{column:12,paddingY:2,children:(0,m.jsx)(_.Z,{partialViewportWidth:"desktopFlashlight"===e})})]})]})}},510336:(e,i,t)=>{t.d(i,{Z:()=>c,j:()=>s});var n=t(883119),a=t(536042),o=t(630089),l=t(245410),r=t(785893);const s=[0,2,3],d="Ad • ";function c({hasAffiliatedProducts:e,isPromoted:i,sponsorName:t,sponsorshipStatus:c,textColor:u}){const p=(0,a.ZP)(),_=(0,l.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled;let m;i?m=(0,o.nk)(p._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:t}):c||0===c?t&&!s.includes(c)?m=(0,o.nk)(p._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:t}):2!==c&&(m=p._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(m=p._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'));const h=_&&!i&&d||"";return(0,r.jsxs)(n.xv,{color:u,size:"100",children:[h,(0,r.jsx)(o.r7,{text:m})]})}},462887:(e,i,t)=>{t.d(i,{Z:()=>d,j:()=>s});var n=t(883119),a=t(536042),o=t(630089),l=t(245410),r=t(785893);const s=[0,2,3];function d({hasAffiliateProducts:e,href:i,isPromoted:t,onNavigateSponsorClick:d,sponsorName:c,sponsorUsername:u,sponsorshipStatus:p,textWeight:_="bold"}){const m=(0,a.ZP)(),h=(0,l.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,g=(0,l.F)().checkExperiment("web_remove_paid_partnership_in_rejected_state").anyEnabled,y=i||(u?`/${u}/`:null),v=y&&c?(0,r.jsx)(n.rU,{href:y,onClick:d,children:(0,r.jsx)(n.xv,{weight:_,size:"200",children:c})},c):void 0;let f;t?f=(0,o.nk)(m._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:v}):p||0===p?c&&!s.includes(p)?f=(0,o.nk)(m._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:v}):g&&2===p||(f=m._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(f=m._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'));const x=h&&!t?"Ad • ":"";return(0,r.jsxs)(n.xv,{inline:!0,size:"200",lineClamp:2,children:[x,f]})}},618671:(e,i,t)=>{t.d(i,{f:()=>r,w:()=>s});var n=t(667294),a=t(583592),o=t(785893);const{Provider:l,useHook:r}=(0,a.Z)("Session");function s({children:e}){const[i,t]=(0,n.useState)(void 0),a=(0,n.useCallback)((()=>t(void 0)),[]),r=(0,n.useMemo)((()=>({unauthFollowUserId:i,setUnauthFollowUserId:t,removeUnauthFollowUserId:a})),[i,a]);return(0,o.jsx)(l,{value:r,children:e})}},197838:(e,i,t)=>{t.d(i,{Z:()=>S});var n,a=t(667294),o=t(167912),l=t(883119),r=t(536042),s=t(874261),d=t(465991),c=t(282802),u=t(618569),p=t(230910),_=t(525104),m=t(646081),h=t(785893);const g="\ndiv::-webkit-scrollbar {\n  display: none;\n}\n",y=void 0!==n?n:n=t(717988);function v({direction:e,handleClick:i,testId:t,isRTL:n}){const a=(0,r.ZP)(),o=(0,u.Z)(),s=n?["arrow-back","arrow-forward"]:["arrow-forward","arrow-back"];return(0,h.jsx)("div",{style:{alignItems:"center",background:`linear-gradient(to ${"left"===e?"right":"left"}, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)`,border:"none",cursor:"pointer",display:"flex",height:30,lineHeight:25,outline:"none",position:"absolute",top:0,width:45,..."right"===e?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0,justifyContent:"flex-start",textAlign:"left"}},onClick:e=>{o({action:"click",item:"board-pills-arrow"}),i(e)},role:"button","aria-label":"arrow",tabIndex:-1,"aria-hidden":"true","data-test-id":t,children:(0,h.jsx)(l.xu,{position:"absolute",left:"left"===e,right:"right"===e,borderStyle:"none",children:(0,h.jsx)(l.xu,{"data-test-id":"board-pills-arrow",children:(0,h.jsx)(l.JO,{accessibilityLabel:a._('Scroll', 'annotations.scrollArrow', 'Accessibility label for scroll arrow button'),icon:"left"!==e?s[0]:s[1],size:8,color:"subtle"})})})})}function f({name:e,url:i}){const[t,n]=(0,a.useState)(!1),o=(0,u.Z)();return(0,h.jsx)(l.xu,{"data-test-id":"vase-tag",display:"inlineBlock",marginTop:1,marginEnd:1,paddingX:2,paddingY:1,height:26,color:"secondary",rounding:8,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:(0,h.jsx)(l.xv,{color:t?"subtle":"default",inline:!0,overflow:"breakWord",size:"100",weight:"bold",children:i?(0,h.jsx)(l.rU,{display:"inlineBlock",tapStyle:"compress",href:i,rounding:8,onClick:()=>{o({action:"click",item:"vase-tag"})},underline:"hover",children:e}):e})})}function x({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:i,mode:t,showVaseTagsAsHashtagsGroup:n}){const o=(0,a.useRef)(null),[r,_]=(0,a.useState)(!1),[m,y]=(0,a.useState)(!1),x=(0,u.Z)(),{isRTL:b}=(0,c.B)(),P=n&&n.startsWith("enabled")&&"enabled_collapsible_heading"!==n&&n.split("_");let S="";P&&P.length>2&&(S=P[2]),(0,a.useEffect)((()=>{const e=o.current,i=()=>{if("inlineWithScrollArrows"===t&&o.current){const e=o.current,i=Math.abs(e.scrollLeft||0),t=Math.abs(e.scrollWidth||0),n=i>4,a=i+e.clientWidth<t-4,l=b?a:n;_(b?n:a),y(l)}else _(!1),y(!1)};return i(),null==e||e.addEventListener("scroll",i),()=>{null==e||e.removeEventListener("scroll",i)}}),[t,b]);const w=e=>i=>{i.preventDefault(),i.stopPropagation(),"right"===e&&x({action:"click",item:"board-pills-arrow-button-right"});const t=o.current;if(!t)return;const n=("left"===e?-1:1)*t.clientWidth*.5;t.scrollBy(n,0)},{annotationsWithLinks:I}=(0,d.eK)({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:i});return I.map((e=>{const i=e.name||"";if(P){const t=(0,p.bb)(i,S);e.name=t}return e})),(0,h.jsx)(l.kC,{alignItems:"center",justifyContent:"end",children:(0,h.jsxs)(l.xu,{display:"flex",overflow:"auto",width:"100%",position:"relative","data-test-id":"vase-carousel",children:[(0,h.jsx)(s.Z,{unsafeCSS:g}),m&&(0,h.jsx)(v,{direction:"left",handleClick:w("left"),testId:"left-scroll-arrow",isRTL:b}),(0,h.jsx)(l.xu,{overflow:"auto",padding:0,dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",scrollbarWidth:"none",whiteSpace:"nowrap"}},ref:o,children:I.map((({name:e,url:i})=>(0,h.jsx)(f,{name:e,url:i},i||e)))}),r&&(0,h.jsx)(l.xu,{"data-test-id":"board-pills-arrow-button-right",children:(0,h.jsx)(v,{direction:"right",handleClick:w("right"),testId:"right-scroll-arrow",isRTL:b})})]})})}function b({dedupeVisualAnnotations:e,graphqlRef:i,mode:t,pinId:n,showVaseTagsAsHashtagsGroup:a}){var l;const r=(0,o.useFragment)(y,i),s=(0,m.Z)(r);let d=(null==r||null===(l=r.pinJoin)||void 0===l?void 0:l.visualAnnotation)||[];return e&&(d=e({pinId:n,visualAnnotations:d})),d.length<1?null:(0,h.jsx)(x,{mode:t,showVaseTagsAsHashtagsGroup:a,pinJoinVisualAnnotation:d,pinJoinAnnotationsWithLinks:s||void 0})}function P(e){var i,t,n;const a=(0,_.S6)()(e.pinId);return((null==a||null===(i=a.pin_join)||void 0===i?void 0:i.visual_annotation)||[]).length<1?null:(0,h.jsx)(x,{mode:e.mode,pinJoinVisualAnnotation:null==a||null===(t=a.pin_join)||void 0===t?void 0:t.visual_annotation,pinJoinAnnotationsWithLinks:null==a||null===(n=a.pin_join)||void 0===n?void 0:n.annotations_with_links})}function S(e){return e.graphqlRef?(0,h.jsx)(b,{...e}):(0,h.jsx)(P,{...e})}},50169:(e,i,t)=>{t.d(i,{Z:()=>P});var n=t(667294),a=(t(167912),t(883119)),o=t(825389),l=t(536042),r=t(630089),s=t(898252),d=t(465991),c=t(282802),u=t(51536),p=t(98736),_=t(618569),m=t(549201),h=t(32762),g=t(785893);function y({boardUrl:e,boardName:i,boardPrivacy:t,pinnerFullName:n,pinnerImageSmallUrl:o,pinnerImageLargeUrl:l}){const r=(0,m.HG)(),s=(0,_.Z)();if(!e||!i)return null;const d=e.split("/")[1],c=n||d,u=o||l;return(0,g.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[u?(0,g.jsx)(a.Tg,{href:`/${d}/`,fullWidth:!1,tapStyle:"compress",onTap:()=>{(0,p.My)(`pcons.${r?"desktop":"mobile"}.see-more-button-creator`),s({action:"click",item:"see-more-button-creator"})},children:(0,g.jsx)(a.xu,{rounding:"circle",width:32,height:32,overflow:"hidden",marginEnd:2,"data-test-id":"see-more-button-creator",children:(0,g.jsx)(a.Ee,{naturalHeight:32,naturalWidth:32,alt:c,fit:"cover",color:"rgb(231, 186, 176)",src:u})})},"profile-link"):null,(0,g.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,g.jsx)(a.xu,{"data-test-id":"see-more-button-creator-full-name",children:(0,g.jsx)(a.iP,{onTap:()=>{(0,p.My)(`pcons.${r?"desktop":"mobile"}.see-more-button-creator-full-name`),s({action:"click",item:"see-more-button-creator-full-name"})},children:(0,g.jsx)(a.xv,{color:"default",inline:!0,size:"100",weight:"bold",children:(0,g.jsx)(a.rU,{href:`/${d}/`,display:"inlineBlock",tapStyle:"compress",underline:"hover",children:c},"profile-link")},"profileLink")})}),"protected"===t?null:(0,g.jsx)(a.xv,{color:"default",inline:!0,size:"100",children:(0,g.jsx)(a.rU,{href:null!=e?e:"",display:"inlineBlock",tapStyle:"compress",underline:"hover",children:null!=i?i:""},"board-link")},"boardLink")]})]})}var v,f=t(197838);const x=void 0!==v?v:v=t(298262);function b({dedupeVisualAnnotations:e,pin:i,pinId:t,queryRef:o,onClickTitleOrDomain:v,pinCreditPrefix:x}){var b,P,S,w,I,T,A,k,E;const C=(0,l.ZP)(),j=(0,m.ml)(),R=(0,m.Wb)(),{isAuthenticated:D,isBot:F}=(0,c.B)(),L=(0,_.Z)(),O=!D&&!F&&j,z=v||null,[N,M]=(0,n.useState)(!1),B=(0,h.si)(),Z=(0,h.Re)(),U=(0,d.fs)({pinTitle:i.title,gridTitle:i.gridTitle,richSummaryDisplayName:null===(b=i.richSummary)||void 0===b?void 0:b.displayName,richMetadataTitle:null===(P=i.richMetadata)||void 0===P?void 0:P.title,storyPinDataId:i.storyPinDataId,storyPinDataMetadataPinTitle:null===(S=i.storyPinData)||void 0===S||null===(w=S.metadata)||void 0===w?void 0:w.pinTitle})||i.description,K=(U||"").length>Z,{description:G}=(0,d.eK)({richMetadataDescription:null===(I=i.richMetadata)||void 0===I?void 0:I.description,richSummaryDisplayName:null===(T=i.richSummary)||void 0===T?void 0:T.displayName,closeupUnifiedDescription:i.closeupUnifiedDescription}),H=G.length>B,[V,W]=(0,n.useState)(!H&&!K),$=(0,s._S)(i.domain)?i.domain:"";return(0,g.jsxs)(a.xu,{children:[(0,g.jsxs)(a.xu,{children:[(0,g.jsxs)(a.xu,{as:"figcaption",paddingX:R?11:0,children:[(0,g.jsx)(a.X6,{id:"vase-pin-title",color:"default",size:"300",accessibilityLevel:3,children:N||F?U:(0,u.Z)(U||"",Z)}),!!U&&(0,g.jsx)(a.xu,{height:G?8:0}),G&&(H||K)?(0,g.jsx)(a.xu,{"data-test-id":"vase-pin-description",children:(0,g.jsxs)(a.iP,{onTap:()=>{N||D||((0,p.NC)("click_open_description_in_sheet"),L({action:"click",item:"more-description-in-sheet"})),W(!V),M(!N)},fullWidth:!1,children:[(0,g.jsx)(a.xv,{color:"default",size:"200",inline:!0,children:N||F?G:(0,u.Z)(G,B)}),(0,g.jsx)(a.xu,{display:"inlineBlock",paddingX:1,children:(0,g.jsx)(a.xv,{weight:"bold",size:"200",inline:!0,children:N||F?C._('Less', 'Toggle less description button', 'Toggle less description button'):C._('More', 'Toggle more description button', 'Toggle more description button')})})]})}):(0,g.jsx)(a.xu,{"data-test-id":"vase-pin-description",children:(0,g.jsx)(a.xv,{color:"default",size:"200",inline:!0,children:G})})]}),O&&(V||F)&&!!$&&(0,g.jsx)(a.xu,{marginTop:2,children:(0,g.jsx)(a.kC,{alignItems:"center",direction:"row",width:"100%",children:(0,r.nk)(C._('{{ pinCreditPrefix }} {{ pinCredit }}', 'tells the user where the pin is from in the form of Saved from website', 'tells the user where the pin is from in the form of Saved from website'),{pinCreditPrefix:(0,g.jsx)(a.xu,{display:"inlineBlock",children:(0,g.jsx)(a.xv,{inline:!0,size:"200",children:x})},"pinCreditsPrefix"),pinCredit:(0,g.jsxs)(a.xu,{display:"inlineBlock",marginStart:1,maxWidth:"60vw","data-test-id":"pin-domain-link",children:[z&&(0,g.jsx)(a.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),L({action:"click",item:"pin-domain-link"}),(0,p.My)("mweb_pin_page.pin_link.clickthrouh"),D||(0,p.NC)("click_pin_closeup_link_clickthrough"),z()},tapStyle:"compress",children:(0,g.jsx)(a.xv,{size:"200",lineClamp:1,children:(0,g.jsx)("span",{style:{textDecoration:"underline"},children:$})},"pinLinkDomain")}),i.link&&!z&&(0,g.jsx)(a.rU,{href:i.link,children:(0,g.jsx)(a.xv,{size:"200",underline:!0,children:$})})]},"pinCredits")})})})]}),!!i.board&&(V||F)&&(0,g.jsx)(a.xu,{marginTop:4,children:(0,g.jsx)(y,{boardUrl:i.board.url||void 0,boardName:i.board.name||void 0,boardPrivacy:i.board.privacy||void 0,pinnerFullName:(null===(A=i.pinner)||void 0===A?void 0:A.fullName)||void 0,pinnerImageSmallUrl:null===(k=i.pinner)||void 0===k?void 0:k.imageSmallUrl,pinnerImageLargeUrl:null===(E=i.pinner)||void 0===E?void 0:E.imageLargeUrl})}),(0,g.jsx)(a.xu,{marginTop:4,children:(0,g.jsx)(f.Z,{dedupeVisualAnnotations:e,pinId:t,mode:"expanded",graphqlRef:o})})]})}function P({pinKey:e,pinId:i,...t}){const{data:n,childDataKey:a}=(0,o.k5)(x,e,{type:"pin",useLegacyAdapter:e=>({board:e.board&&{name:e.board.name,privacy:e.board.privacy,url:e.board.url},closeupUnifiedDescription:e.closeup_unified_description,description:e.description,domain:e.domain,gridTitle:e.grid_title,link:e.link,pinner:e.pinner&&{fullName:e.pinner.full_name,imageLargeUrl:e.pinner.image_large_url,imageSmallUrl:e.pinner.image_small_url},richMetadata:e.rich_metadata&&{description:e.rich_metadata.description,title:e.rich_metadata.title},richSummary:e.rich_summary&&{displayName:e.rich_summary.display_name},storyPinData:e.story_pin_data&&{metadata:e.story_pin_data.metadata&&{pinTitle:e.story_pin_data.metadata.pin_title}},storyPinDataId:e.story_pin_data_id,title:e.title})});return n&&(0,g.jsx)(b,{...t,pinId:i,pin:n,queryRef:"graphqlRef"===a.type?a.data:null})}},676794:(e,i,t)=>{t.d(i,{Z:()=>c});var n=t(667294),a=t(618446),o=t.n(a),l=t(788241),r=t(266769),s=t(785893);class d extends n.Component{componentDidMount(){const{setCurrentPageData:e,viewData:i,viewParameter:t,viewType:n}=this.props;e({viewData:i,viewParameter:t,viewType:n})}componentDidUpdate(e){const{setCurrentPageData:i,viewData:t,viewParameter:n,viewType:a}=this.props;n===e.viewParameter&&a===e.viewType&&o()(t,e.viewData)||i({viewData:t,viewParameter:n,viewType:a})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){const{auxData:e,children:i,component:t,objectIdStr:n,viewData:a,viewParameter:o,viewType:l,clientTrackingParams:d}=this.props;return(0,s.jsx)(r.Z,{auxData:e,component:t,objectIdStr:n,clientTrackingParams:d,viewData:a,viewParameter:o,viewType:l,children:i})}}function c(e){const{setViewContextData:i,clearViewContextData:t}=(0,l.sV)();return(0,s.jsx)(d,{...e,clearCurrentPageData:t,setCurrentPageData:i})}},266769:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(667294),a=t(563962),o=t(98736);const l=({viewType:e,viewParameter:i,viewData:t,auxData:n,objectIdStr:a,component:l,clientTrackingParams:r,element:s},d)=>{const c=(u={event_type:13,view_type:e,view_parameter:i,view_data:t,aux_data:n,object_id_str:a,component:l,clientTrackingParams:r,element:s},Object.keys(u).reduce(((e,i)=>(void 0===u[i]&&delete e[i],e)),{...u}));var u;-1===Object.keys(c).indexOf("view_type")&&(0,o.My)("mweb.logging.null_view_type"),d(c)};function r(e){const{auxData:i,clientTrackingParams:t,children:o,component:r,element:s,objectIdStr:d,viewData:c,viewParameter:u,viewType:p}=e,_=(0,a.Z)(),m=JSON.stringify(i),h=JSON.stringify(c);return(0,n.useEffect)((()=>{l(e,_)}),[_,m,t,r,s,d,h,u,p]),n.Children.only(o)}},277192:(e,i,t)=>{t.d(i,{Z:()=>h});var n=t(883119),a=t(894121),o=t(536042),l=t(599551),r=t(282802),s=t(549201),d=t(700453),c=t(115771),u=t(536540),p=t(352865),_=t(785893);const m=({deepLinkUri:e,isOpen:i,onDismiss:t,onOpenInApp:c,to:m,within:h})=>{const g=(0,o.ZP)(),y=(0,s.Wb)(),{isBot:v,userAgent:{platform:f,raw:x}}=(0,r.B)(),b=(0,p.Rp)({isBot:v,platform:f,userAgent:x}),P=(0,l.Z)({href:null!=m?m:""}),S=y?60:40;return(0,_.jsx)(a.default,{accessibilityModalLabel:"",isOpen:i,mobileHideCloseIcon:!0,type:"app_upsell_v1",zIndex:new n.Ry(101),closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,_.jsx)(d.Z,{componentType:14157,within:h,children:({handleOpenApp:i})=>(0,_.jsxs)(n.xu,{padding:3,"data-test-id":"appUpsell-iframe",children:[(0,_.jsx)(n.xu,{display:"inlineBlock",position:"absolute",children:(0,_.jsx)(n.xu,{"data-test-id":"appUpsell-continue",children:(0,_.jsx)(n.hU,{accessibilityLabel:g._('close icon background', 'accesibility label for close icon on a overlay', 'accesibility label for close icon on a overlay'),icon:"cancel",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{t({event:e}),P&&!e.defaultPrevented&&(i(),P({event:e}))},size:"lg",iconColor:"gray"})})}),(0,_.jsxs)(n.xu,{paddingX:2,paddingY:6,children:[(0,_.jsx)(n.xu,{paddingY:2,justifyContent:"center",display:"flex",children:b?(0,_.jsx)(u.Z,{size:S}):(0,_.jsx)(n.JO,{color:"brandPrimary",icon:"pinterest",accessibilityLabel:"Pinterest App",size:S})}),(0,_.jsxs)(n.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,_.jsx)(n.xu,{paddingY:2,children:(0,_.jsx)(n.X6,{align:"center",size:"400",children:b?g._('Try Pinterest Lite', 'mweb.app_upsell.lite_app_upsell_title', 'Mobile Web App Upsell title informing the value of downloading the lite app'):g._('Pinterest is better on the app', 'mweb.unauth.app_upsell.app_value_prop2', 'Mobile Web App Upsell title on Pin click informing the value of downloading an app')})}),(0,_.jsx)(n.xv,{align:"center",size:"300",children:b?g._('A space-saving way to discover new ideas', 'mweb.app_upsell.lite_app_value_prop', 'Mobile Web App Upsell subheading informing the user the value of downloading the lite app'):g._('Continue in the app for the full experience', 'mweb.app_upsell.description4', 'description on app upsell modal')}),(0,_.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:8,children:(0,_.jsx)(n.zx,{fullWidth:!0,size:"lg",color:"red",onClick:()=>{i({deepLinkUri:e}),c()},text:g._('Open app', 'mweb.app_upsell.app_upsell_button_text1', 'Button to get the Pinterest Lite app')})})]})]})]})})})};function h({clientTrackingParams:e,deepLinkUri:i,isOpen:t,onDismiss:n,onOpenInApp:a,shouldTrackDismiss:o,to:l,viewParameter:r,viewType:s,within:d}){return(0,_.jsx)(c.Z,{clientTrackingParams:e,viewType:s,viewParameter:r,children:(0,_.jsx)(m,{deepLinkUri:i,isOpen:t,onDismiss:e=>{o&&(0,c.y)(),n(e)},onOpenInApp:()=>{(0,c.y)(),a()},to:l,within:d})})}},115771:(e,i,t)=>{t.d(i,{Z:()=>u,y:()=>c});var n=t(667294),a=t(500797),o=t(611756),l=t(173085),r=t(567648),s=t(266769),d=t(785893);const c=()=>{(0,o.Nh)("appUpsell",Date.now()),(0,o.qn)("firstUpsellTime")||(0,o.Nh)("firstUpsellTime",Date.now()),(0,l.Nh)("showedAppUpsellCurrentSession",!0)};function u({children:e,clientTrackingParams:i,viewParameter:t,viewType:o}){return(0,r.Z)()||(0,a.FP)(window)?null:(0,d.jsx)(s.Z,{viewType:o,viewParameter:t,component:13106,clientTrackingParams:i,children:(0,d.jsx)(n.Fragment,{children:e})})}},808067:(e,i,t)=>{t.d(i,{Z:()=>k});var n=t(667294),a=t(616550),o=t(883119),l=t(563962),r=t(62152),s=t(536042),d=t(734417),c=t(630089),u=t(282802),p=t(98736),_=t(777849),m=t(910717),h=t(549201),g=t(802071),y=t(561445),v=t(455900),f=t(41669),x=t(328939),b=t(785893);const P=16,S=24,w=210,I=14;function T(e,i){const{full_name:t,username:n}=e,a=(0,b.jsx)(o.rU,{href:`/${n}`,display:"inlineBlock",underline:"hover",children:t},"linkToUser");return(0,c.nk)(i._('{{ linkToUser }} invited you to join this board', 'boardRep.invite.invitationText', 'Indicating that another user invited the viewer to this board'),{linkToUser:a})}const A=({children:e})=>{const i=(0,g.Z)(),t=(0,h.HG)(),n=i&&i.isAuth;return t&&n?(0,b.jsx)(o.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:e}):(0,b.jsx)(o.xv,{lineClamp:1,weight:"bold",children:e})};function k({archivedDate:e,boardUrl:i,canEdit:t,collaborators:g,collaboratorsCount:k=0,containerBackgroundColor:E,coverPhoto:C,followedByMe:j,fullSizeDrawer:R,sensitivityScreen:D,handleInviteResponse:F,hideMeta:L,id:O,invite:z,imagesLego:N=[],isBoardInviteAccepted:M,isActive:B,isAuthenticated:Z,isCollaborative:U,isCollaborator:K,isOwner:G,isProtected:H,isSecret:V,isTemporarilyDisabled:W,lastModifiedDate:$,layout:Y,locale:q,name:X,numCols:J,onEditClick:Q,onFollow:ee,onUnfollow:ie,owner:te,pinCount:ne=0,sectionCount:ae,showFollowButton:oe,viewParameter:le,viewType:re,viewerId:se,slotIndex:de}){const ce=(0,s.ZP)(),ue=(0,r.Z)(),pe=(0,d.Z)(),{pathname:_e}=(0,a.useLocation)(),me=(0,l.Z)(),he=(0,h.HG)(),{isRTL:ge}=(0,u.B)(),ye=he&&Z,ve="square"===Y?y.M0:y.z9,fe=!/\/search\/boards\//.test(_e),xe=e=>{Z||(0,p.NC)("press_follow_board"),ee&&ee(e)},be=e=>{Z||(0,p.NC)("press_unfollow_board"),ie&&ie(e)},Pe=N.map((e=>({url:e.url,name:X}))),Se=!!te&&!t&&oe,we=!G&&!K&&!(null==D||!D.show_warning),Ie={board_id:O,reason:null==D?void 0:D.reason};(0,n.useEffect)((()=>{we&&me({event_type:13,component:13861,view_type:215,aux_data:Ie})}),[]);const Te=te?te.id:void 0,Ae=[...g.filter((({id:e})=>e===Te)),...g.filter((({id:e})=>e===se&&e!==Te)),...g.filter((({id:e})=>![Te,se].includes(e)))].map((e=>{var i,t;return{name:null!==(i=ye?e.full_name:e.username)&&void 0!==i?i:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!==(t=e.image_medium_url)&&void 0!==t?t:""}}));let ke=k>=Ae.length?k-Ae.length:0;ke=ke>99?100:ke;const Ee=[...Ae,...Array(ke).fill({name:"",src:""})],Ce=ye?S:P,je=Ce/3*(2*(Ae.length>2?3:Ae.length)+1),{cardWithFollowCalculated:Re}=(0,n.useMemo)((()=>{let i=0;return!e&&fe&&(i+=1),ae&&(i+=1),e&&!he&&(i+=1),{cardWithFollowCalculated:w+i*I}}),[e,he,fe,ae]);return(0,b.jsx)(x.fS,{slotIndex:de||0,component:13669,loggingId:O,impressionData:{imageURL:null==C?void 0:C.url},auxData:{board_pin_count:null!=ne?ne:0,board_id:O},viewParameter:le,viewType:re,children:({impressionTrackerRef:a})=>(0,b.jsxs)(o.xu,{"data-test-id":`boardCard-${X}`,position:"relative",height:Se?`max(calc(25vh + 10px), ${Re}px)`:"100%",ref:a,width:ye?ve:"100%",children:[(0,b.jsx)(v.Z,{canEdit:t,containerBackgroundColor:E,coverPhoto:C,images:Pe,isProtected:H,isSecret:V,fullSize:R,showSensitivityScreen:we,isActive:B,onEditClick:Q,layout:Y,isTemporarilyDisabled:W}),!L&&(0,b.jsx)(n.Fragment,{children:z&&!W?(0,b.jsxs)(n.Fragment,{children:[(0,b.jsxs)(o.xu,{padding:2,alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,b.jsxs)(o.xu,{width:"100%",children:[(0,b.jsx)(o.rU,{href:null!=i?i:"",children:(0,b.jsx)(o.xu,{marginTop:0,marginBottom:1,children:(0,b.jsx)(A,{children:X})})}),M?(0,b.jsx)(o.xv,{size:"200",lineClamp:1,children:ce._('You\u2019ve joined', 'boardRep.invite.invitationAcceptedText', 'Text shown after accepting collaborator board invitations')}):(0,b.jsx)(o.xv,{size:"200",children:T(z.invited_by_user,ce)})]}),(0,b.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:je,minWidth:je,height:Ce,children:(0,b.jsx)(o.HE,{accessibilityLabel:_.U+(ce._('Board has collaborators', 'BoardCard.AvatarGroup.Collaborators', 'Board description: title, number of pins, date, and it has collaborators or not.')),collaborators:Ee})})]}),M?(0,b.jsx)(o.xu,{direction:"row",display:"flex",paddingX:2,children:(0,b.jsx)(o.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,b.jsx)(o.ZP,{href:null!=i?i:"",fullWidth:!0,size:"lg",text:ce._('See board', 'boardRep.invite.seeBoardButton', 'Button text to see board after accepting collaborator invite')})})}):(0,b.jsxs)(o.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,b.jsx)(o.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,b.jsx)(o.zx,{fullWidth:!0,onClick:()=>{null==F||F(!1)},size:"lg",text:ce._('Decline', 'boardRep.invite.declineButton', 'Button text to decline board collaborator invite or request')})}),(0,b.jsx)(o.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,b.jsx)(o.zx,{fullWidth:!0,color:"red",onClick:()=>{null==F||F(!0)},size:"lg",text:ce._('Accept', 'boardRep.invite.acceptButton', 'Button text to accept board collaborator invite or request')})})]})]}):(0,b.jsxs)(o.xu,{height:ye?void 0:y.s0,marginTop:ye?0:1,paddingX:2,paddingY:ye?2:0,children:[(0,b.jsxs)(o.xu,{alignItems:"center","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,b.jsx)(A,{children:X}),U&&!W&&(0,b.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:je,minWidth:je,height:Ce,children:(0,b.jsx)(o.HE,{accessibilityLabel:_.U+(ce._('Board has collaborators', 'BoardCard.AvatarGroup.Collaborators', 'Board description: title, number of pins, date, and it has collaborators or not.')),collaborators:Ee})})]}),(0,b.jsxs)(o.xu,{alignItems:he?"center":"start",direction:he?"row":"column",display:"flex",marginTop:1,children:[(0,b.jsxs)(o.xv,{size:"100",lineClamp:1,children:[(0,b.jsx)(_.Z,{}),(0,c.nk)(ce.ngettext('{{ count }} Pin', '{{ count }} Pins', ne, 'profile.ProfilePage.board.BoardCard.PinsCount', 'label for n amount of pins'),{count:pe(q,ne,{})})]}),!!ae&&(0,b.jsx)(o.xv,{size:"100",children:(0,b.jsxs)(n.Fragment,{children:[he?(0,b.jsx)(m.Z,{ariaHidden:!0}):void 0,(0,b.jsx)(_.Z,{}),(0,c.nk)(ce.ngettext('{{ count }} section', '{{ count }} sections', ae, 'profile.ProfilePage.board.BoardCard.SectionsCount', 'label for n amount of sections'),{count:ae})]})}),!e&&fe&&(0,b.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{display:ye?"inline-flex":"inline",paddingLeft:he?7:0,paddingRight:ge?7:0}},children:(0,b.jsxs)(o.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,b.jsx)(_.Z,{}),ue($,!0)]})}),e&&!he&&(0,b.jsxs)(o.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,b.jsx)(_.Z,{}),ce._('Archived', 'profile.ProfilePage.BoardCard.ArchivedText', 'label for archived boards')]})]}),Se&&(0,b.jsx)(o.xu,{marginTop:2===J?3:void 0,column:2===J?12:void 0,flex:"none",children:(0,b.jsx)(f.Z,{disabled:null==te?void 0:te.blocked_by_me,followEventType:26,id:O,isFollowed:j,onFollow:xe,onUnfollow:be,shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:le,viewType:re})})]})})]})})}},586058:(e,i,t)=>{t.d(i,{Z:()=>v});var n=t(702664),a=t(883119),o=t(245410),l=t(282802),r=t(98736),s=t(618569),d=t(802071),c=t(808067),u=t(122686),p=t(13260),_=t(736595),m=t(107877),h=t(785893);const g=["thumbnail","imageOnly"],y="write";function v({boardId:e,containerBackgroundColor:i,forwardedRef:t,fullSize:v,showFollowButton:f=!0,showPinCount:x=!0,type:b,viewParameter:P,viewType:S,slotIndex:w}){var I,T,A;const k=(0,d.Z)(),E=k&&k.isAuth,C=(0,n.useDispatch)(),{locale:j}=(0,l.B)(),R=(0,s.Z)(),D=(0,m.gC)()(e),F=(0,u.Z)(),{checkExperiment:L}=(0,o.F)(),O=k.isAuth?k.id:"";if(!D)return null;const{owner:z}=D,N=[z,...D.collaborating_users||[]].filter(Boolean).map((({id:e,image_medium_url:i,username:t})=>({id:e,image_medium_url:i,username:t}))),M=(null==z?void 0:z.id)===O,B=N.filter((({id:e})=>e===O)).length>0;if("secret"===D.privacy&&!B)return null;const Z="grid"===b||"thumbnail"===b?2:4,U=F(D,Z),K={isCustom:D.has_custom_cover,url:U,position:(0,p.Bw)(D.cover_pin)},G=(0,p.Jx)(D,U).map((({url:e})=>({name:(0,p.po)(e),url:e}))),H=!!D.is_temporarily_disabled&&(L("mweb_hide_u16_group_board").anyEnabled||L("unauth_hide_u16_group_board").anyEnabled),V=(0,h.jsx)(c.Z,{archivedDate:null!==(I=D.archived_by_me_at)&&void 0!==I?I:void 0,canEdit:!!D.access&&D.access.includes(y),collaborators:N,collaboratorsCount:D.collaborator_count,containerBackgroundColor:i,coverPhoto:U?K:null,followedByMe:D.followed_by_me,fullSizeDrawer:v,hideMeta:g.includes(b),id:D.id,imagesLego:G,isAuthenticated:E,isCollaborative:D.is_collaborative,isCollaborator:B,isOwner:M,isProtected:"protected"===D.privacy,isSecret:"secret"===D.privacy,isTemporarilyDisabled:H,lastModifiedDate:"full"===b?D.board_order_modified_at:"",locale:j,name:null!==(T=D.name)&&void 0!==T?T:"",numCols:Z,onFollow:e=>C((0,_.Z)(e)),onUnfollow:e=>C((0,_.f)(e)),owner:z,pinCount:x&&D.pin_count?D.pin_count:void 0,sectionCount:null!==(A=D.section_count)&&void 0!==A?A:0,sensitivityScreen:D.sensitivity_screen,showFollowButton:f,viewParameter:P,viewType:S,viewerId:O,slotIndex:w});return!g.includes(b)&&D.url?(0,h.jsx)(a.Tg,{href:D.url,rounding:2,tapStyle:"compress",onTap:()=>{E||((0,r.NC)("click_go_to_board"),R({action:"click",item:"board-card"}))},children:(0,h.jsx)(a.xu,{ref:t,paddingY:3,children:V})}):V}},456660:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(883119),a=t(785893);function o({customCover:e,height:i,imgUrl:t,imgPos:o,width:l}){const r=i/l;let s="center center";if(e&&o){let e=1;e=o.height/o.width>r?l/o.width:i/o.height;s=`-${o.x*e}px -${o.y*e}px`}const d={backgroundImage:`url(${t})`,backgroundPosition:s,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{height:i,width:l}},children:(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:d},children:(0,a.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}},455900:(e,i,t)=>{t.d(i,{Z:()=>_});var n=t(883119),a=t(536042),o=t(282802),l=t(549201),r=t(561445),s=t(456660),d=t(548637),c=t(785893);const u=188,p={portrait4x3:"133%",square:"100%"};function _(e){var i,t;const _=(0,a.ZP)(),{containerBackgroundColor:m="white",coverPhoto:h,fullSize:g,images:y,isProtected:v,isSecret:f,isTemporarilyDisabled:x,showSensitivityScreen:b,isActive:P,canEdit:S,onEditClick:w,layout:I}=e,T=(0,l.HG)(),{isRTL:A,isAuthenticated:k}=(0,o.B)(),E=T&&k,C=y[0],j=!h&&(null===(i=y[0])||void 0===i?void 0:i.name)||_._('Cover image', 'DrawerImageGroup', 'Alt text for the main image of a board'),R=Array(2).fill(),D=new n.Ry(1),F="square"===I?r.M0:r.z9,L="square"===I?r.FP:r.FC,O=null!=C&&C.url?(0,c.jsx)(n.Ee,{alt:j,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:C.url}):(0,c.jsx)(n.xu,{color:"secondary",height:"100%",width:"100%"}),z=x||b?{filter:"blur(20px)"}:{};return(0,c.jsx)(n.zd,{height:g?"100%":void 0,rounding:4,width:"100%",wash:P,children:(0,c.jsxs)(n.xu,{"aria-hidden":!0,display:"flex",height:E?L:"100%",direction:"row",children:[(0,c.jsx)(n.sg,{span:8,children:(0,c.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:z},position:"relative",height:g?"100%":void 0,children:(0,c.jsx)(n.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:p.square}},overflow:"hidden",width:"100%",children:(0,c.jsxs)(n.xu,{"data-test-id":"drawer-image-group-first-image-container",dangerouslySetInlineStyle:{__style:{borderColor:m,borderStyle:"solid",borderWidth:"1px 0 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:[(v||f)&&(0,c.jsx)(n.xu,{left:!A,right:A,margin:2,position:"absolute",top:!0,zIndex:D,children:(0,c.jsx)(d.Z,{backgroundColor:"default",iconColor:"default",privacy:f?"secret":"protected",size:E?32:24})}),T&&null!=h&&h.url?(0,c.jsx)(s.Z,{customCover:h.isCustom,imgPos:h.position||{width:0,height:0,x:0,y:0},imgUrl:null!==(t=h.url)&&void 0!==t?t:"",width:Math.floor(F/3*2),height:L}):O]})})})}),(0,c.jsx)(n.sg,{span:4,children:(0,c.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:z},height:"100%",children:[S&&P&&(0,c.jsx)(n.xu,{left:A,right:!A,margin:2,position:"absolute",bottom:!0,zIndex:D,children:(0,c.jsx)(n.hU,{accessibilityLabel:_._('Edit', 'DrawerImageGroup.edit', 'Icon indicating that a board is editable'),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>null==w?void 0:w(e),size:"sm"})}),R.map(((e,i)=>{const t=y[T?i:i+1];return(0,c.jsx)(n.xu,{position:"relative",height:g?"50%":void 0,children:(0,c.jsx)(n.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:p.square}},overflow:"hidden",width:"100%",children:(0,c.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{borderColor:m,borderStyle:"solid",borderWidth:0===i?1:"0 1px 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:null!=t&&t.url?(0,c.jsx)(n.Ee,{alt:t&&t.name||"placeholder",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:t.url}):(0,c.jsx)(n.xu,{color:"secondary",height:"100%",width:"100%"})})})},i)}))]})}),(x||b)&&(0,c.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:x?(0,c.jsx)(n.xu,{maxWidth:u,children:(0,c.jsx)(n.xv,{align:"center",color:"light",weight:"bold",size:"200",children:_._('This board is currently unavailable', 'drawerImageGroup.unavailableBoard.heading', 'Warning text for a board that is unavailable')})}):(0,c.jsx)(n.X6,{align:"center",color:"light",size:"400",children:_._('This board may contain sensitive content', 'drawerImageGroup.sensitivityScreen.heading', 'Warning text for a board that may have sensitive content')})})]})})}},561445:(e,i,t)=>{t.d(i,{FC:()=>r,FP:()=>o,M0:()=>a,Xq:()=>s,s0:()=>n,z9:()=>l});const n=44,a=236,o=157,l=320,r=213,s=7},548637:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(883119),a=t(536042),o=t(785893);function l({backgroundColor:e="darkGray",iconColor:i="inverse",iconSize:t,privacy:l,size:r=20}){const s=(0,a.ZP)();return(0,o.jsx)(n.xu,{display:"flex",direction:"column",alignItems:"center",color:e,width:r,height:r,rounding:"circle",justifyContent:"center",children:(0,o.jsx)(n.JO,{accessibilityLabel:s._('Secret board icon', 'Icon indicating that a board is secret', 'Icon indicating that a board is secret'),color:i,icon:"secret"===l?"lock":"security",size:null!=t?t:r/2})})}},122686:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(549201),a=t(802071);function o(){const e=(0,n.HG)(),i=(0,a.Z)(),t=i&&i.isAuth;if(e&&t){return e=>{var i,t;const n=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,a=null!==(i=null===(t=e.cover_pin)||void 0===t?void 0:t.image_url)&&void 0!==i?i:n,o=e.images&&e.images["170x"]&&e.images["170x"].length?e.images["170x"][0].url:"";return a||o}}return(e,i)=>{var t,n;const a=e.has_custom_cover?e.image_cover_hd_url||e.image_cover_url:"";if(!a)return"";const o=e.cover_images&&e.cover_images["400x300"]?e.cover_images["400x300"].url:void 0,l=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,r=e.cover_images&&e.cover_images["216x146"]?e.cover_images["216x146"].url:void 0,s=null!==(t=null!==(n=null!=o?o:l)&&void 0!==n?n:r)&&void 0!==t?t:"",d=e.image_cover_url||"";return a||(i&&i>2&&s?s:"")||d}}},13260:(e,i,t)=>{t.d(i,{Bw:()=>r,Jx:()=>l,po:()=>n});const n=(e="")=>(null!=e?e:"").substring((null!=e?e:"").lastIndexOf("/")+1),a=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),o=e=>{if(!e)return()=>!0;const i=n(e);return e=>{var t;return"string"==typeof e?n(e)!==i:n(null!==(t=e.url)&&void 0!==t?t:"")!==i}},l=(e,i)=>e.images&&e.images["170x"]?e.images["170x"].filter(o(i)):e.pin_thumbnail_urls?e.pin_thumbnail_urls.filter(o(i)).map(a):[],r=e=>{var i;return null!==(i=e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})&&void 0!==i?i:{x:0,y:0,width:0,height:0}}},524378:(e,i,t)=>{t.d(i,{$o:()=>r,GW:()=>n,Jo:()=>o,Li:()=>b,MS:()=>w,Q8:()=>y,Ux:()=>d,VX:()=>h,Zo:()=>c,aD:()=>u,b2:()=>_,e_:()=>x,g2:()=>m,it:()=>P,kY:()=>f,oM:()=>S,qN:()=>l,s4:()=>s,tK:()=>v,ym:()=>p,zQ:()=>g});const n="/business/hub/?show_vmp=true",a=["FR"],o=["US","GB","CA","AU","DE","FR"].concat(["ES","IT","AT","CH","NL","BR","MX"]).filter((e=>!a.includes(e))),l={PROCESSING:"PROCESSING",FAILED:"FAILED",COMPLETED:"COMPLETED",DISAPPROVED:"DISAPPROVED",UNDER_REVIEW:"UNDER_REVIEW"},r={APPROVED:"approved",PENDING:"pending",DISAPPROVED:"declined",APPEAL_PENDING:"appeal_pending"},s=Object.freeze({APPLIED:"APPLIED",ACCEPTED:"ACCEPTED",NON_COMPLIANT:"NON_COMPLIANT",SUSPENDED:"SUSPENDED",CANCELLED:"CANCELLED"}),d=(e,i)=>{switch(e){case"IN_PROGRESS":return i._('In-progress', 'BizHubHeader.VMPEntryPointStatus.label', 'User is currently in progress of becoming a Verified Merchant');case"ACTIVE":return i._('Active', 'BizHubHeader.VMPEntryPointStatus.label', 'Users account is currently an active Verified Merchant');case"NEEDS_ATTENTION":return i._('Needs attention', 'BizHubHeader.VMPEntryPointStatus.label', 'Users account has an issue that needs attention in order to keep their Verified Merchant Status');case"SUSPENDED":return i._('Suspended', 'BizHubHeader.VMPEntryPointStatus.label', 'Users account is currently a suspended Verified Merchant');default:return e}},c=Object.freeze({UNSTARTED:"workflow-status-unstarted",IN_PROGRESS:"workflow-status-in-progress",ACCEPTED:"check-circle",ATTENTION:"workflow-status-warning",REJECTED:"workflow-status-problem",RECOMMENDED:"info-circle"}),u=Object.freeze({UNSTARTED:"dark",IN_PROGRESS:"success",ACCEPTED:"success",ATTENTION:"warning",REJECTED:"error",RECOMMENDED:"subtle"}),p="Verified merchant program not yet available in this country",_=2e3,m={can_appeal:!0,is_appeal:!1,appeal_count:0,appeal_comment:"",shipping_policy_url:"",return_policy_url:"",review_status:2,review_reasons:[]},h=Object.freeze({ACCOUNT_AGE:"ACCOUNT_AGE",DOMAIN_AGE:"DOMAIN_AGE",PROFILE_IMAGE:"PROFILE_IMAGE",PROFILE_COVER_IMAGE:"PROFILE_COVER_IMAGE",BIO:"BIO",SHOP_TAB:"SHOP_TAB",PINNER_FEEDBACK:"PINNER_FEEDBACK"}),g=[h.ACCOUNT_AGE,h.DOMAIN_AGE,h.PROFILE_IMAGE,h.PROFILE_COVER_IMAGE,h.BIO,h.SHOP_TAB,h.PINNER_FEEDBACK],y=Object.freeze({PASS:"PASS",FAIL:"FAIL"}),v=30,f=6048e5,x="show_vmp",b="true",P=Object.freeze({ACTION_CARDS_BANNER:"ACTION_CARDS_BANNER",WELCOME_BANNER:"WELCOME_BANNER",CELEBRATION_BANNER:"CELEBRATION_BANNER"}),S=3,w=.5},27991:(e,i,t)=>{t.d(i,{Nb:()=>r,Of:()=>s,YO:()=>l,ZP:()=>u,x4:()=>c});var n=t(667294),a=t(310646),o=t(578702);const l=({showProductDetailPage:e,isLargerPane:i,showCloseupContentRight:t})=>e&&i?t?o.Uj:o.zT:1,r=(0,a.qe)((({paneWidth:e,pdpCarouselSlotToPaneRatio:i,showCloseupContentRight:t,showProductDetailPage:n,viewportSize:a,maxWidth:o,descriptionPaneWidth:l})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:i,showCloseupContentRight:t,showProductDetailPage:n,viewportSize:a,maxWidth:o,descriptionPaneWidth:l}))),s={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:o.Gg,pdpCarouselSlotToPaneRatio:1,maxWidth:o.u6,descriptionPaneWidth:o.u6-o.Gg},d=(0,n.createContext)(s);function c(){const e=(0,n.useContext)(d);if(!e)throw new Error("useCloseupContext must be used within CloseupContextProvider");return e}const u=d},578702:(e,i,t)=>{t.d(i,{$T:()=>g,CI:()=>o,Ch:()=>r,Gb:()=>s,Gg:()=>n,Ie:()=>p,KP:()=>_,Kn:()=>l,Uj:()=>d,bx:()=>m,d2:()=>u,g9:()=>h,iB:()=>y,u6:()=>a,zT:()=>c});const n=508,a=2*n,o=488,l=992,r=672,s=1176,d=.6,c=.84,u=40,p=72,_=740,m=912,h=32,g=24,y={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},154522:(e,i,t)=>{t.d(i,{Cq:()=>c,Dk:()=>p,Fk:()=>a,fS:()=>d,km:()=>u,lI:()=>l,lJ:()=>o,mS:()=>s,qW:()=>r});var n=t(883119);const a=new n.Ry(1),o=3,l=new n.Ry(o),r=2,s=new n.Ry(r),d=3,c=4,u=new n.Ry(5),p=new n.Ry(100)},515367:(e,i,t)=>{t.d(i,{Z:()=>r,e:()=>l});var n=t(883119),a=t(282802),o=t(785893);const l=new n.Ry(1);function r({children:e,isImagePinForUnauthOnTablet:i}){const{isAuthenticated:t}=(0,a.B)();return(0,o.jsxs)(n.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:i?"40vw":void 0}},zIndex:t?void 0:l,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!i||void 0,top:!0,children:[(0,o.jsx)(n.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),e]})}},741099:(e,i,t)=>{t.d(i,{Z:()=>x});var n=t(667294),a=t(883119),o=t(536042),l=t(245410),r=t(397352),s=t(282802),d=t(552369),c=t(549201),u=t(464649),p=t(515367),_=t(599226),m=t(98736),h=t(618569),g=t(785893);function y({setShowClickthroughOverlay:e,isEligibleForPdp:i,isEligibleForDesktopSocialInviteOverlay:t,inviterFirstName:l}){const r=(0,o.ZP)(),s=(0,h.Z)(),d=(0,_.Z)(),u=(0,n.useRef)(),p=(0,c.ZP)(),y="desktop"===p,v=l&&t,f=v&&(r._('Sign up to join {{ name }} on Pinterest', 'pin.closeup.wash.desktop.shareNotification', 'Clickthrough overlay for desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",l),x=r._('Click to make the most out of this idea with a free account', 'web.unauth.plp.clickable_wash.header', 'Copy shown on hover to sign up for an account'),b=r._('Tap to make the most out of this idea with a free account', 'mweb.unauth.plp.clickable_wash.header', 'Pin clickable wash header text'),P=y?f||x:b;return(0,g.jsx)(a.iP,{onMouseEnter:()=>{v&&(0,m.My)("dweb.main_pin.social.wash.view"),(0,m.My)("dweb.pin.wash.view")},onMouseLeave:()=>{v&&(0,m.My)("dweb.main_pin.social.wash.dismiss"),(0,m.My)("dweb.pin.wash.dismiss")},onTap:({event:e})=>{y&&(e.preventDefault(),s({action:"click",item:"pin-image"}),t&&l&&(0,m.My)("dweb.main_pin.social.wash.click"),(0,m.My)("dweb_unauth_main_pin_image_click.signup_modal.show"),d({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_closeup",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}}),i&&(0,m.My)("unauth.pdp.pin.img.click",{device:p}))},children:(0,g.jsxs)(a.xu,{zIndex:new a.Ry(2),children:[(0,g.jsx)(a.xu,{top:!0,bottom:!0,left:!0,right:!0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:t?"center":void 0,direction:"column",position:"absolute",ref:u,"data-test-id":"main-pin-hover-overlay",children:(0,g.jsx)(a.xu,{paddingY:10,display:"flex",alignItems:"center",maxWidth:240,direction:"column",children:(0,g.jsx)(a.xu,{marginTop:8,children:(0,g.jsx)(a.X6,{size:v?"500":"400",align:"center",color:"light",children:P})})})}),!y&&(0,g.jsx)(a.xu,{position:"absolute",top:!0,right:!0,marginTop:4,marginEnd:4,children:(0,g.jsx)(a.hU,{icon:"cancel",iconColor:"white",onClick:({event:i})=>{i.stopPropagation(),e&&(e(!1),(0,m.My)("main.pin.wash.cancel"))},accessibilityLabel:r._('Close pin clickable wash', 'mweb.unauth.plp.clickable_wash.close_button', 'Close button'),size:"md"})})]})})}var v=t(963181),f=t(199999);const x=e=>{var i;const t=(0,o.ZP)(),{alt:_,clickthroughOverlayOptions:m,color:h,isFlashlightPage:x,naturalHeight:b,naturalWidth:P,placeholder:S,pwtElementTimingId:w,pwtSurfaceContext:I,setShowClickthroughOverlay:T,showSpinner:A,src:k,stickyFooter:E,isEligibleForPdp:C}=e,j=(0,u.Z)(),{checkExperiment:R}=(0,l.F)(),D=!j,{isAuthenticated:F}=(0,s.B)(),L=(0,c.ZP)(),O="desktop"===L,z=F&&!O&&R("auth_mweb_inline_action_bar").anyEnabled,N=(0,n.useRef)(),[M,B]=(0,n.useState)(!D||!!k&&!!S&&S===k),Z=(0,n.useRef)(""),U=()=>{I&&I.markConstraintComplete("PinPageMainImageRendered")};(0,n.useEffect)((()=>{const e=new Image;e.onload=()=>B(!0),e.src=k}),[]);const K=(0,n.useRef)(null===(i=(0,f.a)())||void 0===i?void 0:i.setHasScrolledPastMainContent);(0,n.useEffect)((()=>{const e=(0,d.Z)((()=>{if(N.current){var i;const t=window.scrollY>N.current.offsetTop+N.current.offsetHeight;null===(i=K.current)||void 0===i||i.call(K,t),t&&window.removeEventListener("scroll",e)}}),10);window.addEventListener("scroll",e)}),[]);const[G,H]=(0,n.useState)();(0,n.useEffect)((()=>{N.current&&H(N.current.scrollHeight)}),[]);const V=!x&&"tablet"===L,W=D?(0,g.jsx)(r.Z,{alt:_,color:h,elementTiming:w,naturalHeight:b,naturalWidth:P,src:S,onLoad:U}):null;return(0,g.jsxs)(a.xu,{"data-test-id":"pin-closeup-image",maxHeight:"100%",minHeight:G,maxWidth:"tablet"===L?v.g6:void 0,overflow:E?void 0:"hidden",position:"relative",width:x||"phone"===L?"100%":O?508:v.Hg,rounding:x||"phone"===L?0:6,ref:N,marginTop:"tablet"===L&&z?12:0,children:[!F&&m&&(0,g.jsx)(p.Z,{isImagePinForUnauthOnTablet:!1,children:(0,g.jsx)(y,{setShowClickthroughOverlay:T,inviterFirstName:Z.current,isEligibleForPdp:C})}),W&&(V?(0,g.jsx)(a.xu,{rounding:6,overflow:"hidden",children:W}):W),(0,g.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:M?1:0,transition:M&&!O?"opacity .5s ease-in-out":void 0,backgroundColor:h}},left:!0,position:D?"absolute":"relative",right:!0,rounding:V?6:5,overflow:V?"hidden":void 0,top:!0,children:D?(0,g.jsx)(a.Ee,{alt:_,naturalHeight:b,naturalWidth:P,src:k}):(0,g.jsx)(r.Z,{alt:_,color:h,elementTiming:w,naturalHeight:b,naturalWidth:P,src:k,onLoad:U})}),A&&(0,g.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:M?0:1,transition:M?"opacity .5s ease-in-out":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:!M&&(0,g.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,g.jsx)(a.$j,{accessibilityLabel:t._('Loading image', 'Loading higher resolution image', 'Loading higher resolution image'),show:!0})})}),E]})}},251951:(e,i,t)=>{t.d(i,{R:()=>o,q:()=>a});var n=t(583592);const{Provider:a,useHook:o}=(0,n.Z)("CloseupPageContext")},558533:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(883119),a=t(515367);const o=new n.H3([a.e])},768865:(e,i,t)=>{t.d(i,{IS:()=>v,Ys:()=>y,ZP:()=>T,j$:()=>b});var n,a=t(667294),o=t(167912),l=t(883119),r=t(101789),s=t(44081),d=t(536042),c=t(630089),u=t(245410),p=t(895200),_=t(549201),m=t(525104),h=t(785893);const g=void 0!==n?n:n=t(24789),y=({m:e,h:i,rm:t,rh:n},a,o=!1)=>e&&(!i||n<=0)?o?(0,c.nk)(a._('{{mins}}min', 'closeup.makeRecipeTimeText.minutes', 'number showing the minutes to complete a recipe'),{mins:t.toString()}):(0,c.nk)(a.ngettext('{{mins}} minute', '{{mins}} minutes', t, 'number showing the minutes to complete a recipe', 'number showing the minutes to complete a recipe'),{mins:t.toString()}):i?o?(0,c.nk)(a._('{{hrs}}hr {{mins}}min', 'closeup.makeRecipeTimeText.hours', 'hrs: number showing the hours to complete a recipe, mins: number showing the minutes to complete a recipe'),{hrs:i.toString(),mins:e.toString()}):(0,c.nk)(a.ngettext('{{hrs}} hour', '{{hrs}} hours', n, 'number showing the hours to complete a recipe', 'number showing the hours to complete a recipe'),{hrs:n.toString()}):null,v=({m:e,h:i,rm:t,rh:n,i18n:a})=>e&&(!i||n<=0)?(0,c.nk)(a._('{{mins}}m', 'number showing minutes to complete a recipe', 'number showing mnutes to complete a recipe'),{mins:t.toString()}):i?(0,c.nk)(a._('{{hrs}}h {{mins}}m', 'number showing hours to complete a recipe', 'number showing hours to complete a recipe'),{hrs:i.toString(),mins:e.toString()}):null,f=(e,i)=>{const t=e&&e.length>0&&e.join(", "),n=i&&i.summary;return t&&n?`${t} • ${n}`:t||n},x=e=>e?e.reduce(((e,i)=>{var t,n;return e+(null!==(t=null===(n=i.ingredients)||void 0===n?void 0:n.length)&&void 0!==t?t:0)}),0):0,b=({displayCookTime:e,i18n:i,isShortened:t})=>y((0,p.u)(e),i,t);function P({category:e,ingredients:i,textSize:t="300",isOnePinEnabled:n}){return(0,h.jsxs)(l.xu,{marginBottom:4,children:[e&&(0,h.jsx)(l.xu,{children:(0,h.jsx)(l.xv,{weight:"bold",size:t,children:e})}),(null!=i?i:[]).map((e=>{var i,a;return(0,h.jsx)(l.xu,{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",marginTop:1,children:(0,h.jsxs)(l.xv,{size:t,children:[n?"•":""," ",e.amt||null," ",e.name]})},`${null!==(i=e.name)&&void 0!==i?i:""}-${null!==(a=e.name)&&void 0!==a?a:""}`)}))]})}const S=({categorizedIngredients:e,displayCookTime:i,image:t,ingredientCount:n,ingredientsDescription:o,name:c})=>{const p=(0,d.ZP)(),{checkExperiment:m}=(0,u.F)(),g=(0,_.ZP)(),y=m("closeup_dweb_unauth_onepin_title_and_description").anyEnabled;if(!(i?b({displayCookTime:i,i18n:p,isShortened:y}):null)&&!n&&!o)return null;const v="desktop"===g,f=p._('Ingredients', 'Closeup.PinRecipe.ingredientsLabel', 'Ingredients category heading for recipes');return(0,h.jsxs)(l.xu,{"data-test-id":"pin-recipe-container",direction:"column",display:"flex",marginTop:12,marginBottom:4,marginEnd:6,overflow:"hidden",children:[(!y||!v)&&(0,h.jsx)(l.xu,{marginBottom:4,children:(0,h.jsx)(l.xv,{weight:"bold",align:"desktop"===g?"start":"center",children:f})}),(0,h.jsx)("meta",{content:c,itemProp:"name"}),t&&(0,h.jsx)("meta",{content:t,itemProp:"image"}),y&&v&&(0,h.jsx)(l.xu,{"data-test-id":"one-pin-layout",children:Array.isArray(e)&&e.length>0&&(0,h.jsx)(r.Z,{heading:f,children:(0,h.jsx)(s.Z,{children:e.map((({category:e,ingredients:i},t)=>{const n=`ingredient-${t}`;return(0,h.jsx)(a.Fragment,{children:(0,h.jsx)(l.xu,{marginBottom:4,children:(0,h.jsx)(P,{category:e,ingredients:i,textSize:"300",isOnePinEnabled:y})})},n)}))})})}),(!y||!v)&&Array.isArray(e)&&e.length>0&&(0,h.jsx)(l.xu,{column:12,"data-test-id":"single-column-ingredients",children:e.map((({category:e,ingredients:i},t)=>(0,h.jsx)(l.xu,{marginBottom:2,children:(0,h.jsx)(P,{category:e,ingredients:i,textSize:"300",isOnePinEnabled:y})},t)))})]})},w=({graphqlRef:e,checkExperiment:i})=>{const t=(0,o.useFragment)(g,e),{imageSpec_474x:n,richMetadata:a}=t,l=null==a?void 0:a.recipe,r=null==l?void 0:l.categorizedIngredients,s=x(r),d=(null==l?void 0:l.categorizedIngredients)&&f(l.diets,l.servingsSummary);return(0,h.jsx)(S,{categorizedIngredients:r,displayCookTime:null==l?void 0:l.displayCookTime,image:null==n?void 0:n.url,ingredientCount:s,ingredientsDescription:d,name:null==l?void 0:l.name,checkExperiment:i})},I=({pinId:e,checkExperiment:i})=>{var t,n;const a=(0,m.S6)()(e),o=(null==a||null===(t=a.rich_metadata)||void 0===t?void 0:t.recipe)||{},{display_cook_time:l,name:r,categorized_ingredients:s,diets:d,servings_summary:c}=o,u=x(s),p=s&&f(d,c);return(0,h.jsx)(S,{categorizedIngredients:s,displayCookTime:l,image:(null===(n=((null==a?void 0:a.images)||{})["474x"])||void 0===n?void 0:n.url)||"",ingredientCount:u,ingredientsDescription:p,name:r,checkExperiment:i})};function T({graphqlRef:e,pinId:i}){const{checkExperiment:t}=(0,u.F)();return e?(0,h.jsx)(w,{graphqlRef:e,checkExperiment:t}):(0,h.jsx)(I,{pinId:i,checkExperiment:t})}},979275:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(883119),a=t(536042),o=t(282802),l=t(785893);const r=({onSendButtonClick:e,trackShareTap:i,color:t,size:r,bgColor:s})=>{const d=(0,a.ZP)(),{userAgent:{platform:c}}=(0,o.B)(),u="android"===c;return(0,l.jsx)(n.hU,{accessibilityLabel:d._('Send', 'Board.Pin.SendButton', 'Accessible label for button to send a pin or a board'),onClick:({event:t})=>{e(t),i()},size:r||"lg",bgColor:s||"transparent",iconColor:t||"darkGray",icon:u?"android-share":"share"})}},873610:(e,i,t)=>{t.d(i,{w:()=>s,z:()=>r});var n=t(667294),a=t(583592),o=t(785893);const{Provider:l,useMaybeHook:r}=(0,a.Z)("CloseupPreviewContext");function s({children:e}){const[i,t]=(0,n.useState)(Object.freeze({})),a=(0,n.useMemo)((()=>({setData:(e,i)=>t((t=>({...t,[e]:i}))),getData:e=>i[e]})),[i]);return(0,o.jsx)(l,{value:a,children:e})}},32762:(e,i,t)=>{t.d(i,{Ph:()=>a,Re:()=>l,si:()=>o});var n=t(549201);const a=(e,i)=>e&&!i?e:null,o=()=>"phone"!==(0,n.ZP)()?180:130,l=()=>"phone"!==(0,n.ZP)()?180:80},994405:(e,i,t)=>{t.d(i,{J1:()=>s,Uw:()=>r,Yg:()=>c,ib:()=>p});var n=t(40660),a=t(245410),o=t(282802),l=t(549201);const r=({isDesktop:e,viewerType:i})=>"bot"===i?"seo_graphql_pin_page":"auth"===i?e?"auth_dweb_graphql_pin_page":"auth_mweb_graphql_pin_page":e?"unauth_dweb_graphql_pin_page":"unauth_mweb_graphql_pin_page",s=()=>{const e=(0,l.HG)(),i=(()=>{const{isAuthenticated:e,isBot:i}=(0,o.B)();return i?"bot":e?"auth":"unauth"})();return r({isDesktop:e,viewerType:i})},d=({checkExperiment:e,isAuthMweb:i})=>{const t=i&&e("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0}).group;return t?e=>n.Z.increment("webapp.graphql.debug_auth_mweb_graphql_pin_page",1,{event:e,group:t}):null},c=()=>{const{isAuthenticated:e}=(0,o.B)(),i=(0,l.HG)(),{checkExperiment:t}=(0,a.F)();return d({checkExperiment:t,isAuthMweb:e&&!i})};let u=0;const p=({checkExperiment:e,isAuthMweb:i})=>{const t=d({checkExperiment:e,isAuthMweb:i});t&&(u+=1,u<10&&t(`repin_${u}`))}},515213:(e,i,t)=>{t.d(i,{Z:()=>v});var n=t(667294),a=t(883119),o=t(572559),l=t(388011),r=t(24286),s=t(183929),d=t(874261),c=t(272109),u=t(785893);function p({index:e,length:i,showBadge:t}){const n=t?.8:0;return(0,u.jsx)(a.xu,{alignItems:"center",color:"selected",display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new a.Ry(1),dangerouslySetInlineStyle:{__style:{opacity:n,transition:"opacity .3s"}},children:(0,u.jsx)(a.xv,{color:"inverse",children:`${(null!=e?e:0)+1}/${i}`})})}const _=({index:e})=>{const[i,t]=(0,n.useState)(!0),a=(0,n.useRef)(),o=(0,n.useRef)();return(0,n.useEffect)((()=>(a.current=setTimeout((()=>{t(!1)}),3e3),()=>{clearTimeout(a.current)})),[]),(0,n.useEffect)((()=>{o.current?(clearTimeout(a.current),t(!0)):o.current=e}),[e]),{showBadge:i}};var m=t(164377),h=t(525104);const g="\n  .horizontal-scroll-container {\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n  ::-webkit-scrollbar {\n    display: none;\n  }",y=10;function v(e){var i,t,v,f,x;const{children:b,componentType:P,containerRef:S,contextLogData:w,disableTransition:I,gap:T=0,height:A,id:k,impressionType:E,index:C,shouldBeDragCarousel:j,showCarouselBadge:R,slideWidth:D,view:F,viewParameter:L,widthRatio:O=1}=e,{showBadge:z}=_({index:C}),{logContextEvent:N}=(0,l.v)(),M=(0,h.S6)()(k),B=(0,n.useRef)(),Z=(0,n.useRef)(),U=(0,n.useRef)(0),K=(0,n.useRef)();if((0,c.Z)((()=>{const e=Z.current;if(!e)return;const i=()=>{var e,i;const t=U.current,n=-(null!==(e=null===(i=K.current)||void 0===i?void 0:i.getBoundingClientRect().x)&&void 0!==e?e:0);if(Math.abs(t-n)>=y){N({component:P,event_type:"right"===(t<n?"right":"left")?9315:9316,view_type:F,view_parameter:L})}U.current=n};return j&&e.addEventListener("touchend",i),()=>{j&&e.removeEventListener("touchend",i)}})),O>1||O<0)throw new Error("widthRatio should be between 0 and 1 inclusive");const G=Math.floor(D*O),H=n.Children.toArray(b),V=H.length*G,W=(null===(i=S.current)||void 0===i?void 0:i.clientWidth)||V;return(0,u.jsx)("div",{className:"BoardMoreIdeasRep"===E?"moreIdeasBoardRepCarousel":"",children:(0,u.jsxs)(a.xu,{display:"flex",justifyContent:W>V?"center":"start",alignItems:"center",overflow:"hidden","data-test-id":"carousel-pin",width:j?"100vw":void 0,children:[R&&(0,u.jsx)(p,{length:H.length,index:C,showBadge:z}),"BoardMoreIdeasRep"!==E&&(0,u.jsx)(s.Z,{carouselData:M&&(0,o.Z)({carouselData:M.carousel_data,images:M.images,product:null===(t=M.rich_metadata||M.rich_summary)||void 0===t||null===(v=t.products)||void 0===v?void 0:v[0]}),contextLogData:w,trackCarousel:!0,impressionType:"Pin",loggingId:k,slotIndex:C,viewParameter:null!=L?L:72,viewType:null!=F?F:1,children:(0,u.jsx)(a.xu,{height:null!==(f=null!=A?A:null===(x=B.current)||void 0===x?void 0:x.clientHeight)&&void 0!==f?f:1,overflow:"hidden",position:"absolute",width:D})},`carousel-impression-key-${C}`),j&&(0,u.jsx)(d.Z,{unsafeCSS:g}),(0,u.jsx)("div",{className:"horizontal-scroll-container",style:{overflowX:j?"scroll":"visible",paddingLeft:j?`${r.yt}px`:void 0,paddingRight:j?`${r.yt}px`:void 0,display:"flex",flexDirection:"row",position:"relative",scrollbarWidth:0,transition:j||I?void 0:"left .3s",left:!j&&(0,m.CU)({slotWidth:G,gap:T,numberOfSlides:H.length,index:C,containerWidth:W})},ref:Z,children:H.map(((e,i)=>{const t=i===H.length-1,n=Math.ceil(T/4);let o=0;n>=-12&&n<=12&&(o=n);const l=(0,u.jsx)(a.xu,{marginEnd:t?0:o,"data-test-id":`carousel-img-${i}`,"data-carousel-indicator":"carousel-card",height:null!=A?A:void 0,ref:e=>{B.current=e,0===i&&(K.current=e)},width:G,children:e},`carousel-slot-${k}-${i}`);if("BoardMoreIdeasRep"===E){const t=e.props,n={total_object_count:null==t?void 0:t.story.objects.length,storyType:null==t?void 0:t.story.story_type,boardIdStr:null==t?void 0:t.item.board_id,slotIndex:null==t?void 0:t.slotIndex,story_id:null==t?void 0:t.story.id};return(0,u.jsx)(s.Z,{componentType:P,contextLogData:n,impressionAuxFields:n,impressionType:null!=E?E:"Pin",loggingId:k,slotIndex:i,viewParameter:null!=L?L:72,viewType:null!=F?F:1,children:l},`carousel-slot-${k}-${i}`)}return l}))})]})})}},925428:(e,i,t)=>{t.r(i),t.d(i,{default:()=>p});var n=t(702664),a=t(883119),o=t(572559),l=t(27991),r=t(55193),s=t(533451),d=t(525104),c=t(785893);const u=8;function p({carouselData:e,carouselIndex:i,componentType:t,contextLogData:p,handleCarouselSwipe:_,isCloseup:m,isEditMode:h,pinId:g,viewParameter:y,viewType:v,variant:f}){var x,b;const P=(0,d.S6)()(g),S=(0,r.Z)({type:"deprecated",data:P}),w=e||(I=(0,o.Z)({carouselData:null==P?void 0:P.carousel_data,images:null==P?void 0:P.images,product:null===(x=(null==P?void 0:P.rich_metadata)||(null==P?void 0:P.rich_summary))||void 0===x||null===(b=x.products)||void 0===b?void 0:b[0]}))&&{carouselSlots:null===(T=I.carousel_slots)||void 0===T?void 0:T.map((({id:e,title:i})=>({id:e,title:i}))),entityId:null!==(A=I.id)&&void 0!==A?A:"",index:I.index};var I,T,A;const k=(0,n.useDispatch)();if(!w)return null;const{carouselSlots:E,index:C}=w,j="number"==typeof i?i:C,R="default"===f,D=R?"white":"#555",F=R?"rgba(255, 255, 255, 0.5)":"lightGray";return(0,c.jsx)(l.ZP.Consumer,{children:({viewportSize:e})=>{var i;return"sm"===e?null:(0,c.jsx)(a.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:m?"end":"center",paddingY:h?1:0,children:E&&[...Array(null!==(i=E.length)&&void 0!==i?i:0).keys()].map((e=>{var i;return(0,c.jsx)(a.xu,{paddingX:1,children:(0,c.jsx)(a.iP,{accessibilityLabel:null!==(i=(E[e]||{}).title)&&void 0!==i?i:"",fullWidth:!1,onTap:({event:i})=>((e,i,n)=>{var a;h||void 0===s.yR||(e.preventDefault(),e.stopPropagation(),k((0,s.yR)(String(g),n))),void 0!==_&&_(n),S({pinId:g,currentIndex:null!=i?i:0,nextIndex:n,carouselData:{carouselSlots:null===(a=w.carouselSlots)||void 0===a?void 0:a.map((e=>({id:e.id}))),entityId:w.entityId},viewParameter:y,viewType:v,componentType:t,contextLogData:p,isEditMode:h})})(i,j,e),rounding:"circle",children:(0,c.jsx)(a.xu,{"data-test-id":"ellipsis-size",height:u,width:u,dangerouslySetInlineStyle:{__style:{backgroundColor:e===j?D:F}},rounding:"circle"})})},g+e)}))})}})}},310131:(e,i,t)=>{t.r(i),t.d(i,{default:()=>m});var n=t(702664),a=t(883119),o=t(572559),l=t(536042),r=t(925428),s=t(55193),d=t(533451),c=t(525104),u=t(785893);const p={cursor:"pointer",padding:"30px 16px",position:"relative",zIndex:1},_=(e,i,t,n,a,o)=>{o||void 0===n||(e.preventDefault(),e.stopPropagation(),n(i,t)),void 0!==a&&a(t)};function m({addEllipsis:e,alwaysShowNavigationArrows:i,carouselIndex:t,carouselData:m,ellipsisVariant:h,handleCarouselSwipe:g,isShowingLastSlide:y,pinId:v,contextLogData:f,viewParameter:x,viewType:b,componentType:P,isEditMode:S,forwardNode:w,backNode:I,sliderStyleOverride:T}){var A,k,E;const C=(0,l.ZP)(),j=(0,n.useDispatch)(),R=(0,c.S6)()(v),D=(0,s.Z)({type:"deprecated",data:R}),F=m||(L=(0,o.Z)({carouselData:null==R?void 0:R.carousel_data,images:null==R?void 0:R.images,product:null===(A=(null==R?void 0:R.rich_metadata)||(null==R?void 0:R.rich_summary))||void 0===A||null===(k=A.products)||void 0===k?void 0:k[0]}))&&{carouselSlots:null===(O=L.carousel_slots)||void 0===O?void 0:O.map((({id:e,title:i})=>({id:e,title:i}))),entityId:null!==(z=L.id)&&void 0!==z?z:"",index:L.index};var L,O,z;if(!F)return null;const N=(e,i)=>j((0,d.yR)(e,i)),{carouselSlots:M,index:B}=F,Z=void 0!==t?t:null!=B?B:0,U=Math.max(0,Z-1),K=Math.min((null!=M?M:[]).length-1,Z+1),G=0===Z,H=y||Z===(null!=M?M:[]).length-1,V=(e,i)=>{_(e,v,i,N,g,S),D({pinId:v,currentIndex:Z,nextIndex:i,carouselData:{carouselSlots:null==M?void 0:M.map((({id:e})=>({id:e}))),entityId:F.entityId},viewParameter:x,viewType:b,componentType:P,contextLogData:f,isEditMode:S,isEligibleForPdp:null==R?void 0:R.is_eligible_for_pdp})};return(0,u.jsxs)(a.xu,{display:"flex",justifyContent:"between",position:"absolute",alignItems:"center",left:!0,right:!0,bottom:!0,top:!0,children:[(0,u.jsx)("div",{"data-test-id":"carousel-slider-left",role:"presentation",onClick:e=>{V(e,U)},onKeyUp:e=>{V(e,U)},style:{...p,...T,pointerEvents:G?"none":"auto"},children:(0,u.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:G&&!i?"hidden":"visible",opacity:G&&i?"50%":"100%"}},display:"flex",height:"100%",justifyContent:"center",width:"100%",children:I||(0,u.jsx)(a.JO,{color:"inverse",icon:"arrow-back",accessibilityLabel:C._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image')})})}),e&&(0,u.jsx)(r.default,{pinId:v,carouselIndex:t,carouselData:{carouselSlots:null===(E=F.carouselSlots)||void 0===E?void 0:E.map((({id:e,title:i})=>({id:e,title:i}))),entityId:F.entityId,index:F.index},handleCarouselSwipe:g,variant:h||"default"}),(0,u.jsx)("div",{"data-test-id":"carousel-slider-right",role:"presentation",onClick:e=>{V(e,K)},onKeyUp:e=>{V(e,K)},style:{...p,...T,pointerEvents:H?"none":"auto"},children:(0,u.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:H&&!i?"hidden":"visible",opacity:H&&i?"50%":"100%"}},display:"flex",height:"100%",justifyContent:"center",width:"100%",children:w||(0,u.jsx)(a.JO,{color:"inverse",icon:"arrow-forward",accessibilityLabel:C._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image')})})})]})}},455256:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(667294),a=t(883119),o=t(536042),l=t(785893);const r=({iconType:e,showFab:i,backgroundColor:t,hoverColor:r,iconColor:s,size:d})=>{const c=(0,o.ZP)(),[u,p]=(0,n.useState)(!1);return(0,l.jsx)(a.zd,{rounding:6,children:(0,l.jsx)(a.xu,{opacity:u?1:.8,rounding:"circle",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),"data-test-id":"navigation-fab-container",children:(0,l.jsx)(a.xu,{width:d||48,height:d||48,color:u?r:t,display:"flex",justifyContent:"center",alignItems:"center",opacity:i?1:0,dangerouslySetInlineStyle:{__style:{transition:"opacity 0.3s linear"}},"data-test-id":"navigation-fab",children:"forward"===e?(0,l.jsx)(a.JO,{color:s,icon:"arrow-forward",accessibilityLabel:c._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image')}):(0,l.jsx)(a.JO,{color:s,icon:"arrow-back",accessibilityLabel:c._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image')})})})})}},55193:(e,i,t)=>{t.d(i,{Z:()=>s});t(167912);var n,a=t(388011),o=t(825389),l=t(473183);const r=void 0!==n?n:n=t(814118);function s(e){const{logContextEvent:i}=(0,a.v)(),{childDataKey:t}=(0,o.uf)(r,e,{useLegacyAdapter:()=>({})}),n=(0,l.Z)(t);return function({pinId:e,currentIndex:t,nextIndex:a,carouselData:o,viewParameter:l,viewType:r,componentType:s,contextLogData:d,isEditMode:c,isEligibleForPdp:u}){if(!c){const{carouselSlots:c,entityId:p}=o;i({event_type:108,object_id_str:e,component:s,view_type:r,view_parameter:l,event_data:{pinCarouselSlotEventData:{carouselSlotId:(null==c?void 0:c[t])&&Number(c[t].id),carouselDataId:Number(p),carouselSlotIndex:t,toCarouselSlotIndex:a}},aux_data:{...d,...n({isPdpPlus:u})}})}}}},251163:(e,i,t)=>{t.d(i,{O:()=>d,Z:()=>c});var n=t(667294),a=t(883119),o=t(536042),l=t(837792),r=t(785893);const s={xs:12,sm:16,md:20,lg:24};function d({children:e}){const i=(0,o.ZP)();return(0,r.jsx)(a.u,{link:(0,r.jsx)(a.rU,{href:l.vB,target:"blank",children:(0,r.jsx)(a.xv,{color:"inverse",size:"100",weight:"bold",children:i._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:i._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function c({hasVerifiedIdentity:e,iconOnly:i,isVerifiedMerchant:t,showText:l,size:c}){const u=(0,o.ZP)(),p=(0,r.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,r.jsx)(a.JO,{accessibilityLabel:u._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:s[c]}),l&&(0,r.jsx)(a.xu,{marginStart:2,children:(0,r.jsx)(a.xv,{color:"shopping",inline:!0,weight:"bold",children:u._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,r.jsxs)(n.Fragment,{children:[t&&!i&&(0,r.jsx)(d,{children:p}),t&&i&&p,e&&!t&&(0,r.jsx)(a.JO,{accessibilityLabel:u._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:s[c]})]})}},808156:(e,i,t)=>{t.d(i,{L:()=>r,r:()=>l});var n=t(788241),a=t(700746);const o=["search_articles_story","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_for_you_upsell","search_story_separator"];function l({query:e,rs:i,scope:t},o){const l=(0,n.BE)(),r=!(null!=l&&l.viewType||null!=l&&l.viewParameter),s=(0,a.wF)(t);if(!r&&s){const{viewType:t,viewParameter:n}=null!=l?l:{};o({event_type:s,view_type:t,view_parameter:n,aux_data:{query:e,rs:i||"Unknown"}})}"hashtag_closeup"===i?o({event_type:101,component:13065,element:10273,view_type:142}):"hashtag_pinrep"===i&&o({event_type:101,component:0,element:10349,view_type:142})}const r=(e=[])=>{let i=!0;return e.reduce(((e,t)=>{var n;return i&&t.story_type&&o.includes(t.story_type)&&0===(null===(n=t.display_options)||void 0===n?void 0:n.num_columns_requested)?e.searchFullWidthStories.push(t):(i=!1,e.filteredResults.push(t)),e}),{searchFullWidthStories:[],filteredResults:[]})}},666331:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(883119),a=t(313398),o=t(785893);function l({coverImages:e,height:i,isHovered:t,onClick:l,onMouseEnter:r,onMouseLeave:s,textType:d,text:c,url:u,width:p}){const _=e&&(e["236x"]||e["280x280"]);return(0,o.jsx)(a.Z,{backgroundColor:"gray",coverImage:_,height:i,isHovered:t,onClick:l,onMouseEnter:r,onMouseLeave:s,url:u,width:p,children:(0,o.jsx)(n.xu,{alignItems:"center",display:"flex",height:i,justifyContent:"center",padding:3,position:"absolute",top:!0,width:p||"100%",children:"text"===d?(0,o.jsx)(n.xu,{alignItems:"center",display:"flex",height:48,padding:3,children:(0,o.jsx)(n.X6,{align:"center",size:"500",color:"light",children:c})}):(0,o.jsx)(n.xu,{alignItems:"center",color:"secondary",display:"flex",height:48,padding:3,rounding:"pill",children:(0,o.jsx)(n.xv,{align:"center",weight:"bold",children:c})})})})}},586187:(e,i,t)=>{t.d(i,{Z:()=>v});var n=t(667294),a=t(883119),o=t(870243),l=t(536042),r=t(183929),s=t(245410),d=t(511139),c=t(637362),u=t(493851),p=t(802071),_=t(313398),m=t(157987),h=t(785893);const g=12,y=24;function v({bubble:e,contextLogData:i,disableTabIndex:t,handleReport:v,height:f,imgSignature:x,isHovered:b,onClick:P,onMouseEnter:S,onMouseLeave:w,referringSource:I,searchBoxRenderStopwatch:T,showFlag:A,slotIndex:k,storyId:E,viewParameter:C,viewType:j,width:R}){const D=(0,l.ZP)(),F=(0,p.Z)(),{id:L,action:O,aux_fields:z,cover_images:N,dominant_colors:M,identifier_icon_type:B,title:Z,story_category:U,curator:K}=e,{checkExperiment:G}=(0,s.F)(),{isAuth:H}=F;let V="",W="";if(H&&5===j){V=G("blp_explore_bubble_image_size").group;const e=V.split("_");e.length>1&&V.startsWith("enabled")&&(W=e[1])}const $=N&&N[0]&&(V.startsWith("enabled")&&W?N[0][W]:N[0]["280x280"]||N[0]["236x"]),Y=(0,u.Z)(Z&&Z.format||"",Z&&Z.args||{}),q=M&&M.length?M[0]:"gray",X=(null==O?void 0:O.url)||(0,d.Z)({storyCategory:U,query:Y,referringSource:I,bubbleId:L,storyId:E,title:Z.format,pinId:null==z?void 0:z.image_pin_id});return(0,h.jsx)(r.Z,{impressionAuxFields:{storyCategory:U,storyIdStr:E},impressionType:"Article",loggingId:L,viewType:j,viewParameter:C,slotIndex:k,contextLogData:{story_id:E,...i},children:(0,h.jsx)(_.Z,{backgroundColor:q,coverImage:$,disableTabIndex:t,height:f,id:L,isHovered:b,onClick:P,onMouseEnter:S,onMouseLeave:w,searchBoxRenderStopwatch:T,url:X,width:R,children:({isHovered:e})=>(0,h.jsxs)(n.Fragment,{children:[K&&26!==U&&(0,h.jsx)(a.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,h.jsx)(o.qE,{outline:!0,size:"xs",src:K.image_small_url,name:K.full_name})}),B&&B!==c.J&&(0,h.jsx)(a.xu,{alignItems:"center",color:"default",display:"flex",height:y,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:y,children:(0,h.jsx)(a.JO,{icon:(0,c.Z)(B),accessibilityLabel:D._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",size:g})}),(0,h.jsx)(a.xu,{display:"flex",height:f,width:R||"100%",position:"absolute",top:!0,padding:3,alignItems:26===U?"end":"center",justifyContent:"center",children:(0,h.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[f>200?(0,h.jsx)(a.X6,{size:"500",align:"center",color:"light",children:Y}):(0,h.jsx)(a.xv,{align:"center",color:"light",weight:"bold",children:Y}),K&&26===U&&(0,h.jsxs)(a.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,h.jsx)(a.xu,{marginEnd:2,children:(0,h.jsx)(o.qE,{outline:!0,size:"xs",src:K.image_small_url,name:K.full_name})}),(0,h.jsx)(a.xv,{size:"100",color:"light",children:K.full_name})]})]})}),F.isAuth&&F.isEmployee&&A?(0,h.jsx)(a.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:(0,h.jsx)(m.Z,{handleReport:v,imgSignature:x||"",isVisible:e})}):null]})})})}},313398:(e,i,t)=>{t.d(i,{A:()=>l,Z:()=>r});var n=t(667294),a=t(883119),o=t(785893);const l={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function r({backgroundColor:e,children:i,coverImage:t,disableTabIndex:r,height:s,id:d,isHovered:c,onClick:u,onMouseDown:p,onMouseEnter:_,onMouseLeave:m,searchBoxRenderStopwatch:h,url:g,width:y}){var v,f;const[x,b]=(0,n.useState)(!1),P=()=>{_?_():b(!0)},S=()=>{m?m():b(!1)},w=c||x,I=w?l.hoverOverlay:l.bubbleOverlay;return(0,o.jsx)(a.Tg,{href:g,onBlur:S,onFocus:P,onMouseDown:p,onMouseEnter:P,onMouseLeave:S,onTap:()=>{null==u||u(d)},rounding:4,tabIndex:r?-1:void 0,children:(0,o.jsx)(a.zd,{rounding:4,width:y||"100%",height:s,children:null!=t&&t.url?(0,o.jsxs)(a.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(v=t.height)&&void 0!==v?v:1,naturalWidth:null!==(f=t.width)&&void 0!==f?f:1,onLoad:()=>{null==h||h.stop()},role:"presentation",src:t.url,children:[(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:I},height:"100%",width:"100%"}),"function"==typeof i?i({isHovered:w}):i]}):(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},738783:(e,i,t)=>{t.d(i,{Z:()=>_});var n=t(883119),a=t(388011),o=t(24286),l=t(183929),r=t(518521),s=t(637362),d=t(586187),c=t(785893);const u=103,p=o.yF;function _({contextLogData:e,bubbles:i,id:t,referringSource:o,slotIndex:_,storyType:m,title:h,titleIcon:g,viewType:y,viewParameter:v}){const{logContextEvent:f}=(0,a.v)(),x={story_type:m,...e,content_ids:i.map((({type:e,id:i})=>e+":"+i)).join("|")};return(0,c.jsx)(l.Z,{viewType:y,componentType:200,viewParameter:v,loggingId:t,objectIdStr:t,contextLogData:x,impressionType:"Story",slotIndex:_,children:(0,c.jsxs)(n.xu,{children:[h&&(0,c.jsxs)(n.xu,{display:"flex",marginBottom:1,justifyContent:"center",alignItems:"center",children:["number"==typeof g&&g!==s.J&&(0,c.jsx)(n.xu,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:(0,c.jsx)(n.JO,{accessibilityLabel:"",color:"default",icon:(0,s.Z)(g),size:14})}),(0,c.jsx)(n.xv,{weight:"bold",children:(0,r.Z)(h)})]}),i.map(((e,i)=>(0,c.jsx)(n.xu,{paddingY:1,flex:"none",children:(0,c.jsx)(d.Z,{bubble:e,onClick:e=>{f({event_type:101,object_id_str:e,view_type:y,view_parameter:v,component:200,aux_data:x})},referringSource:o,height:u,width:p,storyId:t,viewType:y,viewParameter:v,slotIndex:i,contextLogData:x})},`bubble-${e.id}`)))]})})}},695458:(e,i,t)=>{t.d(i,{Z:()=>p});var n=t(667294),a=t(883119);const o={backgroundColor:"transparent"},l={backgroundColor:"rgba(216, 216, 216, 0.37)"},r={borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},s={outline:"0"};var d=t(785893);function c(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class u extends n.Component{constructor(...e){super(...e),c(this,"state",{hovered:!1}),c(this,"handleMouseEnter",(()=>this.setState({hovered:!0}))),c(this,"handleMouseLeave",(()=>this.setState({hovered:!1})))}render(){const{backgroundHaloSize:e,onClick:i,color:t="subtle"}=this.props,n=Object.freeze({height:e,width:e}),c={border:0,display:"block",background:"transparent",cursor:"pointer",...s},u={...n,...{...r,...o,...this.state.hovered?l:{}}};return(0,d.jsx)("button",{type:"button",style:c,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:e=>i&&i({event:e}),children:(0,d.jsx)("div",{style:u,children:(0,d.jsx)(a.xu,{rounding:"circle",children:(0,d.jsx)(a.JO,{accessibilityLabel:"",icon:"flag",size:e/2,color:t})})})})}}const p=u},157987:(e,i,t)=>{t.d(i,{Z:()=>h});var n=t(667294),a=t(883119),o=t(970588),l=t(88622),r=t(550140),s=t(536042),d=t(63262),c=t(695458),u=t(613352),p=t(785893);function _(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class m extends n.PureComponent{constructor(...e){var i;super(...e),i=this,_(this,"state",{showModal:!1,reportType:null}),_(this,"handleDismiss",(()=>this.setState({showModal:!1}))),_(this,"handleClick",(()=>{const{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()})),_(this,"reportSuggestionImage",(async function(){const{imgSignature:e,reportImage:t}=i.props;i.setState({showModal:!1});t((await(0,o.Z)({url:"/v3/search/pin_image_sig/",data:{image_signature:e}})).resource_response.data.id)})),_(this,"reportSuggestionText",(()=>{const{handleReport:e,toastManagerContext:i}=this.props;e&&(e(),i.showToast((({hideToast:e})=>(0,p.jsx)(r.ZP,{onHide:e,text:this.props.i18n._('Thanks\xA0for\xA0your\xA0report!\xA0This\xA0will\xA0be\xA0reviewed\xA0by\xA0our\xA0Trust\xA0and\xA0Safety\xA0Team', 'ReportingFlag.Toast.text', 'Toast\xA0after\xA0reporting\xA0a\xA0search suggestion')}))),this.handleDismiss())})),_(this,"showModal",(({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})}))}render(){const{showModal:e}=this.state;return(0,p.jsxs)(n.Fragment,{children:[this.props.isVisible&&(0,p.jsx)(c.Z,{onClick:this.showModal,backgroundHaloSize:24}),e&&(0,p.jsx)(l.ZP,{accessibilityModalLabel:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.accessibilityModalLabel', 'accessible\xA0label\xA0for\xA0report\xA0suggestion modal'),heading:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.heading', 'Heading\xA0for\xA0report\xA0suggestion modal'),onDismiss:this.handleDismiss,size:"sm",children:(0,p.jsxs)(a.xu,{children:[(0,p.jsx)(a.xu,{padding:5,children:(0,p.jsx)(a.xv,{children:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion')})}),(0,p.jsxs)(a.FX,{id:"reporting-flag-options-group",legend:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion'),legendDisplay:"hidden",children:[(0,p.jsxs)(a.xu,{role:"list",display:"flex",direction:"column",marginBottom:4,paddingX:5,children:[(0,p.jsxs)(a.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(a.FX.RadioButton,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report search text"}),(0,p.jsx)(a.xu,{flex:"grow",children:(0,p.jsx)(a.__,{htmlFor:"textType",children:(0,p.jsx)(a.xu,{paddingX:2,children:(0,p.jsx)(a.xv,{children:"Report search text"})})})})]}),(0,p.jsxs)(a.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(a.FX.RadioButton,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report search image"}),(0,p.jsx)(a.xu,{flex:"grow",children:(0,p.jsx)(a.__,{htmlFor:"imageType",children:(0,p.jsx)(a.xu,{paddingX:2,children:(0,p.jsx)(a.xv,{children:"Report search image"})})})})]})]}),(0,p.jsx)(a.iz,{}),(0,p.jsxs)(a.xu,{display:"flex",justifyContent:"end",padding:2,children:[(0,p.jsx)(a.xu,{margin:2,children:(0,p.jsx)(a.zx,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n._('Cancel', 'ReportingFlag.Box.Button.text.cancel', 'Text\xA0for\xA0cancel\xA0button\xA0when reporting search suggestion')})}),(0,p.jsx)(a.xu,{margin:2,children:(0,p.jsx)(a.zx,{fullWidth:!0,color:"red",onClick:this.handleClick,text:this.props.i18n._('Report', 'ReportingFlag.Box.Button.text.report', 'Button\xA0label\xA0to\xA0report\xA0search suggestion'),disabled:!this.state.reportType})})]})]})]})})]})}}function h(e){const i=(0,s.ZP)(),{reportImage:t}=(0,u.f)();return(0,p.jsx)(m,{...e,i18n:i,reportImage:t,toastManagerContext:(0,d.F9)()})}},233569:(e,i,t)=>{t.d(i,{N:()=>l});const n=e=>`BREAK_IN_${e}`,a=new Map,o=e=>{const i=a.get(e);if(i)return i;const t=Object.freeze({type:"FEED_BREAK_IN",__typename:"FEED_BREAK_IN",id:n(e)});return a.set(e,t),t},l=({breakIn:{index:e},items:i})=>i.length<e?i:[...i.slice(0,e),o(e),...i.slice(e)]},372836:(e,i,t)=>{t.d(i,{G9:()=>u,c$:()=>_,cn:()=>m,gG:()=>p,kk:()=>c});var n=t(883119),a=t(549201),o=t(802071),l=t(460914),r=t(411224),s=t(593502),d=t(785893);const c=({isDesktop:e})=>{const i=(0,s.pinRepPaddingInBoint)({isDesktop:e});return i?-i:0},u=-2,p=()=>{const e=(0,a.HG)(),i=(0,s.pinRepPaddingInBoint)({isDesktop:e}),t=i?-i:0;return(0,d.jsx)(n.xu,{marginTop:t,marginBottom:t,paddingY:i})},_=({children:e})=>{const i=(0,a.HG)();return!(0,o.Z)().isAuth&&i?(0,d.jsx)(r.x,{children:e}):e},m=({children:e})=>(0,d.jsx)(l.Z,{onTouch:e=>{if(e.target instanceof HTMLElement&&"IMG"===e.target.tagName){const i=e.target.getBoundingClientRect().top+window.scrollY-70;window.scrollTo(window.scrollX,i)}},pressState:"none",children:e})},884880:(e,i,t)=>{t.d(i,{Z:()=>Ie});var n=t(167912),a=t(616550),o=t(883119),l=t(448709),r=t(536042),s=t(245410),d=t(819079),c=t(769623),u=t(667294),p=t(29152),_=t(705882),m=t(870243),h=t(630089),g=t(98736),y=t(785893);const v=()=>{(0,g.NC)("click_best_pin_board",!0)},f=()=>{(0,g.NC)("click_best_pin_profile",!0)},x=e=>{const{pinner:i}=e,{username:t,full_name:n}=i,a=i.image_medium_url||i.image_small_url,l=`/${t}/`;return(0,y.jsx)(o.Tg,{fullWidth:!1,rounding:"circle",href:l,onTap:f,children:(0,y.jsx)(m.qE,{size:"sm",src:null!=a?a:"",name:null!=n?n:"",outline:!0})})},b=e=>{const i=(0,r.ZP)(),{board:t,pinner:n}=e,{name:a,privacy:l,url:s}=t,d=t.id||"",{username:c,full_name:u}=n,p=`/${c}/`,_=(0,y.jsx)(o.xv,{inline:!0,size:"200",weight:"bold",children:(0,y.jsx)(o.rU,{display:"inlineBlock",href:p,onClick:f,underline:"hover",children:u})},u);return"protected"===l?(0,h.nk)(i._('{{ pinnerName }} saved this Pin', 'Showing who saved this pin, but not which board (private board), on closeup', 'Showing who saved this pin, but not which board (private board), on closeup'),{pinnerName:_}):(0,h.nk)(i._('{{ pinnerName }} saved to {{ boardName }}', 'Showing who saved this pin to which board on closeup', 'Showing who saved this pin to which board on closeup'),{pinnerName:_,boardName:(0,y.jsx)(o.xv,{inline:!0,size:"200",weight:"bold",children:(0,y.jsx)(o.rU,{href:null!=s?s:"",onClick:v,children:a},"board")},d)})},P=e=>{const{pin:i}=e,{pinner:t={},board:n={}}=i;return(0,y.jsxs)(o.xu,{display:"flex",direction:"row",alignItems:"center",marginTop:3,"data-test-id":"pin-attribution",children:[(0,y.jsx)(x,{pinner:t}),(0,y.jsx)(o.xu,{marginEnd:2}),(0,y.jsx)(o.xv,{size:"200",children:(0,y.jsx)(b,{board:n,pinner:t})})]})},S=e=>{e.target&&e.target.style&&(e.target.style["text-decoration"]="underline")},w=e=>{e.target&&e.target.style&&(e.target.style["text-decoration"]="none")};var I=t(563962);function T({pageType:e,pinCreditPrefix:i,pin:t,pinLink:n,viewParameter:a}){var l,s;const d=(0,r.ZP)(),c=(0,I.Z)();if("topic"!==e.page&&(!t.domain||"Uploaded by user"===t.domain))return null;const u="topic"!==e.page||e.isAuth?"100":"200",p="topic"===e.page&&!!t.nativeCreator,_=p?null===(l=t.nativeCreator)||void 0===l?void 0:l.fullName:t.domain;return(0,y.jsx)(o.xu,{display:"flex",flex:"none",justifyContent:"start",marginBottom:2,children:(0,y.jsx)(o.rU,{display:"inlineBlock",href:p?`/${(null===(s=t.nativeCreator)||void 0===s?void 0:s.username)||""}/`:n,onClick:()=>{"topic"===e.page?(0,g.NC)("click_topic_best_pin_link"):c({event_type:12,view_type:3,object_id_str:t.entityId,component:85,view_parameter:a})},rel:"nofollow",target:"blank",underline:"hover",children:(0,y.jsx)(o.xv,{size:u,children:(0,h.nk)(d._('{{ pinCreditPrefix }} {{ pinCredit }}', 'Tells the user where the pin is from in the form of "Saved from <website>"', 'Tells the user where the pin is from in the form of "Saved from <website>"'),{pinCreditPrefix:i,pinCredit:(0,y.jsx)(o.xv,{inline:!0,size:u,weight:"bold",children:"topic"===!e.page?(0,y.jsxs)("span",{onMouseOver:S,onMouseLeave:w,onFocus:S,onBlur:w,children:[" ",t.domain]}):_},p?"creatorProfile":"pinLinkDomain")})})})})}var A=t(921270),k=t(13596),E=t(624417),C=t(853192),j=t(84812),R=t(465991),D=t(385075),F=t(157785),L=t(277731),O=t(282802);const z=3,N=2,M=e=>{let i="";if(e.rich_metadata&&e.rich_metadata.article&&e.rich_metadata.article.date_published)return i;const t=(e=>{let i=null;e.last_repin_date&&(i=new Date(e.last_repin_date));let t=null;return e.created_at&&(t=new Date(e.created_at)),i?t?i>t?i:t:i:t})(e);if(t&&t.getFullYear()===(new Date).getFullYear()){const n=new Set(["film_music_books","art","home_decor","food_drink","womens_fashion","travel","weddings","hair_beauty","holidays_events","mens_fashion","products","celebrities","technology"]),{category:a}=e;n.has(a)&&(i=t?(0,y.jsx)(A.Z,{value:t,dateFormatType:A.k.LONG_MONTH_YEAR,useUTC:!1}):"")}return i},B=e=>!!(e.rich_metadata&&e.rich_metadata.article&&e.rich_metadata.article.date_published),Z=(e,i)=>{var t,n,a;const o=new Date(null!==(t=null===(n=(null!==(a=e.rich_metadata)&&void 0!==a?a:{}).article)||void 0===n?void 0:n.date_published)&&void 0!==t?t:Date.now()),l=o.getTime(),r=(new Date).getTime();return null==i||r-l<=31536e6*i?(0,y.jsx)(A.Z,{value:o,dateFormatType:A.k.LONG_MONTH_YEAR,useUTC:!1}):""};function U(e){var i,t,n,a,l,d,c,u,p,_,m,h,g,v,f,x,b,S,w,I,A;const U=(0,r.ZP)(),{pin:K,viewportSize:G,pageType:H}=e,{pinCreditPrefix:V,pinLink:W}=(0,C.Z)(K,U);let{description:$}=(0,R.eK)({richMetadataDescription:null===(i=K.rich_metadata)||void 0===i?void 0:i.description,richSummaryDisplayName:null===(t=K.rich_summary)||void 0===t?void 0:t.display_name,closeupUnifiedDescription:K.closeup_unified_description});var Y;"videos_category"===H.page&&($=(0,R.kt)($,(null===(Y=K.native_creator)||void 0===Y?void 0:Y.username)||""));const q="wide"===G;let X=(0,R.Ly)({pinTitle:K.title,gridTitle:K.grid_title,richSummaryDisplayName:null!==(n=null===(a=K.rich_summary)||void 0===a?void 0:a.display_name)&&void 0!==n?n:"",richMetadataTitle:null!==(l=null===(d=K.rich_metadata)||void 0===d?void 0:d.title)&&void 0!==l?l:"",storyPinDataId:K.story_pin_data_id,storyPinDataMetadataPinTitle:null===(c=K.story_pin_data)||void 0===c||null===(u=c.metadata)||void 0===u?void 0:u.pin_title,pinJoinVisualAnnotation:null===(p=K.pin_join)||void 0===p?void 0:p.visual_annotation});(K.grid_title||"").trim()&&X!==K.grid_title&&(X=(0,R.EU)(K.grid_title,200));const J=(0,j.r)(null===(_=K.rich_metadata)||void 0===_||null===(m=_.recipe)||void 0===m?void 0:m.name,!(null===(h=K.rich_metadata)||void 0===h||null===(g=h.recipe)||void 0===g||!g.categorized_ingredients),null===(v=K.rich_metadata)||void 0===v||null===(f=v.recipe)||void 0===f?void 0:f.from_aggregated_data)&&(null===(x=K.rich_metadata)||void 0===x?void 0:x.recipe),Q=B(K)&&Z(K,2),ee=M(K)||Q,{checkExperiment:ie}=(0,s.F)(),{isAuthenticated:te,isBot:ne,isSocialBot:ae}=(0,O.B)(),oe=te?ie("web_auth_exclude_original_images").anyEnabled:ie("web_unauth_exclude_original_images").anyEnabled;return(0,y.jsx)(o.xu,{alignContent:"between","data-test-id":"UnauthBestPinCardBodyContainer",direction:"column",display:"flex",padding:8,position:"relative",width:"100%",flex:"grow",children:(0,y.jsxs)(o.xu,{position:"relative",direction:"column",display:"flex",flex:"grow",children:[(0,y.jsx)(T,{pageType:H,pin:{entityId:K.id,domain:K.domain,nativeCreator:K.native_creator&&{fullName:K.native_creator.full_name,username:K.native_creator.username}},pinCreditPrefix:"topic"===H.page&&K.native_creator?"Created by":V,pinLink:W,viewParameter:(0,D.Z)({hasPin:!0,hasPinRichMetadata:!!K.rich_metadata,hasPinRichMetadataProducts:!(null===(b=K.rich_metadata)||void 0===b||!b.products),hasPinRichMetadataArticle:!(null===(S=K.rich_metadata)||void 0===S||!S.article),hasPinRichMetadataRecipe:!(null===(w=K.rich_metadata)||void 0===w||!w.recipe),hasPinStoryPinData:!!K.story_pin_data})}),(0,y.jsx)(o.kC,{direction:"row",justifyContent:"between",children:(0,y.jsx)(o.xu,{display:"flex",overflow:"hidden",marginEnd:q?0:3,marginTop:q?3:0,children:X&&(0,y.jsx)("h2",{style:{fontWeight:"600",fontSize:"28px",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:N,WebkitBoxOrient:"vertical"},"data-test-id":"UnauthBestPinCardTitle",children:X})})}),ee?(0,y.jsx)(o.xu,{marginTop:1,children:(0,y.jsx)(o.xv,{color:"subtle",children:ee})}):null,$&&(0,y.jsx)(o.xu,{display:"flex",overflow:"hidden",marginTop:3,children:(0,y.jsxs)("h3",{style:{fontWeight:"normal",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:z,WebkitBoxOrient:"vertical",fontSize:"14px"},children:[J&&(0,y.jsx)(L.Z,{recipeData:J}),$]})}),J&&(0,y.jsx)(F.Z,{columnGap:(0,y.jsx)(o.xu,{width:16}),marginOverrides:J?{outerMarginTop:32,ingredientMarginBottom:4}:null,recipeProps:{recipe:{categorizedIngredients:J.categorized_ingredients,name:J.name,image:(0,E.Z)({imagesUrls:K.images?Object.keys(K.images).reduce(((e,i)=>{var t,n;return i&&null!==(t=K.images)&&void 0!==t&&null!==(n=t[i])&&void 0!==n&&n.url?{...e,[i]:K.images[i].url}:e}),{}):void 0,embedSrc:null===(I=K.embed)||void 0===I?void 0:I.src,embedType:null===(A=K.embed)||void 0===A?void 0:A.type,excludeOriginals:!ne&&!ae&&oe})}}}),(0,y.jsxs)(o.xu,{display:"flex",alignItems:"center",direction:"row",justifyContent:"between",marginTop:2,children:[(0,y.jsx)(P,{pin:K}),(0,y.jsx)(o.kC,{alignItems:"stretch",justifyContent:"end",children:!K.repin_count||K.repin_count<1?null:(0,y.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,y.jsx)(o.JO,{icon:"pin",accessibilityLabel:"Pin",color:"subtle",size:12}),(0,y.jsx)(o.xv,{color:"default",inline:!0,size:"100",children:(0,y.jsx)(k.Z,{value:K.repin_count,shortform:!0,shortformMaximumFractionDigits:1})})]})})]})]})})}var K=t(128681),G=t(680644),H=t(988014),V=t(488167),W=t(99220),$=t(882973),Y=t(739425),q=t(272109),X=t(452253),J=t(525010),Q=t(351116),ee=t(732719),ie=t(593502),te=t(519218),ne=t(729239);const ae=564,oe=3,le=4*oe,re=80,se=60,de=20;let ce=0,ue="";function pe(e){const{images:i,image_signature:t}=e,n=(null==i?void 0:i["564x"])&&i.orig,{url:a}=null!=n?n:{};let{width:o=1,height:l}=null!=n?n:{};return"number"==typeof o&&"number"==typeof l&&o>ae&&(l*=ae/o,o=ae),{width:o,height:l,url:a,imageSignature:t}}const _e=({data:e,index:i,viewParameter:t,productsURL:n})=>{switch(e.type){case"pin":return(0,y.jsx)(ie.default,{duploQueryRef:null,viewParameter:t,viewType:72,slotIndex:i,pinId:e.id});case"story":return n&&(0,y.jsx)(_.Z,{story:e,dangerouslySetActionUrl:n,slotIndex:i});default:return null}},me=({resourceOptions:e})=>{const i=(0,r.ZP)(),{data:t,isAtEnd:n,isFetching:l,fetchMore:s}=(0,d.Z)({name:"VisualLiveSearchResource",options:e}),c=(0,a.useLocation)(),p={loadNext:s,hasNext:n,isLoadingNext:l,refetch:()=>{}},_=`${c.pathname}products/${c.search}`;return(0,y.jsxs)(u.Fragment,{children:[t&&(0,y.jsx)(ne.Z,{customLayoutType:"desktopFlashlight",feedItems:t.results||[],feedKey:"flashlight-dweb-unauth",pagination:p,renderFeedItem:(e,i)=>_e({data:e,index:i,viewParameter:3050,productsURL:_})}),(0,y.jsx)(o.$j,{accessibilityLabel:i._('Loading visual search results...', 'unauthDesktopVisualSearch.flashlightFeed.loading', 'Accessibility label for loading visual search results'),show:l})]})},he=({resourceOptions:e})=>{const i=(0,r.ZP)(),{data:t,isAtEnd:n,isFetching:a,fetchMore:l}=(0,d.Z)({name:"VisualLiveSearchProductFeedResource",options:e}),s={loadNext:l,hasNext:n,isLoadingNext:a,refetch:()=>{}};return(0,y.jsxs)(u.Fragment,{children:[t&&(0,y.jsx)(ne.Z,{customLayoutType:"desktopFlashlight",feedItems:t||[],feedKey:"flashlight-products-dweb-unauth",pagination:s,renderFeedItem:(e,i)=>_e({data:e,index:i,viewParameter:3334})}),(0,y.jsx)(o.$j,{accessibilityLabel:i._('Loading visual search product results...', 'unauthDesktopVisualSearch.flashlightProductFeed.loading', 'Accessibility label for loading visual search product results'),show:a})]})};function ge({pinResponse:e}){const i=(0,r.ZP)(),{isRTL:t}=(0,O.B)(),n=(0,I.Z)(),l=(0,a.useHistory)(),s=(0,a.useLocation)(),d=(0,a.useRouteMatch)(),_=(0,u.useRef)(),{pin:m,isLoaded:h}=e,{pinId:v}=(0,c.Z)(d.params.id||""),f=(0,Y.mB)(s.search),x=(0,p.Z)(s),b=function(e){const i=parseInt(e,10);switch(i){case 1:case 2:case 3:case 4:case 5:case 6:return i;default:return}}(f.cropSource),P=(0,H.hd)(s),{imageSignature:S}=f;if((0,u.useEffect)((()=>{if(!x&&m){const{image_signature:e}=m,i=S||e,{width:t,height:n}=(0,V.Z)({pin:m,imageSignature:i}),a=(0,ee.Z)({cropArea:{h:n-2*K.S,w:t-2*K.S,x:K.S,y:K.S},pinId:v,imageSignature:S});l.replace(a)}}),[x,m,v,l,n,S]),(0,q.Z)((()=>{n({event_type:13,view_type:72,view_parameter:3050,view_data:{pin_id:v}}),(0,g.My)("unauth.flashlight_page")})),(0,u.useEffect)((()=>(_.current&&ue===v&&(_.current.scrollTop=ce),()=>{_.current&&(ce=_.current.scrollTop,ue=v)}))),!h)return(0,y.jsx)(W.Z,{view:72,objectId:"",children:(0,y.jsx)(o.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{top:$.Pw}},children:(0,y.jsx)(o.$j,{accessibilityLabel:i._('Loading visual search...', 'Accessibility label for loading visual search page', 'Accessibility label for loading visual search page'),show:!0})})});if(!m)return null;const{image_signature:w,description:T,visual_objects:A}=m,{width:k,height:E,url:C}=pe(m),j=function({initialCropArea:e,pin:i}){var t,n,a,o;let l;if(e)l={...e};else{const{visual_objects:e}=i,{width:t=1,height:n=1}=pe(i);if(e&&e.length){const{x:i,y:a,w:o,h:r}=e[0];l=(0,J.Z)({cropArea:{x:i,y:a,w:o,h:r},scaledWidth:t,scaledHeight:n})}else{const[e,i]=[t/6,n/6],[a,o]=[t-2*e,n-2*i];l={x:e,y:i,w:a,h:o}}}return{x:Math.floor(null!==(t=l.x)&&void 0!==t?t:0),y:Math.floor(null!==(n=l.y)&&void 0!==n?n:0),w:Math.floor(null!==(a=l.w)&&void 0!==a?a:0),h:Math.floor(null!==(o=l.h)&&void 0!==o?o:0)}}({initialCropArea:x,pin:m}),R=!(s.state&&s.state.internalNavigation),D=k+de,F=(null!=D?D:1)+2*le,L={pin_id:v,image_signature:w,crop:(0,X.Z)({cropArea:j,scaledWidth:k,scaledHeight:E}),crop_source:b||5},z={__style:{top:re+se}},N=(A||[]).filter((e=>e.is_stela));return(0,y.jsx)(W.Z,{view:72,objectId:"",children:(0,y.jsxs)(u.Fragment,{children:[(0,y.jsxs)(o.xu,{width:"100%",height:se,display:"flex",alignItems:"center",position:"fixed",dangerouslySetInlineStyle:{__style:{top:re}},zIndex:new o.Ry(4),color:"light",children:[(0,y.jsx)(o.xu,{position:"absolute",left:!0,children:(0,y.jsx)(te.Z,{})}),(0,y.jsx)(o.xu,{flex:"grow",children:(0,y.jsx)(o.X6,{align:"center",size:"400",children:P?i._('Shop similar items', 'unauthDesktopFlashlightPage.flashlightProductsFeed.header', 'Header explaining results of flashlight products search'):i._('Visually similar results', 'unauthDesktopFlashlightPage.flashlightFeed.header', 'Header explaining results of flashlight search')})})]}),P?(0,y.jsx)(o.xu,{dangerouslySetInlineStyle:z,position:"relative",children:(0,y.jsx)(he,{resourceOptions:L})}):(0,y.jsxs)(o.xu,{display:"flex",paddingX:12,children:[(0,y.jsxs)(o.xu,{height:`calc(100% - ${re+se}px)`,marginEnd:oe,marginStart:oe,width:D,overflow:"auto",position:"fixed",ref:_,zIndex:new o.Ry(4),dangerouslySetInlineStyle:z,children:[(0,y.jsx)(o.xu,{"data-test-id":"flashlight-enabled-image",dangerouslySetInlineStyle:{__style:{width:k,height:E}},children:(0,y.jsxs)(o.zd,{height:E,rounding:2,width:k,children:[(0,y.jsx)(o.Ee,{alt:null!=T?T:"",naturalHeight:null!=E?E:1,naturalWidth:null!=k?k:1,src:null!=C?C:""}),(0,y.jsx)(G.Z,{showAnimation:R,imageSignature:w,imageSize:{h:E,w:k},initialCropArea:j,customCropper:function({origCrop:e,cropSource:i}){const t=window.location.pathname+window.location.search,n=(0,ee.Z)({cropArea:e,pinId:v,cropSource:null!=i?i:6});(0,g.My)("unauth.flashlight_page.cropper_changed"),n!==t&&v&&l.replace({pathname:`/pin/${v}/visual-search/`,search:(0,Q.Z)({cropArea:e,cropSource:null!=i?i:6}),state:{internalNavigation:!0}})},pin:m,spotlightAreas:N})]})}),(0,y.jsx)(o.xu,{position:"relative","data-test-id":"closeupDescription",display:"flex",direction:"column",maxWidth:null!=k?k:1,margin:5,children:(0,y.jsx)(U,{pin:m,pageType:{isAuth:!1,page:"flashlight"},viewportSize:"narrow"})})]}),(0,y.jsx)(o.xu,{position:"relative",width:"100%",dangerouslySetInlineStyle:{__style:{...z.__style,...t?{marginRight:`${F}px`}:{marginLeft:`${F}px`}}},children:(0,y.jsx)(me,{resourceOptions:L})})]})]})})}var ye;const ve=void 0!==ye?ye:ye=t(608614);function fe(e){const i=[];return e.forEach((({additionalImagesSpec:e,spec:t})=>{var n;i.push(...null!==(n=function({additionalImagesSpec:e,spec:i}){return null==e?void 0:e.map((e=>{var t,n,a,o,l,r,s;return{canonical_images:{[i]:{height:null!==(t=null===(n=e.canonicalImage)||void 0===n?void 0:n.height)&&void 0!==t?t:0,url:null!==(a=null===(o=e.canonicalImage)||void 0===o?void 0:o.url)&&void 0!==a?a:"",width:null!==(l=null===(r=e.canonicalImage)||void 0===r?void 0:r.width)&&void 0!==l?l:0}},image_signature:null!==(s=e.imageSignature)&&void 0!==s?s:""}}))}({additionalImagesSpec:e,spec:t}))&&void 0!==n?n:[])})),i}function xe(e){return null==e?void 0:e.map((e=>{var i,t,n,a,o,l,r,s;return{name:null!==(i=e.name)&&void 0!==i?i:"",offer_summary:{in_stock:null!==(t=null===(n=e.offerSummary)||void 0===n?void 0:n.inStock)&&void 0!==t&&t},additional_images:null!==(a=fe([{additionalImagesSpec:e.additionalImageOrig,spec:"orig"},{additionalImagesSpec:e.additionalImage736x,spec:"736x"},{additionalImagesSpec:e.additionalImage564x,spec:"564x"},{additionalImagesSpec:e.additionalImage474x,spec:"474x"},{additionalImagesSpec:e.additionalImage236x,spec:"236x"}]))&&void 0!==a?a:[],variant_set:null!==(l=e.variantSet,o={variants:null!==(s=null==l?void 0:l.variants,r=null==s?void 0:s.map((e=>{var i,t;return{additional_images:null!==(t=e.additionalImages,i=null==t?void 0:t.map((e=>{var i,t;return{canonical_images:null!==(i=e.canonicalImages)&&void 0!==i?i:{},image_signature:null!==(t=e.imageSignature)&&void 0!==t?t:""}})))&&void 0!==i?i:[]}})))&&void 0!==r?r:[]})&&void 0!==o?o:{}}}))}function be(e){const i={};return e.forEach((e=>{const{image:t,spec:n}=e;t&&(i[n]=function(e){var i,t,n,a,o;return{width:null!==(i=e.width)&&void 0!==i?i:0,url:null!==(t=e.url)&&void 0!==t?t:"",type:null!==(n=e.type)&&void 0!==n?n:"",height:null!==(a=e.height)&&void 0!==a?a:0,dominant_color:null!==(o=e.dominantColor)&&void 0!==o?o:""}}(t))})),i}function Pe(e){var i,t;return{username:null!==(i=null==e?void 0:e.username)&&void 0!==i?i:"",full_name:null!==(t=null==e?void 0:e.fullName)&&void 0!==t?t:"",image_medium_url:null==e?void 0:e.imageMediumUrl,image_small_url:null==e?void 0:e.imageSmallUrl}}function Se(e){var i,t,n;return{id:null!==(i=null==e?void 0:e.entityId)&&void 0!==i?i:"",username:null!==(t=null==e?void 0:e.username)&&void 0!==t?t:"",full_name:null!==(n=null==e?void 0:e.fullName)&&void 0!==n?n:"",image_medium_url:null==e?void 0:e.imageMediumUrl,image_small_url:null==e?void 0:e.imageSmallUrl,type:"user"}}const we=(0,l.Z)({useGraphQLAdapter:function({pinId:e}){var i,t,a,o,l,r,s,d,c,u,p,_,m,h,g,y,v;const f=null===(i=(0,n.useLazyLoadQuery)(ve,{pinId:e}).v3GetPinQuery)||void 0===i?void 0:i.data;return f?{pin:{id:null!==(t=f.entityId)&&void 0!==t?t:"",is_eligible_for_related_products:null!==(a=f.isEligibleForRelatedProducts)&&void 0!==a&&a,description:null!==(o=f.description)&&void 0!==o?o:"",image_signature:null!==(l=f.imageSignature)&&void 0!==l?l:"",images:null!==(r=be([{image:f.imageOrig,spec:"orig"},{image:f.image736x,spec:"736x"},{image:f.image564x,spec:"564x"},{image:f.image474x,spec:"474x"},{image:f.image236x,spec:"236x"}]))&&void 0!==r?r:{},rich_metadata:(j=f.richMetadata,{products:null!==(R=xe(null==j?void 0:j.products))&&void 0!==R?R:[],description:null!==(D=null==j?void 0:j.description)&&void 0!==D?D:"",title:null!==(F=null==j?void 0:j.title)&&void 0!==F?F:"",recipe:null!==(B=null==j?void 0:j.recipe,L={name:null!==(Z=null==B?void 0:B.name)&&void 0!==Z?Z:"",from_aggregated_data:null!==(U=null==B?void 0:B.fromAggregatedData)&&void 0!==U&&U,categorized_ingredients:null==B||null===(K=B.categorizedIngredients)||void 0===K?void 0:K.map((e=>{var i;return{category:null!==(i=e.category)&&void 0!==i?i:""}}))})&&void 0!==L?L:{},article:{date_published:null!==(O=null==j||null===(z=j.article)||void 0===z?void 0:z.datePublished)&&void 0!==O?O:""},tutorial:{id:null!==(N=null==j||null===(M=j.tutorial)||void 0===M?void 0:M.name)&&void 0!==N?N:"",type:"makecardtutorialmetadata"}}),rich_summary:(k=f.richSummary,{products:null!==(E=xe(null==k?void 0:k.products))&&void 0!==E?E:[],display_name:null!==(C=null==k?void 0:k.displayName)&&void 0!==C?C:""}),visual_objects:null!==(A=f.visualObjects,s=null==A?void 0:A.map((e=>{var i,t,n,a,o,l,r,s,d,c,u,p,_,m;return{detection:null!==(i=e.detection)&&void 0!==i&&i,h:null!==(t=e.h)&&void 0!==t?t:0,index:null!==(n=e.index)&&void 0!==n?n:0,is_stela:null!==(a=e.isStela)&&void 0!==a&&a,label:null!==(o=e.label)&&void 0!==o?o:"",label_id:null!==(l=e.labelId)&&void 0!==l?l:0,label_x:null!==(r=e.labelX)&&void 0!==r?r:0,label_y:null!==(s=e.labelY)&&void 0!==s?s:0,max_annotation_num_documents:null!==(d=e.maxAnnotationNumDocuments)&&void 0!==d?d:0,score:null!==(c=e.score)&&void 0!==c?c:0,show_on_closeup:null!==(u=e.showOnCloseup)&&void 0!==u&&u,w:null!==(p=e.x)&&void 0!==p?p:0,x:null!==(_=e.w)&&void 0!==_?_:0,y:null!==(m=e.y)&&void 0!==m?m:0}})))&&void 0!==s?s:[],closeup_unified_description:f.closeupUnifiedDescription,grid_title:null!==(d=f.gridTitle)&&void 0!==d?d:"",story_pin_data_id:f.storyPinDataId,repin_count:null!==(c=f.repinCount)&&void 0!==c?c:0,tracked_link:f.trackedLink,link:f.link,domain:null!==(u=f.domain)&&void 0!==u?u:"",closeup_attribution:Pe(f.closeupAttribution),link_domain:{official_user:Pe(null===(p=f.linkDomain)||void 0===p?void 0:p.officialUser)},native_creator:Se(f.nativeCreator),pinner:Se(f.pinner),origin_pinner:Se(f.originPinner),board:(b=f.board,{id:null!==(P=null==b?void 0:b.entityId)&&void 0!==P?P:"",image_thumbnail_url:null!==(S=null==b?void 0:b.imageThumbnailUrl)&&void 0!==S?S:"",name:null!==(w=null==b?void 0:b.name)&&void 0!==w?w:"",privacy:(T=null==b?void 0:b.privacy,"protected"===T||"public"===T||"secret"===T?T:"secret"),url:null!==(I=null==b?void 0:b.url)&&void 0!==I?I:"",type:"board"}),pin_join:{annotations_with_links_array:null!==(x=null===(m=f.pinJoin)||void 0===m?void 0:m.annotationsWithLinksArray,_=null==x?void 0:x.map((e=>({name:e.name,url:e.url}))))&&void 0!==_?_:[],visual_annotation:null!==(h=null===(g=f.pinJoin)||void 0===g?void 0:g.visualAnnotation)&&void 0!==h?h:[]},story_pin_data:{metadata:{pin_title:null===(y=f.storyPinData)||void 0===y||null===(v=y.metadata)||void 0===v?void 0:v.pinTitle}},type:"pin"},isLoaded:!0}:null;var x,b,P,S,w,I,T,A,k,E,C,j,R,D,F,L,O,z,N,M,B,Z,U,K},useLegacyAdapter:function({pinId:e}){const{data:i,isLoaded:t}=(0,d.Z)({name:"PinResource",options:{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0}});return{pin:i,isLoaded:t}}});function Ie(){const{checkExperiment:e}=(0,s.F)(),i=(0,r.ZP)(),t=(0,a.useRouteMatch)(),{pinId:n}=(0,c.Z)(t.params.id||"");return(0,y.jsx)(we,{input:e("unauth_dweb_graphql_flashlight_pinResource").anyEnabled?{enabled:!0,data:{pinId:n},suspense:{fallback:(0,y.jsx)(o.$j,{accessibilityLabel:i._('Loading Pin data', 'unauthDesktopFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})}}:{enabled:!1,data:{pinId:n}},children:({data:e})=>!!e&&(0,y.jsx)(ge,{pinResponse:e})})}},917652:(e,i,t)=>{function n(e){return e&&5!==e?4===e?"stela":null:"related_products"}t.d(i,{Z:()=>n})},536540:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(785893);function a({size:e,noCircle:i}){return(0,n.jsxs)("svg",{height:e,style:{display:"block"},viewBox:i?"3 3 70 70":"-3 -3 82 82",width:e,children:[i?null:(0,n.jsx)("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),(0,n.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:"#fb7072",fillRule:"evenodd"})]})}},480462:(e,i,t)=>{function n({isEligibleForPdp:e,isOosProduct:i,isStaleProduct:t,pinShoppingFlags:n}){if(n){const a=n,o={pin_is_shop_the_look:a.includes(2),pin_show_pdp:e||i||t,is_available:a.includes(1),is_product_pin_v2:a.includes(5),is_rich_product_pin:a.includes(6)};return JSON.stringify(o)}}t.d(i,{Z:()=>n})},220067:(e,i,t)=>{t.d(i,{DZ:()=>c,Dv:()=>u,Es:()=>d,HW:()=>s});var n=t(245410),a=t(611756),o=t(509342);const l=e=>e>=Date.now()-72e5,r=(e,i)=>{const t=[];if(e)for(const n of e)i&&!n.is_shared||l(n.ts)&&t.push(n);return t},s=()=>{const e=(0,a.qn)(o.zR),i=e?JSON.parse(e):[],t=r(i,!1),n=r(i,!0),s=t.map((e=>e.first_pin_image_signature)),d=n.map((e=>e.first_pin_image_signature)),c=(e=>{const i={};if(e)for(const t of e)t.is_shared&&l(t.ts)&&t.pin_id&&(i[t.pin_id]={inviteCode:t.pin_invite_code});return i})(i),u=(0,a.qn)(o.dy),p=u?JSON.parse(u):[];return{extraPlpImages:s,plpImageRenderData:t,extraBlpImages:r(p,!0).map((e=>e.first_pin_image_signature)),extraSharedImages:d,sharedPinData:c}},d=(e,i)=>{if(e.length!==i.length)return!1;for(let t=0;t<e.length;t+=1){if(e[t].id!==i[t].id)return!1}return!0},c=(e,i)=>e.nuxTopics?e.nuxTopics.map((({id:e})=>i[e])):null,u=()=>{const{checkExperiment:e}=(0,n.F)(),{anyEnabled:i,group:t}=e("mweb_mini_renux");return{inMiniRenuxEnabledGroup:i,interestsLimit:i?Number(t.slice(-1)):NaN}}},261453:(e,i,t)=>{t.d(i,{CC:()=>r,H$:()=>d,Mt:()=>l,dp:()=>s,p9:()=>c});var n=t(611756),a=t(173085),o=t(509342);const l=(e,i,t,a,l,r,s=o.k7)=>{const d=(0,n.qn)(s)?JSON.parse((0,n.qn)(s)):[];if(!d[0]||d[0].path!==e){const o=[{path:e,ts:Date.now(),pin_id:t||0,first_pin_image_signature:i||"",first_pin_id:t||"",image_info:a||"",pin_description:l||"",is_shared:!!r,pin_invite_code:r}];(0,n.Nh)(s,JSON.stringify(o.concat(d)))}},r=({path:e,image:i,dominant_color:t,pin_description:n,pin_id:l})=>{const r=(()=>{const e=(0,a.qn)(o.KH);if(!e)return[];let i;try{i=JSON.parse(e)}catch(t){i=[]}return i})();if(!r[0]||r[0].path!==e){const s=[{path:e,image:i,pin_description:n||"",dominant_color:t||"",pin_id:l||""}];(0,a.Nh)(o.KH,JSON.stringify(s.concat(r)))}};function s(e,i,t,n,a,r){l(e,i,t,n,a,r,o.zR)}const d=(e,i,t,n,a)=>{l(e,i,t,n,null!=a?a:"","",o.dy)};function c(e,i,t,n,a){l(e,i,t,n,a,"",o.QR)}},411224:(e,i,t)=>{t.d(i,{Z:()=>d,x:()=>s});var n=t(667294),a=t(98736),o=t(785893);const l=(0,n.createContext)((()=>{})),r=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="unset")},s=({children:e})=>{const[i,t]=(0,n.useState)(null);(0,n.useEffect)((()=>r),[]);const s=(0,n.useCallback)((e=>{(0,a.My)("dweb.unauth.context_menu.open_menu"),document&&document.body&&document.body.style&&(document.body.style.overflow="hidden"),t(e)}),[]),d=!!i;return(0,n.useEffect)((()=>{const e=()=>{t(null),r(),(0,a.My)("dweb.unauth.context_menu.click_away")};return d&&document.addEventListener("click",e),()=>{d&&document.removeEventListener("click",e)}}),[d]),(0,o.jsx)(l.Provider,{value:s,children:(0,o.jsxs)(n.Fragment,{children:[e,i]})})},d=()=>(0,n.useContext)(l)},169492:(e,i,t)=>{t.d(i,{$:()=>s,Z:()=>d});var n=t(667294),a=t(611756);const o=e=>{if(!e)return null;try{return JSON.parse(e)}catch(i){return null}},l=new Set;function r(e){const i=(0,n.useCallback)((i=>{const t=t=>{t===e&&i()};return l.add(t),()=>{l.delete(t)}}),[e]),t=(0,n.useSyncExternalStore)(i,(()=>(0,a.qn)(e)),(()=>null)),r=(0,n.useCallback)((i=>{null===i?(0,a.L_)(e):(0,a.Nh)(e,JSON.stringify(i)),function(e){l.forEach((i=>i(e)))}(e)}),[e]);return(0,n.useMemo)((()=>[o(t),r]),[t,r])}const s=2,d=()=>{const[e,i]=r("unauthSavedPins"),t=null!==(a=null==(n=e)?void 0:n.pins)&&void 0!==a?a:[];var n,a;const o=e=>i((e=>e.length?{pins:e}:null)(e)),l=()=>t.length<s;return{pins:t,save:e=>{l()&&o(t.filter((({id:i})=>i!==e.id)).concat([e]))},unsave:e=>o(t.filter((({id:i})=>i!==e))),isSaved:e=>t.some((({id:i})=>i===e)),clear:()=>o([]),canSaveMore:l}}},963181:(e,i,t)=>{t.d(i,{D5:()=>r,Hg:()=>a,T_:()=>l,g6:()=>o,w6:()=>n});const n=(e,i)=>Array.from({length:i-e},((i,t)=>t+e)),a=508,o=600;function l(e,i){if(!i.startsWith("en"))return e;return e.split(" ").map((e=>e===e.toUpperCase()?e:e.toLowerCase())).join(" ")}const r=()=>{const e=new URL(window.location.href),i=e.hostname.replace("www.","");let t=e.pathname;return t=t.replace(/\/\d+\//,"/").replace(/\/$/,""),`${i}${t}`}},812889:(e,i,t)=>{t.d(i,{Z:()=>m});var n=t(667294),a=t(883119),o=t(24286),l=t(874261),r=t(549201),s=t(756876),d=t(785893);const c="PinGridSkeletonLoader__tall",u="PinGridSkeletonLoader__short",p=({size:e})=>(0,d.jsx)(a.xu,{padding:1,children:(0,d.jsx)("div",{className:"tall"===e?c:u})}),_=({children:e})=>(0,d.jsx)(a.kC,{direction:"column",gap:{row:0,column:2},children:e}),m=({partialViewportWidth:e})=>{const i="desktop"===(0,r.ZP)(),t=i?o.yF:o.tG;return(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(l.Z,{unsafeCSS:[{name:c,height:250},{name:u,height:150}].map((({name:e,height:i})=>(0,s.Z)({name:e,width:t,height:i}))).join("")}),(0,d.jsx)(a.xu,{marginStart:o.qG,marginEnd:o.qG,children:i?(0,d.jsxs)(a.kC,{direction:"row",gap:{row:o.jC,column:0},children:[(0,d.jsx)(_,{children:(0,d.jsx)(p,{size:"tall"})}),(0,d.jsx)(_,{children:(0,d.jsx)(p,{size:"short"})}),(0,d.jsx)(_,{children:(0,d.jsx)(p,{size:"tall"})}),!e&&(0,d.jsx)(_,{children:(0,d.jsx)(p,{size:"short"})})]}):(0,d.jsxs)(a.kC,{direction:"row",overflow:"hidden",justifyContent:"center",children:[(0,d.jsxs)(_,{children:[(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]}),(0,d.jsxs)(_,{children:[(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]})]})})]})}},756876:(e,i,t)=>{t.d(i,{Z:()=>n});const n=({name:e,width:i,height:t})=>{const n=`${t}${"number"==typeof t?"px":""}`,a="number"==typeof i?i:236;return`\n.${e} {\n  -webkit-animation-duration: 1s;\n  -webkit-animation-fill-mode: forwards;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-name: ${e}_placeHolderShimmer;\n  -webkit-animation-timing-function: linear;\n  border-radius: 16px;\n  background: #f6f7f9;\n  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);\n  background-repeat: no-repeat;\n  background-size: ${a} ${n};\n  width: ${`${i}${"number"==typeof i?"px":""}`};\n  height: ${n};\n}\n\n@keyframes ${e}_placeHolderShimmer{\n  0% {\n      background-position: -${a}px 0;\n  }\n  100% {\n      background-position: ${a}px 0;\n  }\n}\n`}},624524:(e,i,t)=>{t.d(i,{Bb:()=>g,Bx:()=>s,F4:()=>r,OG:()=>o,Qj:()=>d,_6:()=>h,gv:()=>l,hg:()=>c,is:()=>_,jP:()=>m,lt:()=>a,oM:()=>u,wI:()=>p});var n=t(739425);const a=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),o=e=>e.pathname,l=({firstName:e,i18n:i})=>e?(i._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):i._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),r=e=>{const i=(0,n.mB)(e.search).board_url;if(i){const e=(0,n.Jx)(i),t=(0,n.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${t}`:`${e}?${t}`}return e.pathname},s=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),d=e=>{const i=e.pathname;if(i.startsWith("/pin/")){const e=i.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return i},c=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),u=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),p=e=>{const i=e.pathname;if(i.startsWith("/pin/")){const e=i.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return i},_=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),m=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),h=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),g=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},731107:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(883119),a=t(377234),o=t(785893);const l=48;function r({color:e,image:i,isSelected:t,title:r}){var s,d,c;return(0,o.jsxs)(n.xu,{alignItems:"center","aria-selected":t,dangerouslySetInlineStyle:{__style:{backgroundColor:(0,a.Yc)()?t?"#fff":"#767676":t?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,o.jsx)(n.zd,{height:l,rounding:"circle",width:l,children:(0,o.jsx)(n.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(s=i.height)&&void 0!==s?s:1,naturalWidth:null!==(d=i.width)&&void 0!==d?d:1,src:null!==(c=i.url)&&void 0!==c?c:""})}),(0,o.jsx)(n.xu,{marginStart:2,marginEnd:3,children:(0,o.jsx)(n.xv,{color:t?"inverse":(0,a.Yc)()?"light":"dark",weight:"bold",children:r})})]})}},833145:(e,i,t)=>{t.d(i,{ZP:()=>te,Bi:()=>Q,gv:()=>ee});var n=t(167912),a=t(616550),o=t(883119),l=t(448709),r=t(536042),s=t(245410),d=t(664334),c=t(769623),u=t(667294),p=t(394214),_=t(917027),m=t(24286),h=t(819079),g=t(785893);const y=({data:e,itemIdx:i})=>(0,g.jsx)(p.default,{pin:e,pinId:e.id,authDesktopSurface:"RelatedProductsFeed",slotIndex:i,viewParameter:3334,viewType:72});function v({resourceOptions:e}){const i=(0,r.ZP)(),t=(0,h.Z)({name:"VisualLiveSearchProductFeedResource",options:e}),{data:n,isAtEnd:a,isLoaded:l,isFetching:s,fetchMore:d}=t,c=(0,u.useRef)(null);if(!l)return(0,g.jsx)(o.kC,{alignItems:"stretch",alignSelf:"center",justifyContent:"center",children:(0,g.jsx)(o.$j,{accessibilityLabel:i._('Loading related products', 'Label for loading spinner', 'Label for loading spinner'),show:!0})});const p=Array.isArray(n)?n:null==n?void 0:n.results;return(0,g.jsx)(o.xu,{display:"flex",maxWidth:"100%",ref:c,justifyContent:"center",children:p&&(0,g.jsx)(_.default,{columnWidth:m.yF,isAtEnd:a,isFetching:s,renderItem:e=>(0,g.jsx)(y,{...e}),items:p,loadItems:()=>{s||a||d()},paddingStyle:"simplified",scrollContainerRef:c,virtualize:!1})})}var f=t(482203),x=t(920394),b=t(636125),P=t(705882);class S extends u.PureComponent{constructor(...e){var i,t,n;super(...e),n=({data:e,itemIdx:i})=>{const{resourceOptions:{image_signature:t},visualLiveSearchResource:n}=this.props,a=n&&n.data&&n.data.search_identifier,o=`${window.location.pathname}products/${window.location.search}`;return"story"===e.type?(0,g.jsx)(P.Z,{story:e,dangerouslySetActionUrl:o,slotIndex:i}):(0,g.jsx)(p.default,{pin:e,pinId:e.id,authDesktopSurface:"FlashlightResultGrid",auxData:{search_identifier:a,image_signature:t},slotIndex:i,viewData:{search_identifier:a},viewType:72})},(t="renderItem")in(i=this)?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n}componentDidMount(){const{visualLiveSearchResource:e,onSearchIdChange:i}=this.props,t=e&&e.data&&e.data.search_identifier;t&&i(t)}componentDidUpdate({visualLiveSearchResource:{data:e}}){const{visualLiveSearchResource:{data:i}}=this.props,t=i&&i.search_identifier,n=e&&e.search_identifier;t&&t!==n&&this.props.onSearchIdChange(t)}render(){const{hasSimplifiedPinGridExpLoaded:e,visualLiveSearchResource:i}=this.props,{data:t,isFetching:n,fetchMore:a}=i,l=t&&t.results,r=t&&t.search_identifier;return(0,g.jsxs)(o.xu,{children:[l&&r&&(0,g.jsx)(o.xu,{children:(0,g.jsx)(o.Rk,{columnWidth:m.yF,renderItem:({data:e,itemIdx:i})=>this.renderItem({data:e,itemIdx:i}),gutterWidth:m.P2,items:l,loadItems:a,minCols:1,scrollContainer:()=>window})}),(0,g.jsx)(o.$j,{accessibilityLabel:this.props.i18n._('Loading search results...', 'Accessibility label for loading visual search results', 'Accessibility label for loading visual search results'),show:n||!r||!e})]})}}function w(e){const i=(0,r.ZP)(),{hasSimplifiedPinGridExpLoaded:t}=(0,f.$)(),{checkExperiment:n}=(0,s.F)(),{anyEnabled:a}=n("web_flashlight_unified_feed"),{resourceOptions:o,pin:l,viewParameter:d}=e,c=(0,h.Z)({name:"VisualLiveSearchResource",options:o}),{visualSearchFlashlightUnifiedResource:p}=(0,b.Z)({resourceOptions:o});return(0,g.jsx)(u.Fragment,{children:a?(0,g.jsx)(x.Z,{imageSignature:l.image_signature,isProductOnlyFeed:!1,pin:l,variant:"flashlight",viewParameter:d,viewType:72,visualSearchFlashlightUnifiedResource:p}):(0,g.jsx)(S,{...e,visualLiveSearchResource:c,hasSimplifiedPinGridExpLoaded:t,i18n:i})})}var I=t(29152),T=t(675187),A=t(212490),k=t(388011),E=t(128681),C=t(680644),j=t(488167),R=t(282802),D=t(477288),F=t(99220),L=t(739425),O=t(272109),z=t(452253),N=t(732719),M=t(996344),B=t(818577),Z=t(162664);const U=20,K=60;let G=0,H="";function V({pin:e}){var i,t;const{logContextEvent:n}=(0,k.v)(),l=(0,r.ZP)(),d=(0,a.useHistory)(),p=(0,R.B)(),{checkExperiment:_}=(0,s.F)(),{anyEnabled:m}=_("web_flashlight_unified_feed"),{anyEnabled:h}=_("web_flashlight_image_resize"),{id:y}=(0,a.useParams)(),{pinId:f}=(0,c.Z)(y||""),x=(0,M.Z)(),b=(0,a.useLocation)(),P=(0,L.mB)(b.search),{cropSource:S}=function(e){return Object.keys(e).reduce(((i,t)=>({...i,[t]:parseInt(e[t],10)})),{})}(P),{imageSignature:V}=P,W=(0,I.Z)(b),[$,Y]=(0,u.useState)(""),q=b.pathname.includes("/products")?"products":"flashlight",X=(0,u.useRef)();(0,u.useEffect)((()=>(X.current&&H===f&&(X.current.scrollTop=G),()=>{X.current&&(G=X.current.scrollTop,H=f)})));const J=S||5,Q=m&&4===J?3462:3050;if((0,O.Z)((()=>{if(!W&&e){const{image_signature:i}=e,t=V||i,{width:n,height:a}=(0,j.Z)({pin:e,imageSignature:t,maxWidth:h?D.RZ:void 0}),o=(0,N.Z)({cropArea:{h:(null!=a?a:1)-2*E.S,w:(null!=n?n:1)-2*E.S,x:E.S,y:E.S},pinId:f,view:q,imageSignature:V});d.replace(o)}m||n({event_type:13,view_type:72,view_parameter:3050,view_data:{pin_id:f}})})),!e)return null;const{image_signature:ee}=e,ie=V||ee,{width:te,height:ne,url:ae}=(0,j.Z)({pin:e,imageSignature:ie,maxWidth:h?D.RZ:void 0});""===ae&&d.push(`/pin/${f}/visual-search/`);const oe=(0,T.Z)({initialCropArea:W,pin:e,imageSignature:ie,surface:h?"experimental-flashlight":"flashlight"}),le={pin_id:f,image_signature:ie,crop:(0,z.Z)({cropArea:oe,scaledWidth:te,scaledHeight:ne}),crop_source:J,is_shopping:!1,entry_source:"flashlight",entrypoint:x},re=!(b&&b.state&&b.state.internalNavigation),se=p&&p.isRTL||!1,de=te+U,ce=de+16,ue=!m||m&&(5===J||6===J),pe=(null!==(i=e.visual_objects)&&void 0!==i?i:[]).filter((e=>e.is_stela)),_e=(null!==(t=e.visual_objects)&&void 0!==t?t:[]).filter((e=>!!e.label)),me=(pe.length>0||_e.length>0)&&ie===ee&&(_("dweb_flashlight_show_more_stela_dots").anyEnabled?pe:_e)||[];return(0,g.jsx)(F.Z,{view:72,objectId:$,children:(0,g.jsxs)(u.Fragment,{children:[(0,g.jsx)(B.Z,{text:l._('Visual Search Page', 'pin.flashlight.accessibilityhiddenheading', 'accessibility label for flashlight page')}),ue&&(0,g.jsx)(A.Z,{pinId:f,title:"products"===q?l._('Shop similar items', 'Header explaining results of flashlight products search', 'Header explaining results of flashlight products search'):l._('More Ideas', 'Header explaining results of flashlight search', 'Header explaining results of flashlight search'),variant:"flashlight",viewParameter:Q,viewType:72}),(0,g.jsx)(Z.c,{children:i=>{var t;return"products"===q?(0,g.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{marginTop:K}},children:[(0,g.jsx)(v,{resourceOptions:le}),";"]}):(0,g.jsxs)(o.xu,{display:"flex",paddingX:12,children:[(0,g.jsx)(o.xu,{bottom:!0,overflow:"auto",position:"fixed",dangerouslySetInlineStyle:{__style:{width:de,height:"inherit",top:i+K,marginBottom:10}},ref:X,children:(0,g.jsx)(o.xu,{"data-test-id":"flashlight-enabled-image",dangerouslySetInlineStyle:{__style:{width:te,height:ne}},children:(0,g.jsxs)(o.zd,{height:ne,rounding:h?4:2,width:te,children:[(0,g.jsx)(o.Ee,{alt:null!==(t=e.description)&&void 0!==t?t:"",naturalHeight:ne,naturalWidth:te,src:ae}),(0,g.jsx)(C.Z,{showAnimation:re,imageSignature:ie,imageSize:{h:ne,w:te},initialCropArea:oe,pin:e,spotlightAreas:me,viewParameter:Q})]})})}),(0,g.jsx)(o.xu,{position:"relative",width:"100%",dangerouslySetInlineStyle:{__style:{top:K,marginLeft:se?void 0:ce,marginRight:se?ce:void 0}},children:(0,g.jsx)(w,{resourceOptions:le,onSearchIdChange:Y,pin:e,viewParameter:Q})})]})}})]})})}var W;const $=void 0!==W?W:W=t(126210);function Y(e){var i,t,n;return{width:null!==(i=e.width)&&void 0!==i?i:0,url:null!==(t=e.url)&&void 0!==t?t:"",height:null!==(n=e.height)&&void 0!==n?n:0}}function q(e){const i=[];return e.forEach((({additionalImages:e,spec:t})=>{var n;i.push(...null!==(n=function({additionalImages:e,spec:i}){const t=[];return null==e||e.forEach((e=>{var n;e.canonicalImage&&t.push({canonical_images:{[i]:Y(e.canonicalImage)},image_signature:null!==(n=e.imageSignature)&&void 0!==n?n:""})})),t}({additionalImages:e,spec:t}))&&void 0!==n?n:[])})),i}function X(e){return null==e?void 0:e.map((e=>{var i,t,n,a,o;return{additional_images:null!==(i=q([{additionalImages:e.additionalImageOrig,spec:"orig"},{additionalImages:e.additionalImage736x,spec:"736x"},{additionalImages:e.additionalImage564x,spec:"564x"},{additionalImages:e.additionalImage474x,spec:"474x"},{additionalImages:e.additionalImage236x,spec:"236x"}]))&&void 0!==i?i:[],variant_set:null!==(n=e.variantSet,t={variants:null!==(o=null==n?void 0:n.variants,a=null==o?void 0:o.map((e=>{var i,t;return{additional_images:null!==(t=e.additionalImages,i=null==t?void 0:t.map((e=>{var i,t;return{canonical_images:null!==(i=e.canonicalImages)&&void 0!==i?i:{},image_signature:null!==(t=e.imageSignature)&&void 0!==t?t:""}})))&&void 0!==i?i:[]}})))&&void 0!==a?a:[]})&&void 0!==t?t:{}}}))}function J(e){const i={};return e.forEach((e=>{const{image:t,spec:n}=e;t&&(i[n]=Y(t))})),i}function Q(){var e,i,t,o,l,r,s;const{id:d}=(0,a.useParams)(),{pinId:u}=(0,c.Z)(d||""),p=function({pinId:e}){return{query:$,variables:{pinId:e}}}({pinId:u}),_=null===(e=(0,n.useLazyLoadQuery)($,p.variables).v3GetPinQuery)||void 0===e?void 0:e.data;if(!_)return null;var m,h,g,y,v;return{id:null!==(i=_.entityId)&&void 0!==i?i:"",is_eligible_for_related_products:null!==(t=_.isEligibleForRelatedProducts)&&void 0!==t&&t,description:null!==(o=_.description)&&void 0!==o?o:"",image_signature:null!==(l=_.imageSignature)&&void 0!==l?l:"",visual_objects:null!==(v=_.visualObjects,r=null==v?void 0:v.map((e=>{var i,t,n,a,o,l,r,s,d,c,u,p,_,m,h;return{detection:null!==(i=e.detection)&&void 0!==i&&i,h:null!==(t=e.h)&&void 0!==t?t:0,index:null!==(n=e.index)&&void 0!==n?n:0,is_stela:null!==(a=e.isStela)&&void 0!==a&&a,label:null!==(o=e.label)&&void 0!==o?o:"",label_id:null!==(l=e.labelId)&&void 0!==l?l:0,label_x:null!==(r=e.labelX)&&void 0!==r?r:0,label_y:null!==(s=e.labelY)&&void 0!==s?s:0,max_annotation_num_documents:null!==(d=e.maxAnnotationNumDocuments)&&void 0!==d?d:0,score:null!==(c=e.score)&&void 0!==c?c:0,show_on_closeup:null!==(u=e.showOnCloseup)&&void 0!==u&&u,title:null!==(p=e.title)&&void 0!==p?p:"",w:null!==(_=e.x)&&void 0!==_?_:0,x:null!==(m=e.w)&&void 0!==m?m:0,y:null!==(h=e.y)&&void 0!==h?h:0}})))&&void 0!==r?r:[],images:null!==(s=J([{image:_.imageOrig,spec:"orig"},{image:_.image736x,spec:"736x"},{image:_.image564x,spec:"564x"},{image:_.image474x,spec:"474x"},{image:_.image236x,spec:"236x"}]))&&void 0!==s?s:{},rich_metadata:(g=_.richMetadata,{products:null!==(y=X(null==g?void 0:g.products))&&void 0!==y?y:[]}),rich_summary:(m=_.richSummary,{products:null!==(h=X(null==m?void 0:m.products))&&void 0!==h?h:[]}),type:"pin"}}function ee(){const{data:e,isLoaded:i}=(0,d.Z)({name:"PinResource",getOptions:({routeData:{params:{id:e}}})=>({id:e,field_set_key:"detailed",fetch_visual_search_objects:!0})});return i&&e?e:null}const ie=(0,l.Z)({useGraphQLAdapter:Q,useLegacyAdapter:ee});function te(){const{checkExperiment:e}=(0,s.F)(),i=(0,r.ZP)();return(0,g.jsx)(ie,{input:e("auth_dweb_graphql_flashlight_pinResource").anyEnabled?{enabled:!0,data:null,suspense:{fallback:(0,g.jsx)(o.$j,{accessibilityLabel:i._('Loading Pin data', 'authDesktopFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})}}:{enabled:!1,data:null},children:({data:e})=>!!e&&(0,g.jsx)(V,{pin:e})})}},850500:(e,i,t)=>{t.d(i,{S:()=>c,w:()=>u});var n=t(667294),a=t(583592),o=t(133244),l=t(579733),r=t(785893);const s=()=>t.e(48968).then(t.bind(t,948968)),{Provider:d,useHook:c}=(0,a.Z)("MerchantStorefrontSettings");function u({children:e}){const[i,t]=(0,o.Z)(s,l.Z),a=(0,n.useMemo)((()=>({merchantStorefrontSettings:i,updateLocaleStorefrontSetting:(e,i,n)=>{t({type:"UPDATE_LOCALE_STOREFRONT_SETTING",payload:{country:e,language:i,feedProfileId:n}})},updateStorefrontLastUpdated:e=>{t({type:"UPDATE_STOREFRONT_LAST_UPDATED",payload:e})}})),[t,i]);return(0,r.jsx)(d,{value:a,children:e})}},407387:(e,i,t)=>{t.d(i,{Z:()=>n});const n={STOREFRONT_LOCALE_STORAGE_KEY:"merchantStorefront.storefrontSettings.locale"}},579733:(e,i,t)=>{t.d(i,{Z:()=>n});const n={currentViewingLocale:{country:"",language:"",feedProfileId:""},lastUpdated:0}},449879:(e,i,t)=>{t.d(i,{ZP:()=>r,tY:()=>d,Yh:()=>s});var n=t(702664),a=t(819079),o=t(802071);const l={SAVE_TO_PROFILE:0,SHOW_BOARD_PICKER:1};function r(e){var i;const t=(0,o.Z)(),n=t.isAuth&&t.id===e,l=(0,a.Z)(!t.isAuth||n?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}});return{showEnabledSaveBehavior:n&&t.has_quicksave_board||!(!t.isAuth||null===(i=(null!=l?l:{}).data)||void 0===i||!i.has_quicksave_board)}}function s(e){var i;const t=(0,n.useDispatch)(),l=(0,o.Z)(),r=l.isAuth&&!!l.boardCount&&l.boardCount<5&&e,s=(0,a.Z)(r&&e?{name:"UserResource",options:{field_set_key:"save_behavior",user_id:l.isAuth&&l.id}}:null);return l.isAuth&&void 0===l.save_behavior&&s&&null!==(i=s.data)&&void 0!==i&&i.id&&t({type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:s.data.save_behavior}}),{showEnabledSaveBehavior:r}}function d(e){const i=(0,o.Z)();let t;return e&&(i.save_behavior===l.SAVE_TO_PROFILE?t={type:"classic"}:i.save_behavior===l.SHOW_BOARD_PICKER&&(t={type:"inline"})),{saveBehaviorType:t}}},471501:(e,i,t)=>{function n({user:e,viewer:i}){return Boolean(i.isAuth&&(null==e?void 0:e.username)===i.username)}t.d(i,{Z:()=>n})},806743:(e,i,t)=>{t.d(i,{$B:()=>s,L6:()=>u,S5:()=>c,UI:()=>l,Up:()=>_,jl:()=>r,vW:()=>d,yK:()=>p});var n=t(883119),a=t(475190),o=t(589665);const l=new n.H3([new n.Ry(a.HW),new n.Ry(o.fe)]),r=1e5,s={ALL:"ALL",FEATURED:"FEATURED",CATEGORY:"CATEGORY"},d={SectionCategories:"SectionCategories",SectionEditYourShop:"SectionEditYourShop",SectionFeaturedProductGroups:"SectionFeaturedProductGroups"},c={[d.SectionCategories]:s.CATEGORY,[d.SectionFeaturedProductGroups]:s.FEATURED,[d.SectionEditYourShop]:s.ALL},u={[d.SectionCategories]:14126,[d.SectionFeaturedProductGroups]:14127},p={FEATURED:"featured_product_groups",CATEGORY:"featured_categories_product_groups"},_="/product-catalogs"},51283:(e,i,t)=>{t.d(i,{PRODUCT_GROUP_COVER_IMAGE_DIMENSIONS:()=>s,Z:()=>d});var n=t(667294),a=t(883119),o=t(388011),l=t(880391),r=t(785893);const s={HEIGHT:362,WIDTH:362};function d({productGroup:e,preferredPreviewPinSizes:i=[],coverFit:t=!1}){var d,c,u,p,_;const{logContextEvent:m}=(0,o.v)(),h=(null===(d=e.coverImages)||void 0===d?void 0:d[0])&&(0,l.cB)(e.coverImages[0]),{WIDTH:g,HEIGHT:y}=s,v=((null===(c=e.previewPins)||void 0===c?void 0:c[0])||{}).images;let f;const[x,b]=(0,n.useState)(!h);v&&x&&(f=i.concat("orig").map((e=>v[e])).find((e=>!!e)));const P=x?null===(u=f)||void 0===u?void 0:u.height:y,S=x?null===(p=f)||void 0===p?void 0:p.width:g,w=x?null===(_=f)||void 0===_?void 0:_.url:h;return P&&S&&w?(0,r.jsx)(a.Ee,{alt:"",naturalHeight:P,naturalWidth:S,src:w,fit:t?"cover":"contain",onError:()=>{x||(m({event_type:10048,component:14004,aux_data:{product_group_cover_image_url:h}}),b(!0))}}):null}},492701:(e,i,t)=>{t.d(i,{Z:()=>E});var n=t(667294),a=t(883119),o=t(690108),l=t(388011),r=t(970588),s=t(88622),d=t(550140),c=t(128340),u=t(536042),p=t(630089),_=t(819079),m=t(63262),h=t(802071),g=t(850865),y=t(259511),v=t(475190),f=t(589665),x=t(850500),b=t(880391),P=t(785893);const S=new a.H3([new a.Ry(v.HW),new a.Ry(f.fe)]),w=316,I=255,T=155;function A({onFileUpload:e}){const i=(0,u.ZP)(),[t,o]=(0,n.useState)(!1),l=(0,n.useRef)(null),r=i._('Upload from computer', 'ProductGroupDetailsModal.uploadFromComputer', 'Dropdown label to upload image file from your computer');return(0,P.jsxs)(a.kC,{justifyContent:"center",children:[(0,P.jsx)(a.hU,{accessibilityExpanded:t,accessibilityHaspopup:!0,accessibilityLabel:i._('Upload product group cover image menu', 'ProductGroupDetailsModal.productGroupCoverImageA11y', 'Accessibility text for upload menu'),bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:()=>o((e=>!e)),ref:l,size:"lg"}),t&&(0,P.jsx)(a.Lt,{anchor:l.current,id:"product-group-image-dropdown",onDismiss:()=>o(!1),children:(0,P.jsx)(a.Lt.Item,{onSelect:()=>{o(!1),e()},option:{value:r,label:r}})})]})}function k({image:e,onFileUpload:i,onError:t}){const n=(0,u.ZP)(),o=n._('Product Group Cover Image', 'ProductGroupDetailsModal.productGroupCoverImageAlt', 'Alt text for product group cover image');return(0,P.jsxs)(a.xu,{position:"relative",children:[(0,P.jsx)(a.xu,{height:w,width:w,rounding:5,overflow:"hidden",children:(0,P.jsx)(a.Ee,{alt:o,color:"#EFEFEF",fit:"cover",naturalHeight:1,naturalWidth:1,src:e,onError:t})}),(0,P.jsx)(a.xu,{position:"absolute",top:!0,right:!0,padding:4,children:(0,P.jsx)(A,{onFileUpload:i})})]})}function E({onDismiss:e,onSubmit:i,productGroup:t}){var v,f,A;const{logContextEvent:E}=(0,l.v)(),C=(0,u.ZP)(),j=C._('Edit product group display', 'ProductGroupDetailsModal.heading', 'Modal title'),R=`/v3/business/users/${(0,h.Z)().id||""}/storefront/product_group_image/`,[D,F]=(0,n.useState)(""),[L,O]=(0,n.useState)(""),[z,N]=(0,n.useState)(),[M,B]=(0,n.useState)(),[Z,U]=(0,n.useState)(!1),[K,G]=(0,n.useState)(0),[H]=(0,n.useState)((new Date).getTime()),V=t.groupType!==b.yh,{merchantId:W,advertiserId:$}=(0,g.Z)(),{showOneToast:Y}=(0,m.F9)(),{updateStorefrontLastUpdated:q}=(0,x.S)(),X=(0,y.Ib)({advertiserId:$,merchantId:W,productGroupsIds:[t.entityId],uniq:H},!1,!0),J=(0,_.Z)({name:"ApiResource",options:{url:R,data:{product_group_ids:[t.entityId]},uniq:H},noCache:!0}),Q=(0,n.useRef)(),ee=Number(t.entityId),ie=null===(v=X.data)||void 0===v?void 0:v.find((e=>e.id===ee)),te=X.isLoaded&&J.isLoaded,ne=ie&&(D!==ie.name||L!==(ie.description||"")||!!z),ae=ie&&D!==ie.name,oe=ie&&L!==(ie.description||""),le=te&&(((null===(f=J.data)||void 0===f?void 0:f[t.entityId])||{})[0]||{}),re=le?(0,b.cB)((0,c.b)(le)):null,se=(null===(A=t.previewPins)||void 0===A?void 0:A[0])||{},de=se.imageSignature,ce=se.images&&(0,b.cB)(se.images),ue=M||[re,ce].filter((e=>!!e))[K];(0,n.useEffect)((()=>{ie&&(F(ie.name||""),O(ie.description||""))}),[ie]),(0,n.useEffect)((()=>{E({event_type:9854,component:13998})}),[E]);const pe=()=>{e(),E({event_type:9856,component:13998})},_e=C._('Save', 'ProductGroupDetailsModal.SaveBtn', 'Button to save product group details changes'),me=C._('Cancel', 'ProductGroupDetailsModal.CancelBtn', 'Button to cancel product group details changes');return(0,P.jsx)(a.mh,{zIndex:S,children:(0,P.jsx)(s.ZP,{accessibilityModalLabel:j,align:"center",heading:j,onDismiss:pe,footer:te?(0,P.jsxs)(a.kC,{alignItems:"start",children:[(0,P.jsx)(a.xu,{width:"50%",children:(0,P.jsx)(a.xv,{size:"300",children:(0,p.nk)(C._('To edit items in this product group, visit {{catalogsLink}}', 'ProductGroupDetailsModal.coverImage', 'heading for cover image form'),{catalogsLink:(0,P.jsx)(a.rU,{href:"/product-catalogs",display:"inlineBlock",target:"blank",underline:"hover",children:(0,P.jsx)(a.xv,{weight:"bold",inline:!0,children:C._('Pinterest Catalogs', 'ProductGroupDetailsModal.catalogsLink', 'link for catalogs')})},"product-catalogs-link")})})}),(0,P.jsx)(a.xu,{width:"50%",children:(0,P.jsxs)(a.kC,{gap:{row:2,column:0},alignItems:"center",justifyContent:"end",children:[(0,P.jsx)(a.zx,{color:"gray",text:me,onClick:pe}),(0,P.jsx)(a.zx,{color:"red",text:_e,onClick:()=>{const n=re?z:z||de,a=[],l=[];n&&(a.push((0,r.Z)({url:R,method:"PUT",data:{image_signatures:[n],product_group_id:t.entityId}})),l.push("cover_image")),(ae||oe)&&(a.push(o.Z.create("ProductGroupsResource",{name:D,description:L,productGroupId:Number(t.entityId),filters:null==ie?void 0:ie.filter_v2}).callUpdate()),ae&&l.push("name"),oe&&l.push("description")),E({event_type:9857,component:13998,aux_data:{product_group_modal_changes:l.join(",")}}),e(),Promise.all(a).then((()=>{i(),q((new Date).getTime()),Y((({hideToast:e})=>(0,P.jsx)("div",{className:"ProductGroupSavedToast",children:(0,P.jsx)(d.ZP,{duration:b.QE,onHide:e,text:C._('Product group saved', 'MerchantStorefront.ProductGroupDetailsModal.pgSaved', 'toast text')})})))}))},disabled:!ne})]})})]},"product-group-details-footer"):(0,P.jsx)(n.Fragment,{}),size:V?"md":"sm",children:(0,P.jsx)(a.xu,{paddingX:8,marginBottom:2,children:te?(0,P.jsxs)(a.kC,{justifyContent:"center",children:[(0,P.jsxs)(a.xu,{width:320,children:[(0,P.jsx)(a.xu,{marginBottom:4,children:(0,P.jsx)(a.xv,{size:"300",weight:"bold",children:C._('Cover image', 'ProductGroupDetailsModal.coverImage', 'heading for cover image form')})}),(0,P.jsx)("input",{accept:"image/*","data-test-id":"cover-image",id:"product-group-image-upload",onChange:e=>{if(e.target instanceof HTMLInputElement){const i=e.target.files[0],t=new FileReader;i&&t.readAsDataURL(i),t.addEventListener("load",(()=>{U(!0),E({event_type:9855,component:13998}),(0,r.Z)({url:R,method:"POST",data:{image_base64:t.result}}).then((e=>{var i;N(null===(i=e.resource_response.data)||void 0===i?void 0:i.image_signature),U(!1),"string"==typeof t.result&&B(t.result)}))}),!1)}},ref:Q,style:{display:"none"},type:"file"}),Z&&(0,P.jsx)(a.xu,{height:w,width:w,rounding:5,color:"secondary",justifyContent:"center",direction:"column",display:"flex",children:(0,P.jsx)(a.$j,{accessibilityLabel:C._('Uploading product group cover image', 'ProductGroupDetailsModal.uploadingCoverImage', 'spinner accessibility label'),show:!0})}),!Z&&ue&&(0,P.jsx)(k,{image:ue,onFileUpload:()=>{var e;null===(e=Q.current)||void 0===e||e.click()},onError:()=>G(K+1)})]}),V&&(0,P.jsxs)(a.xu,{width:320,marginStart:4,children:[(0,P.jsx)(a.xu,{marginBottom:4,children:(0,P.jsx)(a.xv,{size:"300",weight:"bold",children:C._('Title', 'ProductGroupDetailsModal.name', 'heading for product group name input')})}),(0,P.jsx)(a.nv,{id:"name",onChange:({value:e})=>F(e.slice(0,I)),size:"lg",type:"text",value:D}),(0,P.jsxs)(a.xu,{marginTop:2,marginBottom:4,height:30,children:[D&&(0,P.jsx)(a.xv,{size:"100",color:"subtle",children:C._('Changing your product group\'s name in your shop will also change its name in Catalogs', 'ProductGroupDetailsModal.pgName', 'subheading for name form')}),!D&&(0,P.jsx)(a.xv,{size:"100",color:"error",children:C._('This field can\'t be blank!', 'ProductGroupDetailsModal.nameEmptyError', 'error message for an empty name input')})]}),(0,P.jsx)(a.xu,{marginBottom:4,children:(0,P.jsx)(a.xv,{size:"300",weight:"bold",children:C._('Description', 'ProductGroupDetailsModal.description', 'heading for description form')})}),(0,P.jsx)(a.xu,{height:178,children:(0,P.jsx)(a.Kx,{id:"description",onChange:({value:e})=>O(e.slice(0,T)),placeholder:C._('Tell shoppers on Pinterest more about this product group', 'ProductGroupDetailsModal.descriptionPlaceholder', 'textarea placeholder for product group description'),value:L,rows:7})})]})]}):(0,P.jsx)(a.$j,{accessibilityLabel:C._('Loading product group details', 'ProductGroupDetailsModal.loadingSpinner', 'spinner accessibility label'),show:!0})})})})}},826935:(e,i,t)=>{t.d(i,{Z:()=>p});var n=t(667294),a=t(883119),o=t(536042),l=t(51283),r=t(492701),s=t(785893);const d=()=>{},c=({url:e,onClick:i,i18n:t})=>(0,s.jsx)(a.ZP,{accessibilityLabel:t._('Shop button', 'ProductGroupV2.shopButton.accessibilityLabel', 'Shop button for product group rep v2'),size:"lg",text:t._('Shop', 'ProductGroupV2.shopButton.text', 'Shop button text for product group rep v2'),color:"white",href:e,onClick:i}),u=({i18n:e})=>(0,s.jsx)(a.zx,{accessibilityLabel:e._('Shop button', 'ProductGroupV2.shopButton.accessibilityLabel', 'Shop button for product group rep v2'),size:"lg",text:e._('Shop', 'ProductGroupV2.shopButton.text', 'Shop button text for product group rep v2'),color:"white"});function p({onClick:e,productGroup:i,showControls:t,url:p}){var _,m;const h=(0,o.ZP)(),g=h._('Edit product group display', 'ProductGroupV2.editTooltip', 'Tooltip text for edit product group button'),[y,v]=(h._('Remove product group from shop', 'ProductGroupV2.removeTooltip', 'Tooltip text for remove product group button'),(0,n.useState)(!1)),[f,x]=(0,n.useState)(!1),b=!(!p||!e),{WIDTH:P,HEIGHT:S}=l.PRODUCT_GROUP_COVER_IMAGE_DIMENSIONS,w=P-64;return(0,s.jsxs)(a.xu,{position:"relative",onMouseEnter:()=>{x(!0)},onMouseLeave:()=>{x(!1)},children:[(0,s.jsxs)(a.xu,{position:"relative",children:[(0,s.jsxs)(a.zd,{width:P,height:S,rounding:8,children:[(0,s.jsx)(l.Z,{productGroup:{coverImages:i.coverImages,groupType:i.groupType,previewPins:null===(_=i.previewPins)||void 0===_?void 0:_.map((e=>({imageSignature:e.imageSignature,images:e.images})))}}),(0,s.jsx)(a.xu,{position:"absolute",width:P,height:S,top:!0,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}}})]}),(0,s.jsx)(a.xu,{position:"absolute",color:"selected",opacity:f?.5:0,width:P,height:S,rounding:8,top:!0})]}),t&&f&&(0,s.jsxs)(a.xu,{position:"absolute",top:!0,right:!0,padding:8,display:"flex",children:[(0,s.jsx)(a.xu,{marginEnd:0,children:(0,s.jsx)(a.u,{text:g,idealDirection:"down",children:(0,s.jsx)(a.hU,{accessibilityLabel:g,bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>{e.stopPropagation(),e.preventDefault(),v(!0)},size:"xl"})})}),false]}),(0,s.jsxs)(a.xu,{position:"absolute",bottom:!0,left:!0,padding:8,children:[(0,s.jsx)(a.xu,{marginBottom:5,maxWidth:w,children:(0,s.jsx)(a.X6,{size:"600",color:"inverse",lineClamp:2,children:i.name})}),f&&(0,s.jsx)(a.xu,{marginBottom:5,maxWidth:w,children:(0,s.jsx)(a.xv,{size:"300",color:"inverse",children:i.description})}),!b&&(0,s.jsx)(u,{i18n:h}),b&&(0,s.jsx)(c,{url:null!=p?p:"",onClick:null!=e?e:d,i18n:h})]}),t&&y&&(0,s.jsx)(r.Z,{onDismiss:()=>v(!1),onSubmit:()=>v(!1),productGroup:{entityId:i.entityId,groupType:i.groupType,previewPins:null===(m=i.previewPins)||void 0===m?void 0:m.map((e=>({imageSignature:e.imageSignature,images:e.images})))}})]})}},602531:(e,i,t)=>{t.d(i,{LO:()=>v,N0:()=>b,t8:()=>P,tt:()=>S});var n=t(667294),a=t(819079),o=t(611756),l=t(802071),r=t(850865),s=t(548672),d=t(531017),c=t(329689),u=t(384722),p=t(407387),_=t(850500),m=t(471501),h=t(880391),g=t(838419);function y(e){const i=(0,a.Z)(e?{name:"ApiResource",options:{url:`/v3/catalogs/${e}/feed_profiles/`,field_sets:["feedprofile.id","feedprofile.display_name","feedprofile.country","feedprofile.locale","feedprofile.all_products_pg_item_count","feedprofile.feed_status"]}}:null);return{feedProfilesResource:i,feedProfiles:(0,d.d9)(i.data||[]).filter((e=>e.country&&e.locale&&e.feedStatus===s.Hm.ACTIVE))}}function v(){const{merchantId:e,ownerUserId:i}=(0,r.Z)(),{countriesResource:t,countries:n}=function(){const e=(0,a.Z)({name:"CountriesResource"});return{countriesResource:e,countries:(e.data||[]).reduce(((e,i)=>({...e,[i.key]:i.name.split(" (")[0]||""})),{})}}(),{feedProfilesResource:o,feedProfiles:l}=y(e),{storefrontSettingsResource:s,settings:d}=function(e){const i=(0,a.Z)(e?{name:"ApiResource",options:{url:`/v3/business/users/${e}/storefront/settings/`}}:null);return{storefrontSettingsResource:i,settings:i.data||{}}}(i);return{countries:n,feedProfiles:l,isLoaded:t.isLoaded&&o.isLoaded&&s.isLoaded,refresh:()=>{o.refresh(),s.refresh()},settings:d,userId:i}}function f(){const{merchantId:e}=(0,r.Z)(),{feedProfilesResource:i,feedProfiles:t}=y(e),{userSettingsResource:n,userSettings:o}=function(){const e=(0,a.Z)({name:"UserSettingsResource",options:{field_set_key:"profile"}});return{userSettingsResource:e,userSettings:e.data}}();return{feedProfiles:t,isLoaded:i.isLoaded&&n.isLoaded,userSettings:o}}function x(){const{data:e}=(0,g.Z)(),i=(0,l.Z)(),t=(0,m.Z)({user:e,viewer:i}),n=(0,c.Z)();return{isORBACProfileManager:(0,u.q6)(i,null==e?void 0:e.id,n),ownProfile:t}}function b(){const{ownProfile:e}=x();return e}function P(){const{ownProfile:e,isORBACProfileManager:i}=x();return e||i}function S(){const{feedProfiles:e,userSettings:i,isLoaded:t}=f(),{merchantStorefrontSettings:{currentViewingLocale:{country:a,language:l}},updateLocaleStorefrontSetting:r}=(0,_.S)(),{countries:s}=v();(0,n.useEffect)((()=>{if(t&&(!a||!l||!(0,h.Ee)(e,a,l))){var n;const[t,a]=((0,o.qn)(p.Z.STOREFRONT_LOCALE_STORAGE_KEY)||"").split("/"),l=(0,h.b8)(e,s),c=(0,h.Ee)(l,t,a),u=(0,h.Ee)(l,null!==(n=null==i?void 0:i.country)&&void 0!==n?n:"",(0,h.Md)(null==i?void 0:i.locale)),[_]=[...l].sort(((e,i)=>(0,h.gE)(i)-(0,h.gE)(e))),m=c||u||_;var d;if(m)r(m.country||"",(0,h.Md)(m.locale),null!==(d=m.id)&&void 0!==d?d:"")}}))}},620368:(e,i,t)=>{t.d(i,{Z:()=>s});var n=t(777610);const a={BrandCatalogFeed:{tapBrandCatalogPin:function({commerceData:e},i){i({event_type:102,view_type:1,view_parameter:3244,component:0,aux_data:{...e}})}},ProductFeed:{tapProductPin:function({commerceData:e},i){i({event_type:102,component:13700,view_type:4,view_parameter:3512,aux_data:{...e}})}},StorefrontFeed:{tapProductGroup:function({productGroupId:e},i){i({event_type:102,view_type:4,view_parameter:3512,component:13698,object_id_str:e})},useShoppingProfileViewLog:function(){(0,n.Q)({view_type:4,view_parameter:3107,component:237})},viewProductGroup:function({productGroupId:e},i){i({event_type:120,view_type:4,view_parameter:3512,component:13698,object_id_str:e})}}};function o({entryPoint:e,objectId:i,groupType:t}){return{aux_data:{commerce_data:JSON.stringify({entrypoint:e}),product_group_type:t},component:13698,object_id_str:i,view_type:1,view_parameter:3515}}const l={BrandCatalog:{tapBrandCatalogPin:function({commerceData:e},i){i({event_type:102,view_type:1,view_parameter:3513,component:13700,aux_data:{...e}})}},Categories:{tapCategoryBubble:function({entryPoint:e},i){i({event_type:102,view_type:1,view_parameter:3514,component:13699,aux_data:{commerce_data:JSON.stringify({entrypoint:e})}})}},ProductGroups:{productGroupRendered:function({entryPoint:e,productGroupId:i,groupType:t},n){n({event_type:120,...o({entryPoint:e,objectId:i,groupType:t})})},tapProductGroup:function({entryPoint:e,productGroupId:i,groupType:t},n){n({event_type:102,...o({entryPoint:e,objectId:i,groupType:t})})}},ProductPins:{tapProductPin:function({commerceData:e,component:i},t){t({event_type:102,component:i,view_type:1,view_parameter:3513,aux_data:{...e}})},viewProductPinsFeed:function({component:e,entryPoint:i,category:t,productGroupId:n},a){a({event_type:13,component:e,view_type:1,view_parameter:3513,aux_data:{commerce_data:JSON.stringify({entrypoint:i}),category_title:t,product_group_id:n}})}},viewFeedPage:function({entryPoint:e,viewParameter:i},t){t({event_type:13,view_type:1,view_parameter:i,aux_data:{commerce_data:JSON.stringify({entrypoint:e})}})}};var r=t(79917);const s={Control:a,DomainModule:{trackSeeMoreClick:function({viewParameter:e},i){i({event_type:102,component:13327,element:11829,view_type:3,view_parameter:e})}},Feeds:l,StructuredFeed:{viewStructuredFeed:function({merchantId:e,source:i},t){t({event_type:13,view_type:(0,r.Z)(i),view_parameter:3512,..."profile"===i?{object_id_str:e}:Object.freeze({})})},Categories:{viewCategory:function({id:e,source:i,title:t,bubble:n},a){a({event_type:120,component:13699,view_type:(0,r.Z)(i),view_parameter:3512,aux_data:{story_type:"storefront_category_bubbles",story_id:e,category_title:t,...n.aux_fields}})},tapCategory:function({id:e,source:i,title:t,bubble:n},a){a({event_type:102,component:13699,view_type:(0,r.Z)(i),view_parameter:3512,aux_data:{story_type:"storefront_category_bubbles",story_id:e,category_title:t,...n.aux_fields}})},tapSeeMoreCategories:function({id:e,source:i},t){t({event_type:102,component:13699,element:179,view_type:(0,r.Z)(i),view_parameter:3512,aux_data:{story_id:e,story_type:"storefront_category_footer_button"}})}},ProductGroups:{tapProductGroup:function({productGroupId:e,source:i,groupType:t,componentType:n,index:a},o){o({event_type:102,component:n,object_id_str:e,view_type:(0,r.Z)(i),view_parameter:3512,aux_data:{product_group_type:t,grid_index:a}})},tapSeeMoreProductGroups:function({id:e,source:i},t){t({event_type:102,component:13698,element:179,aux_data:{story_id:e,story_type:"storefront_product_group_footer_button"},view_type:(0,r.Z)(i),view_parameter:3512})},viewProductGroup:function({productGroupId:e,source:i,groupType:t,componentType:n},a){a({event_type:120,component:n,object_id_str:e,view_type:(0,r.Z)(i),view_parameter:3512,aux_data:{product_group_type:t}})}},PinsFeed:{viewPinsFeed:function({id:e,OwnerUserId:i,pinsFeedTitle:t,source:n},a){a({event_type:120,component:13700,view_type:(0,r.Z)(n),view_parameter:3512,aux_data:{story_id:e,story_type:"storefront_pins_feed",pins_feed_title:t,owner_user_id:i}})},tapPin:function({commerceData:e,source:i},t){t({event_type:102,component:0,view_type:(0,r.Z)(i),view_parameter:3512,aux_data:{...e}})}}}}},79917:(e,i,t)=>{function n(e){return"profile"===e?4:1}t.d(i,{Z:()=>n})},880391:(e,i,t)=>{t.d(i,{Ee:()=>h,LT:()=>p,Md:()=>s,Q1:()=>m,QE:()=>r,S8:()=>y,WU:()=>x,YY:()=>f,b8:()=>P,c8:()=>_,cB:()=>g,gE:()=>d,mV:()=>v,u3:()=>c,yh:()=>l,z1:()=>u});var n=t(690108),a=t(970588),o=t(806743);const l="ALL_PRODUCTS",r=5e3,s=e=>e?e.split("-")[0].toLowerCase():"",d=e=>{var i;return e.allProductsPGItemCount||(null===(i=e.lastSuccessfulIngestion)||void 0===i?void 0:i.productCount)||0},c=e=>[e.country||"",s(e.locale)].join("/").toUpperCase(),u=(e,i)=>e&&i?`${e} (${s(i).toUpperCase()})`:"",p=(e,i)=>{const[t,n]=i.split("/");return u(e[t.toUpperCase()],n)},_=e=>!e||void 0===e.shop_visible||e.shop_visible,m=(e,i)=>{const t=i.map(c);return Object.keys(e).map((e=>e.toUpperCase())).filter(((i,n,a)=>t.includes(i)&&!_(e[i])&&a.indexOf(i)===n))},h=(e,i,t)=>i&&t?e.find((e=>e.country===i&&s(e.locale)===t)):void 0,g=e=>{if(!e)return"";const i=["488x488","976x976","368x368","736x","474x","originals","orig",Object.keys(e)[0]];for(const n of i){var t;if(e[n])return null!==(t=e[n].url)&&void 0!==t?t:""}return""},y=e=>e.filter((e=>Number.isInteger(e.featured_position))).map((({id:e})=>e)),v=(e,i)=>{const t=new Set(i),n=new Set(e);return{featureProductGroupsSet:new Set([...n.values()].filter((e=>!t.has(e)))),unfeatureProductGroupsSet:new Set([...t.values()].filter((e=>!n.has(e))))}},f=async(e,i,t="FEATURED")=>{const{featureProductGroupsSet:l,unfeatureProductGroupsSet:r}=i,{userId:s,feedProfileId:d,countrySetting:c,languageSetting:u,settings:p}=e,_=`${c}/${u.toUpperCase()}`,m=t===o.$B.CATEGORY?[]:[...l.values()].map((e=>n.Z.create("FeaturedProductGroupsResource",{feedProfileId:d,productGroupId:e}).callCreate())),h=t===o.$B.CATEGORY?[]:[...r.values()].map((e=>n.Z.create("FeaturedProductGroupsResource",{feedProfileId:d,productGroupId:e}).callDelete())),g=o.yK[t],y=p[_]&&p[_][g]||[],v=[...new Set([...y,...l.values()])].filter((e=>!r.has(e))),f={...p,[_]:{...p[_]||{},[g]:v}},x=(0,a.Z)({url:`/v3/business/users/${s}/storefront/settings/`,method:"PUT",data:{settings:JSON.stringify(f)}});await Promise.all([x,...m,...h])},x=(e,i)=>e.length===i.length&&i.every((i=>e.includes(i))),b=(e,i)=>u(i[e.country||""],e.locale),P=(e,i)=>e.reduce(((e,t)=>{const n=e.findIndex((e=>b(e,i)===b(t,i)));return-1===n?e.push(t):d(e[n])<d(t)&&(e[n]=t),e}),[])},838419:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(616550),a=t(819079);function o(){const{username:e}=(0,n.useParams)();return(0,a.Z)(null==e?null:{name:"UserResource",options:{username:e,field_set_key:"profile"}})}},736595:(e,i,t)=>{t.d(i,{Z:()=>l,f:()=>r});var n=t(690108),a=t(911767);function o(e){return n.Z.create("BoardFollowResource",{board_id:e})}function l(e){return i=>{o(e).callCreate().catch((()=>{i((0,a.md)(e,!1))})),i((0,a.md)(e,!0))}}function r(e){return i=>{o(e).callDelete().catch((()=>{i((0,a.md)(e,!0))})),i((0,a.md)(e,!1))}}},533451:(e,i,t)=>{function n(e,i){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:i}}}function a(e,i){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:i}}}function o(e,i,t,n,a){return{type:"PIN_SAVE",payload:{id:e,boardId:i,title:t,url:n,localPinId:a}}}function l(e){return{type:"PIN_UNSAVE",payload:{id:e}}}function r(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function s({id:e,text:i,undoAction:t,undoActionOptions:n,undoText:a}){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:i,undoAction:t,undoActionOptions:n,undoText:a}}}function d(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function c(e,i){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:i}}}function u(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function p(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function _(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function m(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}t.d(i,{Gb:()=>l,I1:()=>d,Ib:()=>u,NA:()=>s,Ur:()=>o,Vw:()=>r,b9:()=>_,i0:()=>p,mO:()=>a,q1:()=>c,yR:()=>n,yj:()=>m})},903539:(e,i,t)=>{t.d(i,{By:()=>d,IT:()=>s,N6:()=>a,br:()=>o,lU:()=>r,mk:()=>l});var n=t(970588);const a=(e,i)=>({type:"UPDATE_CURRENT_SEARCH",payload:{query:e,scope:i}}),o=(e,i)=>({type:"UPDATE_RECENT_SEARCHES",payload:{query:e,scope:i}}),l=e=>({type:"SET_ANIMATION_ON_BODY_FILTER",payload:{animated:e}}),r=(e,i,t)=>a=>{(0,n.Z)({url:"/v3/search/recent/",method:"DELETE",data:{vertical:e}}).then(i,t),a("PERSONAL"===e?{type:"CLEAR_RECENT_PERSONAL_SEARCHES"}:{type:"CLEAR_RECENT_SEARCHES"})},s=(e,i,t,a)=>o=>{(0,n.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:e,vertical:i}}).then(t,a),o("PERSONAL"===i?(e=>({type:"CLEAR_RECENT_PERSONAL_SEARCH",payload:{query:e}}))(e):(e=>({type:"CLEAR_RECENT_SEARCH",payload:{query:e}}))(e))},d=e=>i=>{i((e=>({type:"RELOAD_VISUAL_SEARCH_ANNOTATIONS",payload:{pinId:e}}))(e))}},383462:(e,i,t)=>{t.d(i,{ZN:()=>l,bJ:()=>s,fv:()=>r,hr:()=>o,lD:()=>d});var n=t(690108);function a(e,i){return n.Z.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:i})}const o=(e,i)=>({type:"TOPIC_FOLLOW",payload:{id:e,value:i}}),l=(e,i)=>t=>{a(e,i).callCreate().catch((()=>t(o(e,!1)))),t(o(e,!0))},r=(e,i)=>t=>{a(e,i).callDelete().catch((()=>t(o(e,!0)))),t(o(e,!1))},s=e=>i=>{const t=e.reduce(((e,i)=>({...e,[i.id]:!i.is_followed})),{});return n.Z.create("UpdateFollowedInterestsResource",{updated_interest_follows:t}).callUpdate().then((()=>{e.forEach((({id:e,is_followed:t})=>{i(o(e,!t))}))}))},d=(e,i="")=>t=>n.Z.create("UpdateFollowedInterestsResource",{referrer:i,updated_interest_follows:e}).callUpdate().then((()=>{Object.keys(e).forEach((i=>{const n=e[i];t(o(i,n))}))}))},427778:(e,i,t)=>{t.d(i,{KF:()=>c,ZN:()=>r,fv:()=>d,kE:()=>p,yA:()=>s});var n=t(690108),a=t(970588),o=t(446191);function l(e,i,t,a){return n.Z.create("UserFollowResource",{user_id:e,invite_code:a||void 0,aux_data:i?{pin_id:i}:void 0,client_tracking_params:t})}function r(e,i=null,t,n){return a=>{l(e,i,t,n).callCreate().catch((()=>a((0,o.P_)(e,!1)))),a((0,o.P_)(e,!0))}}function s(e,i=null,t,n){return async a=>{a((0,o.P_)(e,!0)),await l(e,i,t,n).callCreate().catch((i=>{throw a((0,o.P_)(e,!1)),i}))}}function d(e,i=null,t){return n=>{l(e,i,t).callDelete().catch((()=>n((0,o.P_)(e,!0)))),n((0,o.P_)(e,!1))}}function c(e,i=null,t){return async n=>{n((0,o.P_)(e,!1)),await l(e,i,t).callDelete().catch((i=>{throw n((0,o.P_)(e,!0)),i}))}}const u=(e,i)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:i}}),p=e=>i=>{e.length>0&&((0,a.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e.join(",")}}).catch((()=>i(u(e,!1)))),i(u(e,!0)))}},925748:(e,i,t)=>{t.d(i,{J:()=>h,Z:()=>f});var n=t(711443),a=t(857867),o=t(829488),l=t(808156),r=t(789144),s=t(255655),d=t(791621),c=t(274796);const u=new Set(["PinResource","RepinResource"]),p={ApiResource:e=>{return"/v3/orientation/nux_creator_recommendations/"===(null==e?void 0:e.url)?"nux-creator-recommendations":"/v3/users/me/interests/"===(null==e?void 0:e.url)?`recommended-interests:${null===(i=e.data)||void 0===i?void 0:i.blend_type}`:"";var i},AggregatedActivityFeedResource:e=>`trieditfeed:${e.aggregated_pin_data_id}`,AggregatedCommentFeedResource:e=>`aggregated-comments:${e.objectId}`,AggregatedCommentReplyFeedResource:e=>`${c.Z.AGGREGATED_COMMENT_REPLIES}:${e.objectId}`,BoardlessPinsResource:e=>`boardless-pins:${e.userId}`,BestPinsFeedAltResource:e=>`idea-page-best-pins:${e.interest}`,BoardArchiveResource:()=>"archived-boards",BoardCollaboratorsResource:e=>`board-collaborators:${e.board_id}`,BoardContentRecommendationResource:e=>`recommendation-feed:${e.id}`,BoardFeedResource:e=>`boardfeed:${e.board_id}`,BoardSectionsRepinResource:e=>`board-sections:${e.board_id}`,BoardSectionsResource:e=>`board-sections:${e.board_id}`,BoardSectionPinsResource:e=>`board-section-pins:${e.section_id}`,BoardsFeedResource:e=>`profile-boards:${e.username}`,BoardToolsFeedResource:e=>`board-tools:${e.boardId}`,ConversationsResource:()=>"conversations",DidItLikedByResource:e=>`triedit-likes:${e.didItDataId}`,DidItUserFeedResource:e=>`profile-tried:${e.username}`,ExploreArticleBlockSearchResource:e=>`explore-search:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserResource:e=>`explore-user:${e.article_id}:${e.block_id}`,ExploreArticleBlockPinResource:e=>`explore-pin:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserDidItDataResource:e=>`explore-did_it:${e.article_id}:${e.block_id}`,FollowingFeedResource:()=>"following",HolidaySpotlightRelatedFeedResource:e=>`holiday-spotlight-related:${e.storyType}`,HolidaySpotlightResource:e=>`holiday-spotlight:${e.storyType}`,InterestResource:e=>`klp-pins:${e.interest}`,MoreIdeasTabsBoardsResource:()=>"homefeed-more-ideas-tabs",NewsHubResource:()=>"notifications",NewsHubDetailsResource:e=>`newshubdetail:${e.news_id}`,NuxInterestsResource:()=>"nuxTopics",PinsFromBrandResource:e=>`brand-pins:${e.pin}`,ReactionsResource:e=>`reactions:${e.pin_id}`,RelatedArticlesResource:e=>`related-articles:${e.article_id}`,RelatedModulesResource:e=>`related-modules:${e.pin_id}`,RelatedPinFeedResource:e=>`related-pins:${e.pin}`,RelatedProductFeedResource:e=>"pin"===e.shop_source?`closeup-related-products:${e.pin}`:`related-products:${e.pin}`,RelatedStreamResource:e=>`related-story-pins:${e.pinId}`,SearchResource:e=>{const i=`search:${e.scope}:${e.query}:${e.filters||""}:${e.article||""}`;return e.auto_correction_disabled?`${i}:auto-correction-disabled`:i},BaseSearchResource:e=>{const i=`search:${e.scope}:${e.query}:${e.filters||""}:${e.appliedProductFilters}:${e.article||""}`;return e.auto_correction_disabled?`${i}:auto-correction-disabled`:i},SectionToolsFeedResource:e=>`section-tools:${e.sectionId}`,ShareSuggestionsTypeaheadResource:e=>`share-suggestions:${e.board||e.user}:${e.term}`,ShoppingFeedModularizedResource:e=>e.saved_products_only?`board-shop-saved:${e.board_id}`:`board-shop-related:${e.board_id}`,StoryFeedResource:e=>`story-feed:${e.feed_type}:${e.request_params}`,SuggestedCreatorFollowsResource:()=>"suggested-creator-follows",StoryPinTaggedProductsResource:()=>"story-pin-tagged-products",TodayArticleFeedResource:e=>`today-article:${e.id}`,IdeasHubTodayArticlesResource:e=>`today-article:${e.interest_id}`,TodayTabInterestFeedResource:e=>`today-article-interestfeed:${e.interest_id}`,TodayTabResource:()=>"today-tab",SeoTier1CandidateResource:()=>"tier1-feed",UnifiedCommentsResource:e=>`unified-comments:${e.aggregated_pin_id}`,UserActivityPinsResource:e=>`profile-pins-feed:${e.user_id}`,UserHomefeedResource:e=>e.pin_quiz?"pin-quiz":"homefeed",UserFollowingResource:e=>`user-following:${e.username}`,UserRecentActivityResource:e=>`user-recent-activity:${e.filter_type}`,UserStoryPinsFeedResource:e=>`story-pins-feed:${e.user_id}`,VideosFeedResource:()=>"videos-feed",VisualLiveSearchResource:e=>`visual-search:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualLiveSearchProductFeedResource:e=>`visual-search-products:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualSearchFlashlightUnifiedResource:e=>`related-products-unified:${e.pin_id}`,BoardFollowingResource:e=>`board-following:${e.username}`,InterestFollowingResource:e=>`topic-following:${e.username}`,UserPinsResource:e=>`profile-pins:${e.username}`,TopicFeedResource:e=>e.best_pins?`best-topic-pins:${e.interest}`:`topic-pins:${e.interest}`},_={AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:c.Z.TRIED_IT_FEED,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:c.Z.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{isUnifiedComment:e,objectId:i}})=>({type:e?c.Z.AGGREGATED_COMMENT_REPLIES:c.Z.AGGREGATED_COMMENTS,id:i,reversed:!0}),BoardFeedResource:({options:{board_id:e}})=>({type:c.Z.BOARDFEED,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:c.Z.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:c.Z.BOARD_SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:c.Z.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:i}})=>({type:c.Z.PROFILE_BOARDS,id:(0,r.Z)(e,i)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:i,scope:t,filters:n,query_pin_sigs:a,query:r,user:s},response:d})=>{var u;return{type:c.Z.SEARCH_PINS,id:(0,o.Tb)({appliedProductFilters:i,autoCorrectionDisabled:e,filters:n,query:r,selectedPinImgSig:a,scope:t,user:s}),items:null!==(u=d.resource_response.data)&&void 0!==u&&u.results?(0,l.L)(d.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:({options:{objectId:e}})=>({type:c.Z.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:c.Z.TRIED_IT_FEED,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:c.Z.TODAY_TAB,id:e}),RelatedArticlesResource:({options:{article_id:e}})=>({type:c.Z.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:c.Z.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:c.Z.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:c.Z.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:c.Z.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e,is_reversed:i}})=>({type:c.Z.UNIFIED_COMMENTS,id:e,reversed:i}),UserActivityPinsResource:({options:{user_id:e}})=>({type:c.Z.PROFILE_PINS_FEED,id:e}),UserStoryPinsFeedResource:({response:e,options:{user_id:i}})=>({type:c.Z.STORY_PINS_FEED,id:i,items:e.resource_response.data||[]})},m=(e,{pinId:i,oldFeedId:t,newFeedId:n})=>t===n?e:((e,{pinId:i,feedId:t})=>e[t]?{...e,[t]:[{type:"pin",id:i},...e[t]]}:e)(((e,{pinId:i,feedId:t})=>e[t]?{...e,[t]:e[t].filter((e=>!("pin"===e.type&&e.id===i)))}:e)(e,{pinId:i,feedId:t}),{pinId:i,feedId:n}),h=(e,i)=>e in p?p[e](i):null,g=(e,i)=>i?`board-section-pins:${i}`:`boardfeed:${e}`,y=(e,i)=>e.map((({id:e,schema:t})=>t?{id:e,type:t,trackingParams:"pin"===t?i.pins[e].tracking_params:void 0,user_id:void 0}:null)).filter(Boolean),v=(e,i,t)=>Object.keys(e).reduce(((n,a)=>{const o=e[a]||[],l=o.filter((e=>!(e.type===i&&e.id===t)));return o.length!==l.length&&(n[a]=l),n}),{...e}),f=(e={},i)=>{switch(i.type){case a.zP:case a.aW:{const{payload:n}=i,{resource:o,options:l,normalizedResponse:r,schema:u}=n;if(r&&o in p){const t=((e,i,t)=>{const n=t||s.Z[e];if(n===d.LR)return i.result;if(n===d.sN)return i.result.map((e=>({id:e,schema:"board"})));if(n===d.Gn)return i.result.map((e=>({id:e,schema:"user"})));if(n===d.Ht)return i.result.map((e=>({id:e,schema:"invite"})));if(n===d.fE)return i.result.map((e=>({id:e,schema:"reaction"})));if("object"==typeof n){const e=Object.entries(n).find((([e,i])=>i===d.LR));if(e)return i.result[e[0]]}return null})(o,r,u);if(t&&Array.isArray(t)){const n=p[o](l);if("ShoppingFeedModularizedResource"===o){const{board_id:i,saved_products_only:n}=null!=l?l:{},a=`board-shop-related:${i}`,o=`board-shop-saved:${i}`,s=`board-shop-saved-preview:${i}`,d=[...e[a]||[]],c=[...e[o]||[]],u=[...e[s]||[]];return y(t,r.entities).forEach((e=>{var t;n?c.push(e):r.entities.pins&&(null===(t=r.entities.pins[e.id])||void 0===t?void 0:t.board)===i?u.push(e):d.push(e)})),{...e,[a]:d,[o]:c,[s]:u}}if("BoardToolsFeedResource"===o||"SectionToolsFeedResource"===o)return{...e,[n]:t};{const o=(i.type===a.aW&&e[n]||[]).concat(y(t,r.entities));return{...e,[n]:o}}}}else{var t;const{data:o}=n.response.resource_response;if(null===(t=n.options)||void 0===t||!t.redux_normalize_feed)return e;const l=_[n.resource]({options:n.options,response:n.response});if(l){const{type:t,id:n,items:r,reversed:s}=l;let d=(r||o||[]).map((e=>((e,i)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return i===c.Z.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"boardsection",id:e.id};case"triedit":return{type:"triedit",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"triedit",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}})(e,t)));s&&(d=d.reverse());const u=`${t}:${n}`,p=e[u];if(p||i.type!==a.aW){const t=p||[];let n=d;return i.type===a.aW&&(n=s?d.concat(t):t.concat(d)),{...e,[u]:n}}}}break}case"FEED_ITEM_REORDERED":{const{payload:{feedType:t,feedId:a,itemType:o,targetItemId:l,sourceItemId:r}}=i,s=`${t}:${a}`,d=e[s]||[];let u=-1,p=-1;if([c.Z.BOARDFEED,c.Z.BOARD_SECTION_PINS,c.Z.BOARD_SECTIONS,"profileBoards"].includes(t)&&(u=d.findIndex((e=>e.type===o&&e.id===r)),p=d.findIndex((e=>e.type===o&&e.id===l))),-1!==u&&-1!==p)return{...e,[s]:(0,n.Z)(d,u,p)};break}case"FEED_ITEMS_REMOVED":{const{payload:{feedType:t,feedId:n,inverseSelection:a,itemType:o,itemIds:l=[]}}=i,r=`${t}:${n}`,s=e[r]||[];if(s&&s.length>0&&(t===c.Z.BOARD_SECTION_PINS||t===c.Z.BOARDFEED)){const i=s.filter((e=>{const i=l.includes(e.id);return!(e.type===o&&(a&&!i||!a&&i))})),t=!!i.find((e=>"pin"===e.type));return{...e,[r]:t?i:[]}}if(s&&s.length>0&&t===c.Z.BOARD_SECTIONS){const i=s.filter((e=>{const i=l.includes(e.id);return!(e.type===o&&i)}));return{...e,[r]:i}}if(s&&s.length>0&&(t===c.Z.AGGREGATED_COMMENTS||t===c.Z.BOARDLESS_PINS||t===c.Z.PROFILE_PINS_FEED||t===c.Z.STORY_PINS_FEED||t===c.Z.UNIFIED_COMMENTS||t===c.Z.TRIED_IT_FEED||t===c.Z.STORY_PIN_DATA)){const i=s.filter((e=>{const i=l.includes(e.id);return!(e.type===o&&i)}));return{...e,[r]:i}}break}case"FEED_ITEMS_ADDED":{const{payload:{feedType:t,feedId:n,itemType:a,itemIds:o=[],prepend:l}}=i,r=`${t}:${n}`,s=e[r]||[];if(s&&(t===c.Z.BOARD_SECTION_PINS||t===c.Z.BOARDFEED||t===c.Z.BOARDLESS_PINS)){const i=o.map((e=>({id:e,type:a})));let t=0;"story"===(s[0]||{}).type&&(t=1),"story"===(s[1]||{}).type&&(t=2);const n=[...s.slice(0,t),...i,...s.slice(t)];return{...e,[r]:n}}if(s&&t===c.Z.BOARD_SECTIONS){const i=[...o].reverse().map((e=>({id:e,type:"boardsection"}))),t=s?[...i,...s]:[...i];return{...e,[r]:t}}if(t===c.Z.AGGREGATED_COMMENTS||t===c.Z.AGGREGATED_COMMENT_REPLIES||t===c.Z.PROFILE_PINS_FEED||t===c.Z.STORY_PINS_FEED||t===c.Z.UNIFIED_COMMENTS){const i=o.map((e=>({id:e,type:a}))),t=s?[...l?i:s,...l?s:i]:i;return{...e,[r]:t}}if(t===c.Z.TRIED_IT_FEED){const i=o.map((e=>({id:e,type:a}))),t=s?[...i,...s]:i;return{...e,[r]:t}}break}case"FEED_INVALIDATE":{const{payload:{feedType:t,feedId:n}}=i,a=`${t}:${n}`;if(e[a]||[])return{...e,[a]:null};break}case"APPEND_FEED_ITEMS":{const{payload:{id:t,items:n,options:a}}=i,o=e[t];if(o){let i;return i=a.isPrepend?o[0]&&"story"===o[0].type?[].concat(o[0],n,o.slice(1)):n.concat(o):o.concat(n),{...e,[t]:i}}return{...e,[t]:n}}case"PIN_DELETE":{const{payload:{pinId:t}}=i;return v(e,"pin",t)}case"BOARD_ARCHIVE":{const{payload:{boardId:t,username:n}}=i,a=`profile-boards:${null!=n?n:""}`;if(e[a])return{...e,[a]:e[a].filter((e=>e.id!==t))};break}case"BOARD_UNARCHIVE":{const{payload:{boardId:t}}=i,n="archived-boards";if(e[n])return{...e,[n]:e[n].filter((e=>e.id!==t))};break}case"BOARD_DELETE":{const{payload:{boardId:t}}=i;return v(e,"board",t)}case"BOARD_SECTION_DELETE":{const{payload:{boardSectionId:t}}=i;return v(e,"boardsection",t)}case"PINS_MOVE":{const{payload:{source:t,target:n,pinIds:a,userId:o}}=i,l=t.boardlessPins&&o&&`boardless-pins:${o}`||t.boardId&&g(t.boardId,t.sectionId),r=g(n.boardId,n.sectionId);return a.reduce(((e,i)=>m(e,{pinId:i,oldFeedId:l,newFeedId:r})),e)}case"PINS_MOVE_ALL":{const{payload:{source:t,target:n,excludePinIds:a}}=i,o=g(t.boardId,t.sectionId),l=g(n.boardId,n.sectionId),r={...e,[o]:a.map((e=>({type:"pin",id:e})))};return delete r[l],r}case"PIN_EDIT":{const{payload:{pinId:t,boardId:n,sectionId:a="",source:{boardId:o,sectionId:l}}}=i,r=g(o,l),s=g(n,a);return m(e,{pinId:t,oldFeedId:r,newFeedId:s})}case a.AF:if(u.has(i.payload.resource)){const t=i.payload.response.resource_response.data,{board:n}=t;let a;if("quick_saves"===n.layout)a=`boardless-pins:${i.payload.options.user_id}`;else{const e=i.payload.options.section;a=e?`board-section-pins:${e}`:`boardfeed:${n.id}`}if(e[a]){const i={...e},n={id:t.id,type:"pin",trackingParams:null==t?void 0:t.tracking_params};return i[a]=[n].concat(e[a]),i}}if("BoardSectionResource"===i.payload.resource&&i.payload.normalizedResponse){const t=i.payload.normalizedResponse.result,n=`board-sections:${i.payload.normalizedResponse.entities.boardsections[t].board}`;if(e[n]){const i={...e},a={id:t,type:"boardsection"};return i[n]=[a].concat(e[n]),i}}if("AggregatedCommentResource"===i.payload.resource&&i.payload.normalizedResponse){const t={id:i.payload.normalizedResponse.result,type:"aggregatedcomment"},n=["aggregated-comments","unified-comments"];let a={...e};for(const o of n){const n=`${o}:${i.payload.options.objectId}`;e[n]&&(a={...a,[n]:[t].concat(a[n])})}return a}if("AggregatedCommentReplyResource"===i.payload.resource&&i.payload.normalizedResponse){const t=`${c.Z.AGGREGATED_COMMENT_REPLIES}:${i.payload.options.objectId}`;return{...e,[t]:[...e[t]||[],{id:i.payload.normalizedResponse.result,type:"aggregatedComment"}]}}if("ReactionsResource"===i.payload.resource&&i.payload.normalizedResponse){const{reaction_pin_id:t,reaction_type:n}=i.payload.options;if("reaction"===i.payload.options.action_type){const a=`reactions:${i.payload.options.pin_id}`,o={...e},l={id:`${t}:${i.payload.options.user_id}:${n}`,type:"reaction",trackingParams:void 0};return o[a]=[l].concat(e[a]),o}if("unreaction"===i.payload.options.action_type){const n=`${t}:${i.payload.options.user_id}`;return v(e,"reaction",n)}}break;case"COMPLETE_STORY":{const{payload:{storyId:t}}=i;return v(e,"story",t)}}return e}},473420:(e,i,t)=>{t.d(i,{Z:()=>n});const n=e=>(e=>(i,t)=>i.feeds[((e,i)=>"string"==typeof e?e:e(i))(e,t)])(e)},519218:(e,i,t)=>{t.d(i,{Z:()=>g});var n=t(702664),a=t(616550),o=t(883119),l=t(563962),r=t(788241),s=t(536042),d=t(245410),c=t(860438),u=t(98736),p=t(618569),_=t(549201),m=t(619277),h=t(785893);function g({alignIconLeft:e,bgColor:i,color:t,disableRedirect:g=!1,fallbackUrl:y,icon:v="arrow-back",onTouch:f,padding:x,placement:b,shouldUseFallbackUrl:P,size:S="lg",viewParameter:w,viewType:I,fallbackUrlForExp:T}){const A=(0,s.ZP)(),k=(0,_.HG)(),{checkExperiment:E}=(0,d.F)(),C=(0,a.useHistory)(),j=(0,a.useLocation)(),R=(0,n.useSelector)((e=>e.session.isAuthenticated)),D=(0,l.Z)(),F=(0,p.Z)(),L=!R&&T&&"/ideas"===y,{viewType:O,viewParameter:z}=(0,r.SU)(),[N,M]=I?[I,w]:[O,z],B=()=>{const e=c.Z.getItem(m.pm);j.key||"/ideas"!==y?(0,u.My)(`pinner_conversion.back_button.${String(null==e?void 0:e[0].pageType)}`):(0,u.My)("pinner_conversion.back_button.no_history"),(0,u.My)(`web_back_button_click.${String(b)}.is_auth_${String(R)}`),F({action:"click",item:"back-button"}),N&&D({view_type:N,view_parameter:M,element:34,event_type:102}),f&&f(),g||((!j.key||j.state&&"redirect"===j.state.referrer||P)&&y?L?k&&E("web_unauth_backbutton_navigation").anyEnabled?(C.push(T||y),(0,u.My)("web.unauth.back_button.l1interest")):!k&&E("mweb_unauth_backbutton_navigation").anyEnabled?(C.push(T||y),(0,u.My)("mweb.unauth.back_button.l1interest")):C.push(y):C.push(y):j.pathname.includes("/password/reset/")&&j.search&&j.search.includes("?nativeShouldDismiss=true")?C.push("/login/?dismissWebview=true"):C.goBack())};return(0,h.jsx)(o.xu,{"data-test-id":"back-button",children:e?(0,h.jsx)(o.xu,{display:"flex",width:48,height:48,alignItems:"center",marginStart:"cancel"===v?-1:-2,children:(0,h.jsx)(o.hU,{accessibilityLabel:A._('Back', 'navigation button', 'navigation button'),bgColor:i,iconColor:t||i&&!["white","lightGray","transparent"].includes(i)?t:"gray",icon:v,onClick:B,padding:"auto"!==x?x:2,size:S})}):(0,h.jsx)(o.hU,{accessibilityLabel:A._('Back', 'navigation button', 'navigation button'),bgColor:i,iconColor:t||i&&!["white","lightGray","transparent"].includes(i)?t:"gray",icon:v,onClick:B,padding:"auto"!==x?x:2,size:S})})}},755040:(e,i,t)=>{t.d(i,{k:()=>o,s:()=>l});var n=t(667294);const a=(0,n.createContext)(Object.freeze({})),o=a.Provider;function l(){return(0,n.useContext)(a)}},385929:(e,i,t)=>{t.d(i,{Ac:()=>o,c7:()=>a,cg:()=>n});const n=-1,a=5,o=6},648575:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(690108),a=t(994405),o=t(266732),l=t(648609);function r({checkExperiment:e,isNativeAppInstalledContext:i,history:t,i18n:r,logContextEvent:s,onSuccess:d,onUndo:c,originalPinId:u,pinId:p,trackingParams:_,disableRepinAnimation:m,showNewUserSavetoProfileAnimation:h,showRepinConfirmation:g,historyPush:y,savePinId:v}){return(f,x)=>{const{pins:b,session:P}=x(),{userId:S}=P,w=b[p],I={name:r._('Quick Saves', 'quickSave.boardName', 'Name of the auto-created board in quicksave experience.'),layout:"quick_saves",protected:!1,return_existing:!0,user_id:S};return n.Z.create("BoardResource",I).callCreate().then((n=>{var x,b,S,I;const T=n.resource_response.data;(0,a.ib)({checkExperiment:e,isAuthMweb:P.isAuthenticated&&(P.isMobile||P.isTablet)});return new o.Z({boardId:T.id,checkExperiment:e,isNativeAppInstalledContext:i,dispatch:f,isQuickSave:!0,history:t,i18n:r,onSuccess:d,onUndo:c,originalPinId:u,pinId:p,section:void 0,showNewUserSavetoProfileAnimation:h,showRepinToasts:e=>g?g(e,m):void 0,trackingParams:_,userId:P.userId,historyPush:y,savePinId:v,pinData:{trackingParams:w?w.tracking_params:void 0,viewParameter:w?(0,l.A)({hasRichMetadata:!!w.rich_metadata,hasRichMetadataProducts:!(null===(x=w.rich_metadata)||void 0===x||!x.products),hasRichMetadataArticle:!(null===(b=w.rich_metadata)||void 0===b||!b.article),hasRichMetadataRecipe:!(null===(S=w.rich_metadata)||void 0===S||!S.recipe)}):void 0,pinnedToBoardId:w?null===(I=w.pinned_to_board)||void 0===I?void 0:I.id:void 0}}).processRepin(s)}))}}},20227:(e,i,t)=>{t.d(i,{Z:()=>h,e:()=>p});var n=t(702664),a=t(240684),o=t(883119),l=t(527386),r=t(187815),s=t(105095),d=t(83503),c=t(785893);const u=(0,a.ZP)({resolved:{},chunkName:()=>"storyPins-duplo-HlsVideoContainer",isReady(e){const i=this.resolve(e);return!0===this.resolved[i]&&!!t.m[i]},importAsync:()=>Promise.all([t.e(67631),t.e(19596)]).then(t.bind(t,982043)),requireAsync(e){const i=this.resolve(e);return this.resolved[i]=!1,this.importAsync(e).then((e=>(this.resolved[i]=!0,e)))},requireSync(e){const i=this.resolve(e);return t(i)},resolve(){return 982043}}),p=Object.freeze({white:"inverse",black:"default"}),_={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function m({titleText:e,videoPin:i,videoPlaceholderImage:t}){return(0,c.jsx)(u,{fallback:(0,c.jsx)(o.Ee,{alt:e||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:3,naturalWidth:2,src:t||i.metadata.thumbnail}),aspectRatio:s.q4,controls:!1,poster:t||i.metadata.thumbnail,src:i.url})}function h({buttonAction:e,buttonCustomization:i,buttonText:t,experience:a,hideCompleteButton:u,imageAlt:p,imageUrl:h,openNewTab:g,storyType:y,titleText:v,titleTextColor:f,titleTextCustomization:x,videoPin:b,videoPlaceholderImage:P}){var S;const w=(0,n.useDispatch)(),{experience_id:I,placement_id:T}=a||{},A=(0,d.Z)({onVisibilityChanged:e=>{e&&a&&"viewed"!==a.status&&(a.status="viewed",w((0,l.UT)(T,I,!1,!0)))}}),k=(0,s.zn)(y),E=k?r.f8:r.hm,C=k?r.sH:r.HI,j=!k,{color:R,fontStyle:D,fontWeight:F,horizontalAlignment:L,fontSize:O}=(0,s.Mf)(x||{},"mweb"),{button_background_color:z,button_text_color:N}=i||{};return(0,c.jsx)(o.xu,{position:"relative",padding:1,marginBottom:2,ref:A,children:(0,c.jsxs)(o.rU,{accessibilityLabel:v,href:e,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),a&&w((0,l.CK)(T,I,!1,!0))},target:g?"blank":null,children:[(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(150%)"}},position:"relative",children:(0,c.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:[(0,c.jsx)(o.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:"feed_card_video"===y&&b?(0,c.jsx)(m,{titleText:v,videoPin:b,videoPlaceholderImage:P}):h&&(0,c.jsx)(o.Ee,{alt:p||v||"",color:"rgb(111, 91, 77)",naturalHeight:4,naturalWidth:3,src:h,fit:"cover"})}),j&&(0,c.jsx)(o.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:_.defaultOverlay},position:"absolute",top:!0,left:!0}),(0,c.jsx)(E,{children:(0,c.jsx)(o.xv,{align:L,color:f,italic:"italics"===D,weight:F,children:(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(S=R||f)&&void 0!==S?S:void 0,fontSize:O}},children:v})})})]})}),!u&&(0,c.jsx)(C,{children:(0,c.jsx)(o.xu,{display:"flex",rounding:"pill",color:k?"default":"secondary",dangerouslySetInlineStyle:{__style:{backgroundColor:z}},justifyContent:"center",alignItems:"center",paddingX:2,height:48,children:(0,c.jsx)(o.xv,{weight:"bold",size:"200",lineClamp:1,children:(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{color:N}},children:t})})})})]})})}},806530:(e,i,t)=>{t.d(i,{Z:()=>m});var n=t(667294),a=t(702664),o=t(883119),l=t(245410),r=t(802071),s=t(328939),d=t(525104),c=t(726091),u=t(785893);const p=43,_=2;function m({slotIndex:e,storyId:i,exactMatch:t=!1}){const{isAuth:m}=(0,r.Z)(),{checkExperiment:h}=(0,l.F)(),g=(0,d.S6)(),{action:y,aux_fields:v,objects:f,story_type:x,title:b}=(0,a.useSelector)((({stories:e})=>e[i])),P=f[0].id,S=f.slice(1,3).map((({id:e})=>g(e)));return!t&&S.length<2?null:h(m?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,u.jsx)(s.qS,{auxData:{content_ids:S.map((e=>null==e?void 0:e.id)),story_id:i,story_type:x,...v},component:200,loggingId:i,objectIdStr:i,slotIndex:e,viewParameter:p,viewType:_,children:({impressionTrackerRef:e})=>(0,u.jsxs)(o.xu,{ref:e,children:[b&&(0,u.jsx)(o.xu,{paddingY:1,marginTop:2,children:(0,u.jsx)(o.xv,{align:"center",children:b.format})}),(0,u.jsx)(c.Z,{action:y,auxData:v,isPinnerAuthorityHero:t,userId:P,userPinsImages236x:t?void 0:S.map((e=>{var i;return null==e||null===(i=e.images)||void 0===i?void 0:i["236x"]})),userSearchRepStyle:t,viewParameter:p,viewType:_})]})}):(0,u.jsx)(s.Hs,{auxData:{content_ids:S.map((e=>null==e?void 0:e.id)),story_id:i,story_type:x,...v},component:200,loggingId:i,objectIdStr:i,slotIndex:e,viewParameter:p,viewType:_,children:(0,u.jsxs)(n.Fragment,{children:[b&&(0,u.jsx)(o.xu,{paddingY:1,marginTop:2,children:(0,u.jsx)(o.xv,{align:"center",children:b.format})}),(0,u.jsx)(c.Z,{action:y,auxData:v,isPinnerAuthorityHero:t,userId:P,userPinsImages236x:t?void 0:S.map((e=>{var i;return null==e||null===(i=e.images)||void 0===i?void 0:i["236x"]})),userSearchRepStyle:t,viewParameter:p,viewType:_})]})})}},562512:(e,i,t)=>{t.d(i,{UG:()=>_,ZP:()=>h,aG:()=>m});var n=t(667294),a=t(883119),o=t(870243),l=t(536042),r=t(637362),s=t(618569),d=t(843843),c=t(785893);const u=12,p=24,_={large:"large",medium:"medium",small:"small",extra_small:"extra_small",article:"article",interest:"interest"},m={bubbleOverlay:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)"}}};function h({backgroundColor:e,bubbleId:i,bubbleUrl:t,coverImageUrl:h,curator:g,font:y,format:v,height:f,identifierIconType:x,onTap:b,pwtSurfaceContext:P,referringSource:S,subtitle:w,title:I,buttonFormat:T,contentAlign:A="center",textAlign:k="center",width:E="100%"}){const C=(0,l.ZP)(),j=(0,s.Z)(),[R,D]=(0,n.useState)("string"==typeof f?void 0:f),F=e=>{if(e){const i=e.offsetWidth,t="string"==typeof f?Number.parseFloat(f):100;D(i*t/100)}};if(!R)return(0,c.jsx)(a.xu,{ref:F,dangerouslySetInlineStyle:{__style:{paddingBottom:"string"==typeof f?Number.parseFloat(f)+"%":"100%",width:E}}});const L=v===_.article,O=v===_.interest,z=y||R>250&&"lg"||R>140&&v&&[_.medium,_.small,_.article].includes(v)&&"md"||R<120&&v&&v===_.small&&"xs"||"sm";return(0,c.jsx)(a.xu,{position:"relative","data-test-id":"search-suggestion","data-test-type":S,children:(0,c.jsx)(d.MZ,{to:t,isAppUpsellDisabled:!0,onTouch:()=>{b&&(j({action:"click",item:"search-suggestion"}),b(i))},rounding:4,children:(0,c.jsxs)(a.zd,{rounding:4,children:[(0,c.jsx)(a.xu,{width:E,height:R,children:h&&(0,c.jsx)(a.Ee,{alt:"",color:e,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:()=>{P&&P.markConstraintComplete("RenderSearchLandingPageBubbles")},role:"presentation",src:h})}),(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:m.bubbleOverlay,height:R,width:E,position:"absolute",top:!0,left:!0}),g&&!L&&(0,c.jsx)(a.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,c.jsx)(o.qE,{outline:!0,size:"xs",src:g.image_small_url,name:g.full_name})}),!!x&&x!==r.J&&(0,c.jsx)(a.xu,{alignItems:"center",color:"default",display:"flex",height:p,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:p,children:(0,c.jsx)(a.JO,{icon:(0,r.Z)(x),accessibilityLabel:C._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",size:u})}),(0,c.jsx)(a.xu,{display:"flex",position:"absolute",top:!0,width:E,height:R,padding:L||O?6:R>100?3:1,alignItems:L||O?"end":"center",justifyContent:A,children:(0,c.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[w&&(0,c.jsx)(a.xv,{align:k,color:"light",size:"lg"===z?"300":"100",overflow:"normal",children:w}),["lg","md"].includes(z)?(0,c.jsx)(a.X6,{align:k,size:"md"===z&&O?"500":"lg"===z?"600":"400",color:"light",overflow:"normal",children:I}):(0,c.jsx)(a.xv,{align:k,color:"light",size:"sm"===z?"300":"100",overflow:"normal",weight:"bold",children:I}),g&&L&&(0,c.jsxs)(a.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,c.jsx)(a.xu,{marginEnd:2,children:(0,c.jsx)(o.qE,{outline:!0,size:"xs",src:g.image_small_url,name:g.full_name})}),(0,c.jsx)(a.xv,{size:"100",color:"light",weight:"bold",children:g.full_name})]}),T&&(0,c.jsx)(a.xu,{marginTop:4,children:(0,c.jsx)(a.ZP,{text:T.text,href:T.href,size:T.size,accessibilityLabel:T.accessibilityLabel})})]})})]})})})}},532243:(e,i,t)=>{t.d(i,{Z:()=>g});var n,a=t(667294),o=t(702664),l=(t(167912),t(883119)),r=t(563962),s=t(825389),d=t(637362),c=t(28630),u=t(328939),p=t(697),_=t(785893);const m=void 0!==n?n:n=t(456778);function h({auxData:e,pattern:i,slotIndex:t,storyId:n,viewType:o,viewParameter:s,storyData:{storyType:m,referringSource:h,hasTitle:g,titleFormat:y,identifierIconName:v,actionUrl:f,actionText:x,bubblesData:b},storyGraphqlRef:P}){const S=(0,r.Z)(),w={story_type:m,story_id:n,content_ids:b.map((({type:e,id:i})=>e+":"+i)).join("|"),...e};return(0,_.jsx)(u.Hs,{loggingId:n,objectIdStr:n,viewParameter:s,viewType:o,slotIndex:t,component:200,auxData:w,children:(0,_.jsxs)(a.Fragment,{children:[g&&(0,_.jsxs)(l.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:["number"==typeof v&&v!==d.J&&(0,_.jsx)(l.xu,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:(0,_.jsx)(l.JO,{accessibilityLabel:"",color:"default",icon:(0,d.Z)(v),size:14})}),(0,_.jsx)(l.xv,{weight:"bold",children:y})]}),(0,_.jsx)(p.Z,{pattern:i,referringSource:h,storyId:n,storyKey:P?{type:"graphqlRef",data:P}:{type:"deprecated",data:n},viewParameter:s,viewType:o}),f&&x&&(0,_.jsx)(l.xu,{display:"flex",width:"100%",justifyContent:"center",marginTop:1,children:(0,_.jsx)(l.ZP,{accessibilityLabel:x,color:"gray",onClick:()=>{S({view_type:o,view_parameter:s,aux_data:w,event_type:102})},text:x,href:f,rel:(0,c.Z)(f)?"nofollow":void 0,target:(0,c.Z)(f)?"blank":void 0,size:"md"})})]})})}function g({storyId:e,storyKey:i,...t}){const{data:n,childDataKey:a}=(0,s.JI)(m,i,{type:"story",useGraphQLAdapter:({storyType:e,storyTitle:i,referringSource:t,displayOptions:n,action:a,objects:o})=>({storyType:e,referringSource:t,hasTitle:!!i,titleFormat:null==i?void 0:i.format,identifierIconName:null==n?void 0:n.identifierIconName,actionUrl:null==a?void 0:a.url,actionText:(null==a?void 0:a.text)||void 0,bubblesData:(null==o?void 0:o.filter((e=>"ExploreArticle"===e.__typename)).map((e=>({id:e.entityId||"",type:e.type||""}))).filter(Boolean))||[]}),useLegacyAdapter:e=>{var i,t,n,a;const l=((null==e?void 0:e.objects)||[]).map((e=>e.id))||[],r=(0,o.useSelector)((({articles:e})=>l.map((i=>{const t=e[i];return{type:t.type,id:t.id}}))));return e?{storyType:e.story_type,referringSource:e.referring_source,hasTitle:!!e.title,titleFormat:null===(i=e.title)||void 0===i?void 0:i.format,identifierIconName:null===(t=e.display_options)||void 0===t?void 0:t.identifier_icon_name,actionUrl:null===(n=e.action)||void 0===n?void 0:n.url,actionText:null===(a=e.action)||void 0===a?void 0:a.text,bubblesData:r}:null}});return n&&(0,_.jsx)(h,{...t,storyId:e,storyData:n,storyGraphqlRef:"graphqlRef"===a.type?a.data:null})}},697:(e,i,t)=>{t.d(i,{Z:()=>u});var n,a=t(702664),o=(t(167912),t(883119)),l=t(825389),r=t(562512),s=t(226752),d=t(785893);function c({storyData:{storyType:e,bubblesData:i},onTouch:t,pattern:n=[r.UG.medium],pwtSurfaceContext:a,referringSource:l,storyId:c,viewParameter:u,viewType:p}){const _=i.map((({type:e,id:i})=>e+":"+i)).join("|");return(0,d.jsx)(o.kC,{alignItems:"stretch",justifyContent:"between",width:"100%",wrap:!0,children:i.map(((i,m)=>{var h;const g=n[m%n.length];return(0,d.jsx)(o.xu,{paddingY:1,width:[r.UG.small,r.UG.extra_small].includes(g)?"calc(50% - 4px)":"100%","data-test-id":`bubble-${m}`,children:(0,d.jsx)(s.ZP,{auxData:{content_ids:_,story_type:e,grid_index:m},bubbleKey:"ExploreArticle"===(null===(h=i.bubbleGraphqlRef)||void 0===h?void 0:h.__typename)?{type:"graphqlRef",data:i.bubbleGraphqlRef}:{type:"deprecated",data:i.id},format:g,height:([r.UG.medium,r.UG.extra_small].includes(g)?"50%":g===r.UG.article&&"73%")||"100%",onTouch:t,pwtSurfaceContext:a,referringSource:l,slotIndex:m,storyId:c,viewParameter:u,viewType:p})},`bubble-${m}`)}))})}function u({storyId:e,storyKey:i,...o}){const{data:r}=(0,l.JI)(void 0!==n?n:n=t(103018),i,{type:"story",useGraphQLAdapter:e=>{var i;return{storyType:e.storyType,bubblesData:(null===(i=e.objects)||void 0===i?void 0:i.filter((e=>"ExploreArticle"===e.__typename)).map((e=>({id:e.entityId||"",type:e.type||"",bubbleGraphqlRef:e}))).filter(Boolean))||[]}},useLegacyAdapter:e=>{const i=((null==e?void 0:e.objects)||[]).map((e=>e.id))||[],t=(0,a.useSelector)((({articles:e})=>i.map((i=>{const t=e[i];return{id:t.id,type:t.type}}))));return e?{storyType:e.type,bubblesData:t}:null}});return r&&(0,d.jsx)(c,{...o,storyId:e,storyData:r})}},226752:(e,i,t)=>{t.d(i,{Bp:()=>h,VM:()=>m,ZP:()=>g});t(167912);var n,a=t(468e3),o=t(563962),l=t(825389),r=t(245410),s=t(739425),d=t(802071),c=t(328939),u=t(562512),p=t(785893);const _=({storyCategory:e,query:i,referringSource:t,bubbleId:n,storyId:o,title:l})=>{const r=null!=e&&(0,a.y)(e),d=(0,s.XP)({q:i,rs:t||void 0,b_id:n,source_id:o}),c=r&&l?(0,a.x)({title:l,id:n,articleType:"discover"}):`/discover/article/${n}/`;return r?c:"/search/pins/"+(d?"?"+d:"")},m=e=>{var i,t,n,a,o,l,r,s,d;return{actionUrl:null===(i=e.action)||void 0===i?void 0:i.url,coverImage236xUrl:null===(t=e.cover_images[0]["236x"])||void 0===t?void 0:t.url,coverImage474xUrl:null===(n=e.cover_images[0]["474x"])||void 0===n?void 0:n.url,coverImage136x136Url:null===(a=e.cover_images[0]["136x136"])||void 0===a?void 0:a.url,coverImage170xUrl:null===(o=e.cover_images[0]["173x"])||void 0===o?void 0:o.url,coverImage222xUrl:null===(l=e.cover_images[0]["222x"])||void 0===l?void 0:l.url,coverImage90x90Url:null===(r=e.cover_images[0]["90x90"])||void 0===r?void 0:r.url,curatorFullName:null===(s=e.curator)||void 0===s?void 0:s.full_name,curatorImageSmallUrl:null===(d=e.curator)||void 0===d?void 0:d.image_small_url,dominantColors:e.dominant_colors,id:e.id,identifierIconType:e.identifier_icon_type,storyCategory:e.story_category,titleFormat:e.title.format}};function h({auxData:e,bubbleData:{actionUrl:i,coverImage236xUrl:t,coverImage474xUrl:n,coverImage136x136Url:a,coverImage170xUrl:l,coverImage222xUrl:s,coverImage90x90Url:m,curatorFullName:h,curatorImageSmallUrl:g,dominantColors:y,id:v,identifierIconType:f,storyCategory:x,titleFormat:b},font:P,format:S,height:w,onTouch:I,pwtSurfaceContext:T,referringSource:A,slotIndex:k,storyId:E,viewParameter:C,viewType:j,width:R="100%"}){const D=(0,o.Z)(),F=(0,d.Z)(),{checkExperiment:L}=(0,r.F)();if(!((t||n||a||l||s||m)&&b))return null;const O=h&&g?{full_name:h,image_small_url:g}:void 0,{isAuth:z}=F,N={"236x":t,"474x":n,"136x136":a,"170x":l,"222x":s,"90x90":m};let M="",B="";if(z&&5===j){M=L("blp_explore_bubble_image_size").group;const e=M.split("_");e.length>1&&(B=e[1])}const Z=M.startsWith("enabled")&&B?N[B]:N["474x"]||N["236x"],U=i||_({storyCategory:x,query:b,referringSource:A,bubbleId:v,storyId:E,title:b}),K=S===u.UG.article?13865:200,G=S===u.UG.article?102:6940,H=y&&y.length?y[0]:void 0;return(0,p.jsx)(c.fv,{auxData:{story_id:E,...e},impressionData:{storyCategory:x,storyIdStr:E},loggingId:E,slotIndex:k,viewParameter:C,viewType:j,children:(0,p.jsx)(u.ZP,{backgroundColor:H,bubbleId:v,bubbleUrl:U,coverImageUrl:Z,curator:O,font:P,format:S,height:w,identifierIconType:f,onTap:i=>{D({component:K,event_type:G,object_id_str:i,view_parameter:C,view_type:j,aux_data:{article_id:i,grid_index:k,...e}}),I&&I({query:b})},pwtSurfaceContext:T,referringSource:A,title:b,width:R})})}function g({bubbleKey:e,...i}){const{data:a}=(0,l.JI)(void 0!==n?n:n=t(67153),e,{type:"article",useGraphQLAdapter:e=>{var i,t,n,a,o,l,r,s,d,c;return{actionUrl:null===(i=e.action)||void 0===i?void 0:i.url,coverImage236xUrl:null===(t=e.coverImage236x)||void 0===t?void 0:t[0].url,coverImage474xUrl:null===(n=e.coverImage474x)||void 0===n?void 0:n[0].url,coverImage136x136Url:null===(a=e.coverImage136x136)||void 0===a?void 0:a[0].url,coverImage170xUrl:null===(o=e.coverImage170x)||void 0===o?void 0:o[0].url,coverImage222xUrl:null===(l=e.coverImage222x)||void 0===l?void 0:l[0].url,coverImage90x90Url:null===(r=e.coverImage90x90)||void 0===r?void 0:r[0].url,curatorFullName:null===(s=e.curator)||void 0===s?void 0:s.fullName,curatorImageSmallUrl:null===(d=e.curator)||void 0===d?void 0:d.imageSmallUrl,dominantColors:e.dominantColors,id:e.entityId||"",identifierIconType:e.identifierIconType,storyCategory:e.storyCategory,titleFormat:null===(c=e.articleTitle)||void 0===c?void 0:c.format}},useLegacyAdapter:e=>e&&m(e)});return a&&(0,p.jsx)(h,{...i,bubbleData:a})}},825199:(e,i,t)=>{t.d(i,{q:()=>a,z:()=>n});const n=["shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_story_separator"],a="checklist_education_feed_card"},819365:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(951503);const a=({containerTypeIsItemGrid:e,storyType:i})=>"BUBBLE_ONE_COL"===i||e&&!(0,n.Z)({storyType:i})},951503:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(825199);const a=({storyType:e})=>n.z.includes(e)},117918:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(883119),a=t(536042),o=t(265259),l=t(785893);function r({isPinRep:e}){const i=(0,a.ZP)(),t=e?"default":"inverse",r=(0,l.jsx)(n.xu,{padding:e?1:0,"data-test-id":"unavailable-pin",children:(0,l.jsx)(n.xu,{color:e?"secondary":"dark",top:!0,height:e?314:"100vh",position:e?"static":"absolute",rounding:e?4:0,width:"100%",children:(0,l.jsxs)(n.kC,{height:"100%",direction:"column",justifyContent:"center",alignItems:"center",children:[(0,l.jsx)(n.xu,{paddingY:4,children:(0,l.jsx)(n.JO,{accessibilityLabel:i._('Pin not available', 'story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:t,icon:"alert",size:20})}),(0,l.jsx)(n.xv,{align:"center",color:t,weight:"bold",children:i._('Unavailable', 'story-pin.Closeup.UnavailableStoryPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),(0,l.jsx)(n.xu,{paddingY:1,children:(0,l.jsx)(n.xv,{align:"center",color:t,children:i._('Removed by the creator', 'story-pin.Closeup.UnavailableStoryPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})});return e?r:(0,l.jsx)(n.xu,{height:"100vh",children:(0,l.jsx)(o.Z,{children:r})})}},196039:(e,i,t)=>{t.d(i,{Ai:()=>w,B5:()=>m,CR:()=>c,Cc:()=>l,HG:()=>x,R_:()=>s,Wz:()=>r,_P:()=>f,dP:()=>I,dX:()=>P,gx:()=>u,h8:()=>a,hk:()=>d,lp:()=>g,lt:()=>_,oe:()=>b,r4:()=>v,rM:()=>S,tD:()=>p});var n=t(883119);const a={GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},o={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1},l={...o,font:{default_size:28,letter_spacing:-.4,line_height:1.25,name:"Graphik Regular",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Regular.otf"},font_size:28},r={...o,font:{default_size:48,letter_spacing:0,line_height:1,name:"Graphik Bold Italic",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Bold-Italic.otf"},font_size:48},s=64,d=64,c=48,u=48,p=new n.Ry(5),_=new n.H3([p]),m=new n.H3([_]),h=new n.H3([p]),g=new n.H3([h]),y=2,v=4;function f(e){return e?{paddingX:0,paddingY:0}:{paddingX:y,paddingY:v}}const x=6,b=47,P=8,S=4,w=5,I=3},820166:(e,i,t)=>{t.d(i,{Z:()=>v});var n=t(883119),a=t(550140),o=t(536042),l=t(819079),r=t(549201),s=t(785893);const d=28,c=40,u=48,p=48,_=28,m="#696969";function h({ideaPinImages:e}){const i={1:d,2:c,3:u},t=e.map(((e,i)=>{var t,a,o;return(0,s.jsx)(n.xu,{height:p,width:_,color:"default",borderStyle:"sm",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:i}},children:(0,s.jsx)(n.Ee,{alt:"",src:null!==(t=null==e?void 0:e.url)&&void 0!==t?t:"",color:m,fit:"cover",naturalHeight:null!==(a=null==e?void 0:e.height)&&void 0!==a?a:1,naturalWidth:null!==(o=null==e?void 0:e.width)&&void 0!==o?o:1})},i)}));return(0,s.jsx)(n.kC,{justifyContent:"center",children:(0,s.jsx)(n.kC,{justifyContent:"start",width:i[e.length],children:t})})}const g=3,y=5e3;function v({handleHide:e,text:i,userId:t,href:d,imageUrl:c}){const u=(0,o.ZP)(),p=(0,r.HG)(),_=(0,l.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:t}}),m=Array.isArray(i)?i.join(" "):i;if(0===(_.data||[]).length)return(0,s.jsx)(a.ZP,{duration:y,onHide:e,text:m,href:d,thumbnail:c?{image:(0,s.jsx)(n.Ee,{alt:u._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:c})}:void 0});const v=(_.data||[]).slice(0,g).map((e=>{var i;return null===(i=e.images)||void 0===i?void 0:i[p?"236x":"170x"]})),f=(0,s.jsx)(h,{ideaPinImages:v});return(0,s.jsx)(a.ZP,{href:d,duration:y,onHide:e,_dangerouslySetThumbnail:f,text:m})}},679420:(e,i,t)=>{t.d(i,{Z:()=>S});var n,a=t(702664),o=t(167912),l=t(883119),r=t(282802),s=t(41669),d=t(383462),c=t(536042),u=t(734417),p=t(731107),_=t(785893);const m=({backgroundColor:e,decreaseNamePadding:i,isHomefeedTuner:t,isLego:n,isSelected:a,locale:o,nameTextSize:r,renderAsPill:s,showFollowerCount:d,topicName:m,followerCount:h,image:g})=>{var y;const v=(0,c.ZP)(),f=(0,u.Z)(),x=(0,_.jsx)(l.JO,{accessibilityLabel:v._('Selected', ' - ', ' -- '),color:"inverse",icon:n?"check":"check-circle",size:n?12:24});return s?(0,_.jsx)(p.Z,{color:e||"#767676",image:g,isSelected:null!=a&&a,title:m}):(0,_.jsxs)(l.xu,{position:"relative","aria-selected":a,children:[(0,_.jsx)(l.zd,{rounding:n||t?4:2,children:(0,_.jsxs)(l.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},children:[(0,_.jsx)(l.xu,{bottom:!0,left:!0,padding:n&&a?1:0,position:"absolute",right:!0,rounding:n&&a?4:0,top:!0,children:(0,_.jsx)(l.Ee,{alt:m,color:e||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(y=g.url)&&void 0!==y?y:""})}),(0,_.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:a?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:n&&a?"4px solid #767676":"none"}},rounding:n?4:void 0,position:"absolute",left:!0,right:!0,top:!0}),n&&a&&(0,_.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),t?(0,_.jsx)(l.xu,{top:!0,bottom:!0,left:!0,right:!0,padding:2,position:"absolute",display:"flex",alignContent:"center",justifyContent:"center",alignItems:"center",children:(0,_.jsx)(l.xv,{align:"center",color:"light",size:r,weight:"bold",children:m})}):(0,_.jsxs)(l.xu,{bottom:!0,left:!0,padding:i?1:2,position:"absolute",right:!0,children:[(0,_.jsx)(l.xv,{color:"inverse",size:r,weight:"bold",children:m}),d&&h>=0&&(0,_.jsx)(l.xu,{paddingY:1,children:(0,_.jsxs)(l.xv,{color:"inverse",size:"100",children:[(0,_.jsx)(l.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:f(o,h,{shortform:!0,shortform_maximum_fraction_digits:1})}),v._('followers', ' - ', ' -- ')]})})]}),a&&(0,_.jsx)(l.xu,{margin:2,position:"absolute",right:!0,top:!0,children:n?(0,_.jsx)(l.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:x}):x})]})},h=void 0!==n?n:n=t(944488),g=({topicRef:e,...i})=>{var t,n,a,l,r,s;const d=(0,o.useFragment)(h,e),c=d.images?{url:null!==(t=d.images.url)&&void 0!==t?t:"",width:null!==(n=d.images.width)&&void 0!==n?n:0,height:null!==(a=d.images.height)&&void 0!==a?a:0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,_.jsx)(m,{backgroundColor:null!==(l=d.background_color)&&void 0!==l?l:"",topicName:null!==(r=d.name)&&void 0!==r?r:"",followerCount:null!==(s=d.follower_count)&&void 0!==s?s:0,image:c,...i})},y=({topic:e,topicBlob:i,topicInfoForContextualExp:t,...n})=>{const a=t||e||i||{},o=a.images["236x"]||a.images["400x"]||a.images["474x"]||a.images.orig||{height:1,url:"",width:1},l=a.follower_count||-1;return(0,_.jsx)(m,{backgroundColor:a.background_color,topicName:a.name,followerCount:l,image:o,...n})};var v;const f=({decreaseNamePadding:e=!1,isHomefeedTuner:i,isLego:t,isSelected:n=!1,nameTextSize:o="lg",onTouch:c,padding:u=2,renderAsPill:p,showFollowButton:m=!1,showFollowerCount:h=!1,shouldClickthrough:v=!1,topic:f,viewParameter:x,viewType:b})=>{const P=(0,a.useDispatch)(),{locale:S}=(0,r.B)(),w=(0,_.jsxs)(l.xu,{"data-test-id":"nux-picker-topic",children:["graphql"!==f.type?(0,_.jsx)(y,{decreaseNamePadding:e,isHomefeedTuner:i,isLego:t,isSelected:n,locale:S,nameTextSize:o,renderAsPill:p,showFollowerCount:h,topic:f.topic,topicBlob:f.topicBlob,topicInfoForContextualExp:f.topicInfoForContextualExp}):(0,_.jsx)(g,{decreaseNamePadding:e,isHomefeedTuner:i,isLego:t,isSelected:n,locale:S,nameTextSize:o,renderAsPill:p,showFollowerCount:h,topicRef:f.topicRef}),!!f&&m&&(0,_.jsx)(l.xu,{paddingY:2,children:(0,_.jsx)(s.Z,{textType:i?"AddRemove":"FollowFollowing",followEventType:601,id:f.id,invertColors:i,inline:i,isFollowed:f.is_followed,onFollow:e=>P((0,d.ZN)(e)),onUnfollow:e=>P((0,d.fv)(e)),size:"md",unfollowEventType:602,viewParameter:x||void 0,viewType:b||void 0})})]});let I="/";return f&&(I=`/topics/${f.id}`),v&&f.slug?(0,_.jsx)(l.Tg,{onTap:({event:e})=>{null==c||c(e)},tapStyle:"compress",rounding:2,href:I,children:(0,_.jsx)(l.xu,{padding:u,children:w})}):w},x=void 0!==v?v:v=t(897614),b=({topicRef:e,decreaseNamePadding:i=!1,isHomefeedTuner:t,isLego:n,isSelected:a=!1,nameTextSize:l="lg",onTouch:r,padding:s=2,renderAsPill:d,showFollowButton:c=!1,showFollowerCount:u=!1,shouldClickthrough:p=!1,viewParameter:m,viewType:h})=>{var g,y;const v=(0,o.useFragment)(x,e);return(0,_.jsx)(f,{decreaseNamePadding:i,isHomefeedTuner:t,isLego:n,isSelected:a,nameTextSize:l,onTouch:r,padding:s,renderAsPill:d,showFollowButton:c,showFollowerCount:u,shouldClickthrough:p,viewParameter:m,viewType:h,topic:{id:null!==(g=v.entityId)&&void 0!==g?g:"",type:"graphql",is_followed:null!==(y=v.is_followed)&&void 0!==y&&y,topicRef:v}})},P=({id:e,topic:i,topicBlob:t,topicInfoForContextualExp:n,decreaseNamePadding:o=!1,isHomefeedTuner:l,isLego:r,isSelected:s=!1,nameTextSize:d="lg",onTouch:c,padding:u=2,renderAsPill:p,showFollowButton:m=!1,showFollowerCount:h=!1,shouldClickthrough:g=!1,viewParameter:y,viewType:v})=>{const x=(0,a.useSelector)((({topics:i})=>i[e])),b=null!=i?i:x;return(0,_.jsx)(f,{decreaseNamePadding:o,isHomefeedTuner:l,isLego:r,isSelected:s,nameTextSize:d,onTouch:c,padding:u,renderAsPill:p,showFollowButton:m,showFollowerCount:h,shouldClickthrough:g,viewParameter:y,viewType:v,topic:{id:e,is_followed:!(null==b||!b.is_followed),topic:b,topicBlob:t,topicInfoForContextualExp:n,type:"resource"}})},S=({decreaseNamePadding:e=!1,isHomefeedTuner:i,isLego:t,isSelected:n=!1,nameTextSize:a="lg",onTouch:o,padding:l=2,renderAsPill:r,showFollowButton:s=!1,showFollowerCount:d=!1,shouldClickthrough:c=!1,viewParameter:u,viewType:p,...m})=>m.topicRef?(0,_.jsx)(b,{decreaseNamePadding:e,isHomefeedTuner:i,isLego:t,isSelected:n,nameTextSize:a,onTouch:o,padding:l,renderAsPill:r,showFollowButton:s,showFollowerCount:d,shouldClickthrough:c,viewParameter:u,viewType:p,topicRef:m.topicRef}):(0,_.jsx)(P,{id:m.id,decreaseNamePadding:e,isHomefeedTuner:i,isLego:t,isSelected:n,nameTextSize:a,onTouch:o,padding:l,renderAsPill:r,showFollowButton:s,showFollowerCount:d,shouldClickthrough:c,topic:m.topic,topicBlob:m.topicBlob,topicInfoForContextualExp:m.topicInfoForContextualExp,viewParameter:u,viewType:p})},204722:(e,i,t)=>{t.d(i,{Z:()=>N});var n,a=t(667294),o=t(167912),l=t(616550),r=t(883119),s=t(388011),d=t(536042),c=t(630089),u=t(624417),p=t(740494),_=t(465991),m=t(769705),h=t(245410),g=t(282802),y=t(649715),v=t(599226),f=t(98736),x=t(443601),b=t(230910),P=t(411056),S=t(525104),w=t(785893);const I=250,T=({children:e,onTap:i,testId:t})=>{const[n,o]=(0,a.useState)(!1);return(0,w.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n?"rgba(0, 0, 0, 0.06)":void 0}},rounding:2,paddingX:3,paddingY:2,role:"listitem","data-test-id":`more-options-${t}`,children:(0,w.jsx)(r.iP,{onTap:i,onBlur:()=>o(!1),onFocus:()=>o(!0),onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:e})})},A=void 0!==n?n:n=t(823722),k=({i18n:e,pinId:i,showSignupModal:t,attributionLabelSource:n})=>(0,w.jsx)(T,{testId:"save",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.save_image",{attributionLabelSource:n}),t({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${n}_save_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:i}}})},children:(0,w.jsx)(r.xv,{size:"200",weight:"bold",children:e._('Save image', 'dweb.unauth.context_menu.link.save_image', 'Link to save the image')})},"SaveMenuItem"),E=({i18n:e,pinTitle:i,pinDescription:t,pinId:n,bestPinImgSrc:a,attributionLabelSource:o,logContextEvent:l,pinCategory:s,checkExperiment:d,showSignupModal:c})=>(0,w.jsx)(T,{testId:"download",onTap:()=>{const{expName:e,expGroup:r,limitReached:u,oldCount:p,newCount:_}=(0,x.HM)(d,"dweb_download_in_context_menus_closeup");(0,f.My)("dweb.unauth.context_menu.download_image",{attributionLabelSource:o,expName:e,expGroup:r,limitReached:u,oldCount:p,newCount:_}),u?c({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${o}_download_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"downloadImageBtnUnauth",container:"download",savePinId:n}}}):(0,x.ZP)({filename:i||t||n,imgSrc:a||"",category:s,pinId:n,isUnauth:!0,platform:"web",expName:e,expGroup:r},l)},children:(0,w.jsx)(r.xv,{size:"200",weight:"bold",children:e._('Download image', 'Button to download Pin image', 'Button to download Pin image')})},"DownloadMenuItem"),C=({pinId:e,pinLink:i,fromEllipsisButton:t,attributionLabelSource:n,showSignupModal:a,i18n:o})=>(0,w.jsx)(T,{testId:"new-tab",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.open_plp_new_tab",{attributionLabelSource:n}),window.open(t?i:`/pin/${e}/`),t||a({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_context_menu_related_pin_right_click_open_link_button",desktopOptions:{modalType:"login"}})},children:(0,w.jsx)(r.xv,{size:"200",weight:"bold",children:o._('Open link in new tab', 'dweb.unauth.context_menu.link.plp_new_tab', 'Link to open the pin in a new tab')})},"NewTabMenuItem"),j=({history:e,levelOneInterestUrl:i,searchUrl:t,levelOneInterestName:n,i18n:a,interestTag:o,attributionLabelSource:l})=>(0,w.jsx)(T,{testId:"interests",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.see_more_pins",{attributionLabelSource:l}),i?e.push(`${i}`):e.push(t)},children:n?(0,w.jsx)(r.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,c.nk)(a._('See more ideas about {{levelOneInterestName}}', 'dweb.unauth.context_menu.link.see_more_ideas.l1', 'Link to see similar pins'),{levelOneInterestName:n})}):(0,w.jsx)(r.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,c.nk)(a._('See more ideas about {{interestTag}}', 'dweb.unauth.context_menu.link.see_more_ideas.interest_tag', 'Link to see similar pins'),{interestTag:o})})},"MoreInterestsMenuItem"),R=({history:e,sourceUserUsername:i,sourceUserFullname:t,i18n:n,attributionLabelSource:a})=>(0,w.jsx)(T,{testId:"from-creator",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.more_from_creator",{attributionLabelSource:a}),e.push(`/${i}/`)},children:(0,w.jsx)(r.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,c.nk)(n._('See more from {{full_name}}', 'dweb.unauth.context_menu.link.more_from_creator', 'Link to see more ideas from this creator'),{full_name:t})})},"MoreFromCreatorMenuItem"),D=({attributionLabelSource:e,showSignupModal:i,i18n:t})=>(0,w.jsx)(a.Fragment,{children:(0,w.jsx)(T,{testId:"login-or-signup",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.login_signup",{attributionLabelSource:e}),i({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${e}_signup_or_login_button`,desktopOptions:{modalType:"login"}})},children:(0,w.jsx)(r.xv,{size:"200",weight:"bold",children:t._('Log in or sign up for more', 'dweb.unauth.context_menu.link.login_signup', 'Link to log in or sign up')})})},"LoginSignupMenuItem"),F=({attributionLabelSource:e,reportLink:i,i18n:t})=>(0,w.jsx)(a.Fragment,{children:(0,w.jsx)(T,{testId:"dsa",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.report_pin_dsa",{attributionLabelSource:e}),window.open(i,"_blank")},children:(0,w.jsx)(r.xv,{size:"200",weight:"bold",children:t._('Report Pin for EU local law violation', 'dweb.unauth.context_menu.link.report_pin_dsa', 'Button to report Pin for EU local law violation')})})},"ReportForDSAMenuItem");function L({desktopContextMenuState:e,isMainPinImage:i,source:t,imagesUrls:n,embedSrc:a,embedType:o,sourceUserUsername:c,sourceUserFullname:p,pinJoinVisualAnnotation:_,pinJoinSeoBreadcrumbName:m,pinJoinSeoBreadcrumbUrl:f,pinId:b,pinLink:S,pinTitle:T,pinDescription:A,pinCategory:L,pinEligibleForDownload:O}){var z;const N=(0,d.ZP)(),M=(0,l.useHistory)(),{logContextEvent:B}=(0,s.v)(),{countryFromIp:Z,isAuthenticated:U,isBot:K,isSocialBot:G}=(0,g.B)(),{checkExperiment:H}=(0,h.F)(),V=U?H("web_auth_exclude_original_images").anyEnabled:H("web_unauth_exclude_original_images").anyEnabled,W=(0,u.Z)({imagesUrls:n,embedSrc:a,embedType:o,excludeOriginals:!K&&!G&&V}),$=m,Y=f,q=null!==(z=null==_?void 0:_[0])&&void 0!==z?z:void 0,X=(0,y.Z)(q),J=`/search/pins/?q=${encodeURIComponent(X)}&rs=image_only_attribution`,Q=(0,v.Z)(),ee="dweb.plp.ellipsis.button"===t,{COUNTRY_CODES:ie}=P.LAW_CONFIGURATION.dsa,te=ie.includes(Z);if(!W)return null;const ne=(0,u.Z)({imagesUrls:n,embedSrc:a,embedType:o,excludeOriginals:!K&&!G&&V});let ae="related_pin_right_click";ee?ae="action_bar_ellipsis":i&&(ae="right_click");const oe=[{component:()=>k({i18n:N,pinId:b,showSignupModal:Q,attributionLabelSource:ae})},{component:()=>O&&(0,x.SU)(H,"dweb_download_in_context_menus_closeup")&&E({i18n:N,pinTitle:T,pinDescription:A,pinId:b,bestPinImgSrc:ne,attributionLabelSource:ae,logContextEvent:B,pinCategory:L,checkExperiment:H,showSignupModal:Q})},{component:()=>!(i||ee&&!S)&&C({i18n:N,pinId:b,pinLink:S,fromEllipsisButton:ee,showSignupModal:Q,attributionLabelSource:ae})},{component:()=>!!(q||$&&Y)&&j({history:M,levelOneInterestUrl:Y,searchUrl:J,levelOneInterestName:$,i18n:N,interestTag:q,attributionLabelSource:ae})},{component:()=>!(!p||!c)&&R({history:M,sourceUserUsername:c,sourceUserFullname:p,i18n:N,attributionLabelSource:ae})},{component:()=>!H("dweb_remove_login_signup_options_from_context_menus").anyEnabled&&D({showSignupModal:Q,i18n:N,attributionLabelSource:ae})},{component:()=>te&&F({reportLink:`https://www.pinterest.com/about/dsa/?pinId=${b}`,i18n:N,attributionLabelSource:ae})}].map((({component:e})=>e())).filter((e=>!!e));return(0,w.jsxs)(r.xu,{"data-test-id":"desktop-context-menu",position:"fixed",dangerouslySetInlineStyle:{__style:{top:`${e.y}px`,left:`${e.x}px`}},zIndex:new r.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:I,children:[(0,w.jsx)(r.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",children:(0,w.jsx)(r.JO,{icon:"pinterest",accessibilityLabel:N._('Pinterest logo', 'dweb.unauth.context_menu.pinterest_logo', 'Pinterest logo in the context menu'),color:"brandPrimary"})}),oe]})}function O({graphqlRef:e,pinId:i,useNativeCreatorAsPinner:t,...n}){var a,l,r,s,d,c,u,h,g,y,v,f,x,b,P;const S=(0,o.useFragment)(A,e),I=(0,m.Z)({type:"graphqlRef",data:S}),T=!!S.storyPinDataId,k=Boolean(null===(a=S.videos)||void 0===a?void 0:a.videoList),{isUnsafe:E}=S,C=!T&&!k&&!E;let j;var R,D;(j=S.nativeCreator?S.nativeCreator:S.linkDomain?S.linkDomain.officialUser:S.originPinner||S.pinner,j)||(j=null!==(R=null===(D=S.linkDomain)||void 0===D?void 0:D.officialUser)&&void 0!==R?R:S.pinner);const{storyPinDataId:F}=S,O=null!==(l=null===(r=S.richSummary)||void 0===r?void 0:r.displayName)&&void 0!==l?l:"",z=null!==(s=null===(d=S.richMetadata)||void 0===d?void 0:d.title)&&void 0!==s?s:"",N=null!==(c=null===(u=S.richMetadata)||void 0===u?void 0:u.description)&&void 0!==c?c:"",M=null===(h=S.storyPinData)||void 0===h||null===(g=h.metadata)||void 0===g?void 0:g.pinTitle,B=(null===(y=S.pinJoin)||void 0===y?void 0:y.visualAnnotation)||void 0,Z=S.category||"",U=(0,_.Ly)({pinTitle:S.title,gridTitle:S.gridTitle,richSummaryDisplayName:O,richMetadataTitle:z,storyPinDataId:F,storyPinDataMetadataPinTitle:M,pinJoinVisualAnnotation:B}),K=(0,p.Z)({storyPinDataId:F,pinDescription:S.description,richMetadataDescription:N,richSummaryDisplayName:O,closeupDescription:S.closeupDescription,closeupUnifiedDescription:S.closeupUnifiedDescription});return(0,w.jsx)(L,{...n,embedSrc:S.embed&&S.embed.src,embedType:S.embed&&S.embed.type,imagesUrls:I,sourceUserUsername:null===(v=j)||void 0===v?void 0:v.username,sourceUserFullname:null===(f=j)||void 0===f?void 0:f.fullName,pinJoinVisualAnnotation:null===(x=S.pinJoin)||void 0===x?void 0:x.visualAnnotation,pinJoinSeoBreadcrumbName:(null===(b=S.pinJoin)||void 0===b?void 0:b.seoBreadcrumbs)&&(S.pinJoin.seoBreadcrumbs.length>0?S.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null===(P=S.pinJoin)||void 0===P?void 0:P.seoBreadcrumbs)&&(S.pinJoin.seoBreadcrumbs.length>0?S.pinJoin.seoBreadcrumbs[0].url:null),pinId:i,pinTitle:U,pinDescription:K,pinCategory:Z,pinEligibleForDownload:C})}function z({graphqlRef:e,pinId:i,useNativeCreatorAsPinner:t,...n}){var a,o,l,r,s,d,c,u,h,g,y,v,f,x,P;const I=(0,S.S6)()(i),T=(0,m.Z)({type:"deprecated",data:I}),A=null==I?void 0:I.story_pin_data_id,k=null==I?void 0:I.videos,E=!!A,C=!(null==k||!k.video_list),j=null==I?void 0:I.title,R=null==I?void 0:I.description,D=null==I?void 0:I.grid_title,F=null!==(a=null==I||null===(o=I.rich_metadata)||void 0===o?void 0:o.title)&&void 0!==a?a:"",O=null==I?void 0:I.category,z=null!==(l=null==I||null===(r=I.rich_metadata)||void 0===r?void 0:r.description)&&void 0!==l?l:"",N=null!==(s=null==I||null===(d=I.rich_summary)||void 0===d?void 0:d.display_name)&&void 0!==s?s:"",M=null==I?void 0:I.closeup_description,B=null==I?void 0:I.closeup_unified_description,Z=null==I||null===(c=I.story_pin_data)||void 0===c||null===(u=c.metadata)||void 0===u?void 0:u.pin_title,U=null==I||null===(h=I.pin_join)||void 0===h?void 0:h.visual_annotation,K=null==I?void 0:I.is_unsafe,G=!E&&!C&&!K,{link_domain:H,native_creator:V,origin_pinner:W,pinner:$}=I||{};let Y=(0,b.wS)(H,V,W,$);var q,X;Y||(Y=null!==(q=null==I||null===(X=I.link_domain)||void 0===X?void 0:X.official_user)&&void 0!==q?q:null==I?void 0:I.pinner);const{full_name:J,username:Q}=null!==(g=Y)&&void 0!==g?g:{},ee=(0,_.Ly)({pinTitle:j,gridTitle:D,richSummaryDisplayName:N,richMetadataTitle:F,storyPinDataId:A,storyPinDataMetadataPinTitle:Z,pinJoinVisualAnnotation:U}),ie=(0,p.Z)({storyPinDataId:A,pinDescription:R,richMetadataDescription:z,richSummaryDisplayName:N,closeupDescription:M,closeupUnifiedDescription:B});return(0,w.jsx)(L,{...n,embedSrc:null==I||null===(y=I.embed)||void 0===y?void 0:y.src,embedType:null==I||null===(v=I.embed)||void 0===v?void 0:v.type,imagesUrls:T,sourceUserUsername:Q,sourceUserFullname:J,pinJoinVisualAnnotation:null==I||null===(f=I.pin_join)||void 0===f?void 0:f.visual_annotation,pinJoinSeoBreadcrumbName:(null==I||null===(x=I.pin_join)||void 0===x?void 0:x.seo_breadcrumbs)&&(I.pin_join.seo_breadcrumbs.length>0?I.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==I||null===(P=I.pin_join)||void 0===P?void 0:P.seo_breadcrumbs)&&(I.pin_join.seo_breadcrumbs.length>0?I.pin_join.seo_breadcrumbs[0].url:null),pinId:i,pinTitle:ee,pinDescription:ie,pinCategory:O,pinEligibleForDownload:G})}function N(e){return e.graphqlRef?(0,w.jsx)(O,{...e,graphqlRef:e.graphqlRef}):(0,w.jsx)(z,{...e})}},613352:(e,i,t)=>{t.d(i,{X:()=>c,f:()=>d});var n=t(667294),a=t(583592),o=t(898252);function l(e=null,i){switch(i.type){case"REPORT_CONTENT_SHOW":return{id:i.payload.id,isProduct:i.payload.isProduct,isPromoted:i.payload.isPromoted,parentId:i.payload.parentId,videoDuration:i.payload.videoDuration,viewParameter:i.payload.viewParameter,viewType:i.payload.viewType,type:i.payload.type};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var r=t(785893);const{Provider:s,useHook:d}=(0,a.Z)("ReportData");function c({children:e}){const[i,t]=(0,n.useReducer)(l,null),a=(0,n.useCallback)((()=>t({type:"REPORT_CONTENT_DISMISS"})),[]),d=(0,n.useCallback)(((e,i,n)=>t({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,parentId:i,videoDuration:null,viewParameter:null,viewType:null,type:n}})),[]),c=(0,n.useCallback)(((e,i,n)=>t({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:i,viewType:n,type:"conversation"}})),[]),u=(0,n.useCallback)(((e,i,n)=>t({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:i,viewType:n,type:"pin"}})),[]),p=(0,n.useCallback)((({pinId:e,isDownstreamPromotion:i,hasPromoter:n,firstVideoDuration:a,isProduct:l,viewParameter:r,viewType:s})=>{const d=(0,o.jL)(i,n);t({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:l,isPromoted:d,videoDuration:a,viewParameter:r,viewType:s,type:"pin"}})}),[]),_=(0,n.useMemo)((()=>({reportData:i,dismiss:a,reportComment:d,reportConversation:c,reportImage:u,reportPin:p})),[i,a,d,c,u,p]);return(0,r.jsx)(s,{value:_,children:e})}},646081:(e,i,t)=>{t.d(i,{Z:()=>r});var n,a=t(667294),o=t(167912);const l=void 0!==n?n:n=t(782194),r=e=>{var i;const t=(0,o.useFragment)(l,e),n=null==t||null===(i=t.pinJoin)||void 0===i?void 0:i.annotationsWithLinksArray;return(0,a.useMemo)((()=>null==n?void 0:n.reduce(((e,{name:i,url:t})=>i?{...e,[i]:{name:i,url:t}}:e),{})),[n])}},726091:(e,i,t)=>{t.d(i,{Z:()=>w});var n=t(667294),a=t(702664),o=t(883119),l=t(563962),r=t(870243),s=t(536042),d=t(734417),c=t(630089),u=t(282802),p=t(28630),_=t(843843),m=t(41669),h=t(328939),g=t(427778),y=t(712968),v=t(785893);const f={__style:{backgroundColor:"rgba(0, 0, 0, 0.04)"}},x=({height:e,image:i,width:t})=>{var n,a,l;const r=(0,s.ZP)();return(0,v.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{borderRight:"1px solid white"}},children:i?(0,v.jsxs)(o.xu,{position:"relative",children:[(0,v.jsx)(o.GH,{width:t,height:e,contentAspectRatio:"number"==typeof i.height&&"number"==typeof i.width?i.width/i.height:1,children:(0,v.jsx)(o.Ee,{alt:r._('pin image', 'alt text for pin image', 'alt text for pin image'),color:i.dominant_color||void 0,naturalWidth:null!==(n=i.width)&&void 0!==n?n:1,naturalHeight:null!==(a=i.height)&&void 0!==a?a:1,src:null!==(l=i.url)&&void 0!==l?l:""})}),(0,v.jsx)(o.xu,{dangerouslySetInlineStyle:f,height:e,width:t,position:"absolute",top:!0,left:!0})]}):(0,v.jsx)(o.xu,{color:"secondary",width:t,height:e})})};var b=t(333741);const P=60,S=117;function w({action:e,auxData:i,isPinnerAuthorityHero:t=!1,userSearchRepStyle:f=!1,onFollowUser:w,onUnfollowUser:I,userId:T,userPinsImages236x:A,viewParameter:k,viewType:E,truncateName:C=!1}){const j=(0,s.ZP)(),R=(0,d.Z)(),D=(0,a.useDispatch)(),{locale:F}=(0,u.B)(),L=(0,l.Z)(),[O,z]=(0,n.useState)(f?window.innerWidth-16:null),N=(0,y.mN)()(T);if(!N)return null;const{contextual_pin_image_urls:M,explicitly_followed_by_me:B,follower_count:Z=0,full_name:U,image_medium_url:K,is_verified_merchant:G,recent_pin_images:H,username:V,verified_identity:W}=N,$=e=>O?(O-(e-1))/e:0,Y=f?1.6*$(4):S,q=A||[],X=(null==H?void 0:H["222x"])||(null==H?void 0:H["192x"])||[];let J=(null==M?void 0:M["222x"])||(null==M?void 0:M["192x"])||[];t&&0===J.length&&(J=X);const Q=f&&J.length<=0;let ee=f?J.concat(X).slice(0,4):q.concat(X).slice(0,2);0===ee.length&&(ee=[void 0,void 0]);const ie=!Q&&(O?(0,v.jsx)(o.zd,{rounding:4,children:(0,v.jsx)(o.kC,{children:ee.map(((e,i)=>(0,v.jsx)(x,{height:Y,image:e,width:$(ee.length)},`pinImage-${i}`)))})}):(0,v.jsx)(o.xu,{height:Y,ref:e=>{e&&z(e.offsetWidth)},width:"100%"})),te=e=>(0,v.jsx)(o.kC,{justifyContent:"center",children:(0,v.jsx)(o.xu,{marginTop:e,height:P,width:P,children:(0,v.jsx)(r.qE,{outline:!0,name:null!=U?U:"",src:null!=K?K:""})})}),ne=e=>(0,v.jsxs)(o.kC,{direction:"column",gap:{row:0,column:1},alignItems:e,children:[(0,v.jsx)(o.kC,{alignItems:"stretch",maxWidth:(f?(O||0)/2:O)||void 0,children:(0,v.jsx)(o.xv,{align:e,weight:"bold",lineClamp:C?1:void 0,children:G||null!=W&&W.verified?(0,v.jsx)(b.Z,{badgeSize:"md",badgeSpacing:2,fullName:null!=U?U:"",verifiedType:G?"verifiedMerchant":"verifiedIdentity",truncate:C}):U})}),(0,v.jsx)(o.xv,{inline:!0,size:"100",align:e,children:(0,c.nk)(j.ngettext('{{followers}} follower', '{{followers}} followers', Z, 'PinnerAuthority.followersCount', 'Count of a user\'s followers'),{followers:R(F,Z,{shortform:!0})})})]}),ae=(0,v.jsx)(o.kC,{justifyContent:"center",children:e&&e.url?(0,v.jsx)(o.ZP,{accessibilityLabel:e.text,color:"gray",size:"lg",text:e.text,href:e.url,onClick:()=>{L({event_type:9029,object_id_str:T,view_type:E,view_parameter:k,aux_data:i})},rel:(0,p.Z)({url:e.url})?"nofollow":void 0,target:(0,p.Z)({url:e.url})?"blank":void 0}):(0,v.jsx)(m.Z,{id:T,isSecondaryButton:!0,isFollowed:B,onFollow:e=>{w&&w(),D((0,g.ZN)(e))},onUnfollow:e=>{I&&I(),D((0,g.fv)(e))},size:"lg",followEventType:45,unfollowEventType:46,viewParameter:k,viewType:E})});return(0,v.jsx)(h.Cy,{loggingId:T,objectIdStr:T,slotIndex:0,viewParameter:k,viewType:E,children:({impressionTrackerRef:e})=>(0,v.jsx)(o.xu,{ref:e,padding:1,marginBottom:6,"data-test-id":"user-rep",children:(0,v.jsx)(_.MZ,{to:`/${V}/`,onTouch:()=>{L({event_type:43,object_id_str:T,view_parameter:k,view_type:E})},children:(0,v.jsxs)(o.kC,{direction:"column",gap:{row:0,column:2},width:"100%",children:[ie,f?(0,v.jsx)(o.xu,{width:"100%",children:(0,v.jsxs)(o.kC,{justifyContent:"between",alignItems:"center",children:[(0,v.jsxs)(o.kC,{alignItems:"center",gap:{row:2,column:0},children:[te(),ne("start")]}),ae]})}):(0,v.jsxs)(o.kC,{direction:"column",gap:{row:0,column:2},children:[te(-10),ne("center"),ae]})]})})})})}},333741:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(667294),a=t(883119),o=t(793085),l=t(785893);const r=function({badgeSize:e,badgeSpacing:i,fullName:t,verifiedType:r,truncate:s=!1}){const d=t.split(" "),c=d.slice(0,d.length-1).join(" "),u=" ".concat(d[d.length-1]);return s?(0,l.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,l.jsx)(a.xv,{lineClamp:1,weight:"bold",children:t}),(0,l.jsx)(a.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:i}},paddingX:1,children:(0,l.jsx)(o.Z,{isVerifiedMerchant:"verifiedMerchant"===r,size:e,showVerifiedIdentity:"verifiedIdentity"===r})})]}):(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)("span",{children:c}),(0,l.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[u," ",(0,l.jsx)(a.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:i}},children:(0,l.jsx)(o.Z,{isVerifiedMerchant:"verifiedMerchant"===r,size:e,showVerifiedIdentity:"verifiedIdentity"===r})})]})]})}},709512:(e,i,t)=>{t.d(i,{Z:()=>s});var n=t(883119),a=t(117651),o=t(536042),l=t(785893);const r=24;function s({duration:e}){const i=(0,o.ZP)();return(0,l.jsxs)(n.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:r,justifyContent:"center",paddingX:2,rounding:"pill",children:[(0,l.jsx)(n.JO,{accessibilityLabel:i._('Video camera icon', 'Video camera indicator icon for a Pin', 'Video camera indicator icon for a Pin'),color:"light",icon:"video-camera"}),(0,l.jsx)(n.xu,{marginStart:1,children:(0,l.jsx)(n.xv,{color:"inverse",size:"100",lineClamp:1,children:(0,a.Z)(e)})})]})}},197083:(e,i,t)=>{t.d(i,{ZP:()=>w});var n=t(667294),a=t(23279),o=t.n(a),l=t(883119),r=t(388011),s=t(758360),d=t(736567),c=t(714557);function u(e){const{eventData:{videoEvent:{gridAutoplay:i,videoDuration:t,startTime:n,endTime:a,videoStartTime:o,videoEndTime:l,isAudible:r,height:s,width:d,playbackState:c,quartile:u,quartilePercentValue:p,windowHeight:_,windowWidth:m,viewability:h}},component:g,objectId:y,view:v,viewParameter:f,...x}=e;return{component:g,object_id_str:y,view_type:v,view_parameter:f,aux_data:{...x},event_data:{videoEventData:{gridAutoplay:i,videoDuration:t,time:n,endTime:a,videoTime:o,endVideoTime:l,isAudible:r,height:s,width:d,playbackState:c,quartile:u,quartilePercentValue:p,windowHeight:_,windowWidth:m,viewability:h}}}}var p=t(473383),_=t(785893);function m(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}const h=[0,.25,.5,.75,.95,.97],g=[0,.5,.8,.99,1],y="-64px 0px 0px 0px",v={rootMargin:y,threshold:g},f={rootMargin:y,threshold:c.i},x=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function b(){return(new Date).getTime()}function P(e){return!!e.volume&&e.volume>0}class S extends n.Component{constructor(e){super(e),m(this,"videoWrapperRef",(0,n.createRef)()),m(this,"handleWindowResize",(()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:i,width:t}=this.currentInterval;e.height!==i||e.width!==t?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}})),m(this,"handlePlayheadDown",(({event:e})=>{const{onPlayheadDown:i}=this.props;this.setState({seeking:!0}),i&&i({event:e})})),m(this,"handlePlayheadUp",(({event:e})=>{const{onPlayheadUp:i}=this.props;this.setState({seeking:!1}),i&&i({event:e})})),m(this,"handleLoop",(()=>{this.videoTime=0})),m(this,"handleTimeChange",(e=>{const{seeking:i,ready:t}=this.state;if(!this.currentInterval.videoDuration)return;const n=1e3*e.time,a=function(e,i,t,n){if(e>i)return null;if(t<=0)return null;for(const a of n){const n=a*t;if(e<=n&&i>n)return a}return null}(this.videoTime,n,this.currentInterval.videoDuration,h);if("number"==typeof a&&this.props.playing&&!i&&t){const e=b();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*a),quartilePercentValue:a})}this.videoTime=n,this.props.onTimeChange&&this.props.onTimeChange(e)})),m(this,"handleDurationChange",(e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)})),m(this,"handleReady",(e=>{const{ready:i}=this.state;i||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)})),m(this,"handleEnded",(e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)})),m(this,"handleVisibilityChange",(e=>{if(0===e.length)return;const i=e.slice(-1)[0],t=function(e,i){for(let t=0;t<i.length;t+=1){const n=i[t],a=i[t+1];if(null==a)return n;if(n<=e&&e<a)return n}return null}(Number.parseFloat(i.intersectionRatio.toFixed(2)),g);"number"==typeof t&&(this.visible=t>=.5),null==t||t===this.currentInterval.viewability||this.fullscreen||(0===t?this.startNewInterval({viewability:t,playbackState:x.PAUSED}):this.startNewInterval({viewability:t}))})),m(this,"handleFullscreenChange",(({event:e,fullscreen:i})=>{if(i){const{height:e,width:i}=window.screen;this.startNewInterval({height:e,width:i,windowHeight:e,windowWidth:i})}else i||this.startNewInterval(this.getDimensions());this.fullscreen=i,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:i})})),m(this,"handleClose",(()=>{this.startNewInterval()})),m(this,"handleContextMenu",(e=>{e.preventDefault()})),this.state={ready:!1,seeking:!1};const i=b();this.handleWindowResize=o()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:i,endTime:i,videoStartTime:0,videoEndTime:0,isAudible:P(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,i){const t={};P(e)&&!P(this.props)?t.isAudible=!1:!P(e)&&P(this.props)&&(t.isAudible=!0);const n=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,i)!==n&&(t.playbackState=n),Object.keys(t).length>0&&this.startNewInterval(t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,i){return i.ready?e.playing&&!i.seeking?x.PLAYING:x.PAUSED:x.LOADING}getDimensions(){let e,i;if(this.videoWrapperRef.current){const t=this.videoWrapperRef.current;t.clientHeight&&t.clientWidth&&(e=t.clientHeight,i=t.clientWidth)}return{height:e,width:i,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,i){const{closeupStoryPinViewability:t,contextLogData:n,logContextEvent:a,playing:o,surface:l}=this.props,{seeking:r}=this.state,{height:s,width:d,windowHeight:c,windowWidth:p,viewability:_,...m}=i;if(null!=s&&null!=d&&null!=c&&null!=p&&null!=_){const i={...m,gridAutoplay:6904===e&&o&&!r&&("AuthHomefeed"===l||"SearchItem"===l||"RelatedPinGrid"===l),height:s,width:d,windowHeight:c,windowWidth:p,viewability:t||_};a({event_type:e,...u({...n,view:this.fullscreen?108:n.view,eventData:{videoEvent:i}})})}}logFourthQuartileEvent(){const e=b();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const i=b();this.logVideoEvent(6904,{...this.currentInterval,endTime:i,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:i,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{aspectRatio:e,backgroundColor:i,captions:t,contextLogData:n,controls:a,cropHeight:o,hlsConfig:r,inAdsDesktopVideoExperiment:c,isAutoPlay:u,loop:m,objectFit:h,onLoadedChange:g,onControlsPause:y,onControlsPlay:x,onSeek:b,onVolumeChange:P,playbackRate:S,playing:w,playsInline:I,poster:T,preload:A,rootMargin:k,src:E,surface:C,videoStartTime:j,volume:R}=this.props,{seeking:D}=this.state,F=c?f:v;return void 0!==k&&(F.rootMargin=C?(0,d.e)(C):k),(0,_.jsx)(s.Z,{options:F,onVisibilityChange:this.handleVisibilityChange,children:(0,_.jsx)(l.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,dangerouslySetInlineStyle:{__style:o?{display:"flex",alignItems:"center",height:`${o}px`}:{}},children:(0,_.jsx)(p.default,{aspectRatio:o?236/o:e,backgroundColor:i,captions:t,contextLogData:n,controls:a,hlsConfig:r,isAutoPlay:u,loop:m,objectFit:h,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:g,onLoop:this.handleLoop,onControlsPause:y,onControlsPlay:x,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:b,onTimeChange:this.handleTimeChange,onVolumeChange:P,playbackRate:S,playing:!D&&w,onPlay:()=>{},onPlayError:()=>{},playsInline:I,poster:T,preload:A,src:E,videoStartTime:j,visible:this.visible,volume:R})})})}}function w(e){const{logContextEvent:i}=(0,r.v)();return(0,_.jsx)(S,{...e,logContextEvent:i})}m(S,"defaultProps",l.nk.defaultProps)},464834:(e,i,t)=>{t.d(i,{Z:()=>_i});var n=t(549201),a=t(802071),o=t(167912),l=t(616550),r=t(883119),s=t(448709),d=t(536042),c=t(245410),u=t(77494),p=t(819079),_=t(769623),m=t(667294),h=t(702664),g=t(603801),y=t(388011),v=t(24286),f=t(310561),x=t(874261),b=t(993869),P=t(41162),S=t(698791),w=t(99220),I=t(882973),T=t(739425),A=t(272109);const k=.9;function E(e,i){let t=0,n=!1,a=-1;return e.forEach(((e,o)=>{const{x:l=0,y:r=0,h:s=0,w:d=0}=e,c=function(e,i){const{x:t,y:n,w:a,h:o}=e,{x:l,y:r,w:s,h:d}=i,c=a*o,u=s*d,p=Math.max(t,l),_=Math.min(t+a,l+s),m=Math.max(n,r),h=Math.min(n+o,r+d),g=p<_&&m<h?(_-p)*(h-m):0;return g/(c+u-g)}(i,{x:l,y:r,h:s,w:d});c>=k&&c>t&&(t=c,n=!0,a=o)})),{isCropAreaOnDotArea:n,dotIndexToHide:a}}var C=t(791870),j=t(676794),R=t(805834),D=t(372836),F=t(377234),L=t(519218),O=t(785893);const z=3,N=2;function M({handleBackClick:e,viewParameter:i,viewType:t}){const n=(0,F.vs)();return(0,O.jsx)(r.xu,{"data-test-id":"cancelButton",position:"fixed",left:!0,top:!0,margin:N,children:(0,O.jsx)(L.Z,{color:n?"darkGray":"white",disableRedirect:!0,icon:"cancel",onTouch:e,padding:z,size:"lg",viewParameter:i,viewType:t})})}var B=t(563962),Z=t(94111),U=t(741099);function K({pinDominantColor:e,url:i,closeupImageWidth:t,closeupImageHeight:n}){const a=(0,d.ZP)();return(0,O.jsx)(U.Z,{alt:a._('Pin image', 'flashlight.cropper.closeupImage', 'Pin closeup image'),color:e,isFlashlightPage:!0,naturalHeight:n,naturalWidth:t,placeholder:i,showSpinner:!1,src:i})}const G=9,H=24,V=e=>{const{alt:i,src:t,top:n,left:a}=e;return(0,O.jsx)(r.xu,{position:"absolute",height:H,width:H,dangerouslySetInlineStyle:{__style:{top:n,left:a}},children:(0,O.jsx)(r.Ee,{alt:i,color:"transparent",naturalHeight:H,naturalWidth:H,src:t})})};var W=t(538282),$=t.n(W),Y=t(129261),q=t.n(Y),X=t(346184),J=t.n(X),Q=t(136880),ee=t.n(Q);const ie=2,te={backgroundColor:"#000000",opacity:"0.4"};function ne({closeupImage:e,closeupImageDims:i,cropArea:{x:t,y:n,w:a,h:o},disableBorder:l,disableHandles:s,handleBackClick:c,onTouchEnd:u,onTouchMove:p,onTouchStart:_,pinDominantColor:m,showBackButton:h,viewParameter:g}){var y;const v=(0,d.ZP)(),f=null!==(y=null==e?void 0:e.url)&&void 0!==y?y:"",{closeupImageWidth:x,closeupImageHeight:b}=i,P=Math.floor(b*n),S=Math.floor(x*t),w=Math.floor(b*o),I=Math.floor(x*a),T=S+I,A=P+w;return(0,O.jsxs)(r.xu,{onTouchMove:p,onTouchStart:_,onTouchEnd:u,position:"relative",children:[(0,O.jsx)(K,{pinDominantColor:m,url:f,closeupImageWidth:x,closeupImageHeight:b}),(0,O.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:te},height:P,left:!0,position:"absolute",top:!0,width:"100%"}),(0,O.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{...te,top:P}},left:!0,height:w,position:"absolute",width:S}),(0,O.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{...te,top:P,left:T}},height:w,position:"absolute",right:!0}),(0,O.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{...te,top:A}},bottom:!0,left:!0,position:"absolute",width:"100%"}),h&&(0,O.jsx)(M,{handleBackClick:c,viewParameter:g,viewType:427}),!s&&(0,O.jsxs)(r.xu,{"data-test-id":"CropperHandles",children:[(0,O.jsx)(V,{alt:v._('Top left cropper handle', 'flashlight.cropper.topLeftHandle', 'top left handle for cropping image'),src:J(),top:P-G,left:S-G}),(0,O.jsx)(V,{alt:v._('Top right cropper handle', 'flashlight.cropper.topRightHandle', 'top right handle for cropping image'),src:ee(),top:P-G,left:T-(H-G)}),(0,O.jsx)(V,{alt:v._('Bottom left cropper handle', 'flashlight.cropper.bottomLeftHandle', 'bottom left handle for cropping image'),src:$(),top:A-(H-G),left:S-G}),(0,O.jsx)(V,{alt:v._('Bottom right cropper handle', 'flashlight.Cropper.BottomLeftHandle', 'bottom right handle for cropping image'),src:q(),top:A-(H-G),left:T-(H-G)})]}),(0,O.jsx)(r.xu,{"data-test-id":"CroppedArea",position:"absolute",rounding:2,height:w+2*ie,width:I+2*ie,dangerouslySetInlineStyle:{__style:{top:P-ie,left:S-ie,border:l?void 0:`${ie}px solid #ffffff`}}})]})}var ae=t(525010);const oe=16,le=32;function re({auxData:e,onClick:i,shouldLogDotRender:t,showNoHalo:n,style:a,viewParameter:o,x:l,y:s}){const c=(0,d.ZP)(),u=(0,B.Z)(),p=oe,_=le;return(0,A.Z)((()=>{t&&u({aux_data:e,element:1221,event_type:120,view_parameter:o,view_type:72})})),(0,O.jsx)("div",{"data-test-id":"dot",onClick:i,onKeyPress:i,role:"button",style:{position:"absolute",top:s-_/2,left:l-_/2,outline:"none",...a},"aria-label":c._('Select a specific item on image', 'dot.accessibilityLabel', 'Accessibility label for <Dot /> component'),tabIndex:"0",children:(0,O.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n?void 0:"rgba(0, 0, 0, 0.1)",width:_,height:_,border:"none",borderRadius:_,cursor:i?"pointer":"default"}},children:(0,O.jsx)(r.xu,{color:"light",position:"absolute",padding:0,display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{boxShadow:"none",width:p,height:p,border:"none",borderRadius:p,top:(_-p)/2,left:(_-p)/2}}})})})}var se=t(798198);const de="flashlightDotPop",ce=(0,se.Ll)([`\n  ${de} {\n      0% {\n          opacity: 0;\n          transform: scale(0);\n      }\n\n      100% {\n          opacity: 1;\n          transform: scale(1);\n      }\n  }\n`,"labelReveal {\n    0% {\n      transform: scale(0, 1)\n    }\n\n    100% {\n      transform: scale(1, 1)\n    }\n  }\n"]),ue=e=>{const i=parseFloat((.1*e).toFixed(2));return{animation:`${de} 0.3s ease-out ${i}s both`}};function pe({closeupImageTop:e,imageHeight:i,imageTop:t,imageWidth:n,onDotTap:a,pinId:o,pinImageSignature:l,setCropArea:r,shouldLogDotRender:s,showNoHalo:d,viewParameter:c,visualObjects:u,visualObjectToHide:p}){const _=(0,B.Z)();return(0,O.jsxs)(m.Fragment,{children:[(0,O.jsx)(x.Z,{unsafeCSS:ce}),u.map(((m,h)=>{if(h===p)return null;const{x:g=0,y=0,w:v=0,h:f=0}=m,x={x:g,y,h:f,w:v},b=(0,ae.Z)({cropArea:m,scaledWidth:n,scaledHeight:i}),P=Math.floor(b.x+b.w/2),S=Math.floor(b.y+t+b.h/2)-e,w=ue(h),I={pin_id:o,image_signature:l,visual_objects:JSON.stringify([x]),commerce_data:JSON.stringify({entrypoint:"flashlight",pin_is_stela:"false"})};return(0,O.jsx)(re,{auxData:I,onClick:function(){_({aux_data:I,element:1221,event_type:102,view_parameter:c,view_type:72}),a({cropArea:x,cropSource:4,visualObjects:u}),null==r||r(x)},shouldLogDotRender:s,style:w,x:P,y:S,showNoHalo:d,viewParameter:c},JSON.stringify(x))}))]})}var _e=t(963181);const me=H/2,he={OUTSIDE:0,INSIDE:1,LEFT_CROPPER:2,RIGHT_CROPPER:3,TOP_CROPPER:4,BOTTOM_CROPPER:5,TOP_LEFT_HANDLE:6,TOP_RIGHT_HANDLE:7,BOTTOM_LEFT_HANDLE:8,BOTTOM_RIGHT_HANDLE:9,NONE:10};function ge({closeupImage:e,closeupImageDims:i,cropArea:t,entryPoint:n,handleBackClick:a,handleChangeCloseupImageTop:o,handleCropperChange:l,headerHeight:s,inUnifiedFeedExp:d,pinDominantColor:c,pinId:u,pinImageSignature:p,showBackButton:_,viewParameter:h,visualObjects:g,visualObjectToHide:y}){const v=(0,B.Z)(),f=(0,m.useRef)(),[x,b]=(0,m.useState)(0),[P,S]=(0,m.useState)(0),[w,I]=(0,m.useState)(he.NONE),[T,A]=(0,m.useState)(t),{current:k}=(0,Z.Z)(),{x:E,y:C,w:j,h:R}=T,{closeupImageTop:D,closeupImageMinTop:F,closeupImageWidth:L,closeupImageHeight:z,minCropperWidthRatio:N,minCropperHeightRatio:M}=i,U=s||0,K={top:D,touchAction:"none"};return(0,O.jsx)(r.kC,{width:"100vw",justifyContent:"center",children:(0,O.jsxs)(r.xu,{overflow:"hidden",position:"fixed",dangerouslySetInlineStyle:{__style:K},ref:f,maxWidth:_e.g6,width:"100%",children:[(0,O.jsx)(ne,{closeupImage:e,closeupImageDims:i,cropArea:T,handleBackClick:a,onTouchEnd:()=>{if(![he.NONE,he.OUTSIDE].includes(w)){const e=w===he.INSIDE?7603:7604;v({event_type:e,view_parameter:h,view_type:72}),l({cropArea:T,cropSource:6,visualObjects:g})}},onTouchMove:e=>{const{clientX:i,clientY:t}=e.touches[0];if(b(i),S(t),w===he.NONE){const e=((e,i)=>{const t=i-D,n=e-(f.current?f.current.getBoundingClientRect().left:0),a=z*C,o=z*(C+R),l=L*E,r=L*(j+E);return t>a+me&&t<o-me&&n>l+me&&n<r-me?he.INSIDE:n<=l+me&&n>=l-me&&t>=a+(H-G)&&t<=o-(H-G)?he.LEFT_CROPPER:n<=r+me&&n>=r-me&&t>=a+(H-G)&&t<=o-(H-G)?he.RIGHT_CROPPER:n<=r-(H-G)&&n>=l+(H-G)&&t>=a-me&&t<=a+me?he.TOP_CROPPER:n<=r-(H-G)&&n>=l+(H-G)&&t>=o-me&&t<=o+me?he.BOTTOM_CROPPER:n<=l-G+H&&n>=l-me&&t>=a-me&&t<=a+H-G?he.TOP_LEFT_HANDLE:n<=r+me&&n>=r-(H-G)&&t>=a-me&&t<=a+H-G?he.TOP_RIGHT_HANDLE:n<=l-G+H&&n>=l-me&&t>=o-(H-G)&&t<=o+me?he.BOTTOM_LEFT_HANDLE:n<=r+me&&n>=r-(H-G)&&t>=o-(H-G)&&t<=o+me?he.BOTTOM_RIGHT_HANDLE:he.OUTSIDE})(i,t);I(e)}if(null!=N&&null!=M&&null!=F){const e=t-P,n=(i-x)/L,a=e/z,l=Math.min(E+j-N,Math.max(0,E+n)),r=j+(E-l),s=Math.min(C+R-M,Math.max(0,C+a)),d=R+(C-s),c=Math.min(1-E,Math.max(N,j+n)),u=Math.min(1-C,Math.max(M,R+a));switch(w){case he.OUTSIDE:o(Math.floor(Math.max(F,Math.min(U,D+e))));break;case he.INSIDE:A((e=>({...e,x:Math.max(0,Math.min(1-j,E+n)),y:Math.max(0,Math.min(1-R,C+a))})));break;case he.LEFT_CROPPER:A((e=>({...e,x:l,w:r})));break;case he.RIGHT_CROPPER:A((e=>({...e,w:c})));break;case he.TOP_CROPPER:A((e=>({...e,y:s,h:d})));break;case he.BOTTOM_CROPPER:A((e=>({...e,h:u})));break;case he.TOP_LEFT_HANDLE:A({x:l,w:r,y:s,h:d});break;case he.TOP_RIGHT_HANDLE:A((e=>({...e,w:c,y:s,h:d})));break;case he.BOTTOM_LEFT_HANDLE:A((e=>({...e,h:u,x:l,w:r})));break;case he.BOTTOM_RIGHT_HANDLE:A((e=>({...e,h:u,w:c})))}}},onTouchStart:e=>{const{clientX:i,clientY:t}=e.touches[0];b(i),S(t),I(he.NONE)},pinDominantColor:c,showBackButton:_,viewParameter:h}),!!g.length&&0!==z&&0!==L&&(0,O.jsx)(r.xu,{"data-test-id":"FlashlightDots",children:(0,O.jsx)(pe,{closeupImageTop:D,entryPoint:n,imageHeight:z,imageTop:D,imageWidth:L,onDotTap:l,pinId:u,pinImageSignature:p,setCropArea:A,shouldLogDotRender:!k,showNoHalo:d,viewParameter:h,visualObjects:g,visualObjectToHide:y})})]})})}var ye=t(818577),ve=t(593502);const fe=e=>({type:"SET_FLASHLIGHT_CROP_SOURCE",payload:{cropSource:e}});var xe=t(903539),be=t(925748),Pe=t(473420),Se=t(729239),we=t(618446),Ie=t.n(we),Te=t(906215),Ae=t(282802),ke=t(455788),Ee=t(98736),Ce=t(917652);function je(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}function Re({filterIconShown:e,isRTL:i}){const t=i?"marginRight":"marginLeft",n=i?"marginLeft":"marginRight";return e?{[t]:38,[n]:50,marginTop:15,marginBottom:15}:{[t]:-10,[n]:50,marginTop:15,marginBottom:15}}const De={baseStyles:{transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",transformOrigin:"bottom",touchAction:"none"}},Fe=0,Le=1,Oe=2;class ze extends m.Component{constructor(...e){super(...e),je(this,"state",{currentDistanceFromTop:this.props.maxDistanceFromTop?this.props.maxDistanceFromTop:-1,headerHeight:this.props.headerHeight||0,isAtTop:!1,scrollDirection:Fe,shouldAnimate:!1,startY:0,canScrollOnChildren:!1}),je(this,"onTouchStart",(e=>{const{clientY:i}=e.touches[0];this.setState({startY:i,shouldAnimate:!1,scrollDirection:Fe})})),je(this,"onTouchMove",(e=>{const{clientY:i}=e.touches[0],{startY:t,currentDistanceFromTop:n}=this.state,{canMoveModal:a,maxDistanceFromTop:o}=this.props,l=i-t;a&&void 0!==o&&(l>0&&n>=0&&n<o&&window.scrollY<=0||l<0&&n<=o&&n>=0)&&this.setModalPosition(i)})),je(this,"onTouchEnd",(()=>{const{entryPoint:e,minDistanceFromTop:i,canMoveModal:t}=this.props;this.props.shouldSnapToEnds&&this.state.scrollDirection===Oe?(this.header&&Te.Z.removeObstruction("top",this.header),this.setState({canScrollOnChildren:!1,currentDistanceFromTop:this.props.maxDistanceFromTop,shouldAnimate:!0,isAtTop:!1}),e&&(0,Ee.My)(`mweb.${e}.snap_to_bottom`)):this.props.shouldSnapToEnds&&this.state.scrollDirection===Le&&(this.state.isAtTop?this.setState({currentDistanceFromTop:0,shouldAnimate:!0}):this.setState({canScrollOnChildren:t,currentDistanceFromTop:i||0,shouldAnimate:!0,isAtTop:!0}),this.header&&Te.Z.addObstruction("top",this.header),e&&(0,Ee.My)(`mweb.${e}.sliding_modal.snap_to_top`))})),je(this,"handleHandleMove",(e=>{const{clientY:i}=e.touches[0],{canMoveModal:t,maxDistanceFromTop:n,minDistanceFromTop:a}=this.props,{startY:o,currentDistanceFromTop:l}=this.state;t&&l<=(a||0)&&i-o>0&&(e.stopPropagation(),this.setState({canScrollOnChildren:!1,currentDistanceFromTop:n,isAtTop:!1,scrollDirection:Fe,shouldAnimate:!0,startY:0}))})),je(this,"handleHeaderTouch",(()=>{const{maxDistanceFromTop:e,minDistanceFromTop:i,entryPoint:t,canMoveModal:n}=this.props,{currentDistanceFromTop:a,scrollDirection:o}=this.state;o===Fe&&(a===e?(this.setState({canScrollOnChildren:n,currentDistanceFromTop:i||0,shouldAnimate:!0,isAtTop:!0}),(0,Ee.My)(`mweb.${t}.sliding_modal.header_touch.snap_to_top`)):e&&(this.setState({canScrollOnChildren:!1,currentDistanceFromTop:e,shouldAnimate:!0,isAtTop:!1}),(0,Ee.My)(`mweb.${t}.sliding_modal.header_touch.snap_to_bottom`)))})),je(this,"handleCloseIconTouch",(e=>{const{currentDistanceFromTop:i}=this.state,{onDismiss:t,logContextEvent:n,maxDistanceFromTop:a,viewParameter:o,viewType:l}=this.props;e.stopPropagation(),t&&(n({aux_data:{commerce_data:JSON.stringify({snapped_top:0===i})},element:75,event_type:102,view_parameter:o,view_type:l}),this.setState({currentDistanceFromTop:a,startY:0,scrollDirection:Fe},(()=>t(e))))})),je(this,"getModalStyles",(()=>{const{shouldSnapToEnds:e}=this.props,{currentDistanceFromTop:i,shouldAnimate:t,canScrollOnChildren:n}=this.state,{baseStyles:a}=De;return{...a,animation:"modalReveal 0.3s ease-out both",position:n?"absolute":"fixed",top:i>-1?i:void 0,bottom:0,width:"100vw",...e&&t?{transitionDuration:"500ms",transitionProperty:"transform, opacity, top"}:Object.freeze({})}})),je(this,"setModalPosition",(e=>{const{startY:i,currentDistanceFromTop:t}=this.state,{maxDistanceFromTop:n,snapToEndThreshold:a,entryPoint:o}=this.props;if(n){const l=e-i,r="CloseupShop"===o||"CloseUpMainPinDrawer"===o?Math.max(0,t+l):Math.min(n,Math.max(0,t+l)),s=Math.floor(r);let d=Fe;if(void 0!==a&&a>=0){const e=Math.floor(a*n),i=Math.floor((1-a)*n);l<0?d=s>i?Oe:Le:l>0&&(d=s>e?Oe:Le)}this.setState({startY:e,currentDistanceFromTop:s,scrollDirection:d})}}))}componentDidMount(){const{isOpen:e}=this.props;e&&Te.Z.pause()}componentDidUpdate(e,i){const{domainFilters:t,priceFilters:n,cropSource:a,isOpen:o,logContextEvent:l,maxDistanceFromTop:r,setHasDraggedDrawerToFullScreen:s,minDistanceFromTop:d,entryPoint:c}=this.props,{currentDistanceFromTop:u}=this.state;if(o&&!e.isOpen?Te.Z.pause():!o&&e.isOpen&&Te.Z.resume(),"CloseUpMainPinDrawer"===c&&r<e.maxDistanceFromTop&&u>r&&this.handleHeaderTouch(),i.currentDistanceFromTop!==(e.minDistanceFromTop||0)&&u===(d||0)&&s&&s(!0),t&&n&&(!Ie()(t,e.domainFilters)||!Ie()(n,e.priceFilters))){let e="";e="related_products"===(0,Ce.Z)(a)?3455:3456,l({event_type:13,view_parameter:e,view_type:72,element:11735})}}componentWillUnmount(){const{isOpen:e}=this.props;this.header&&Te.Z.removeObstruction("top",this.header),e&&Te.Z.resume()}render(){const{children:e,headerChildren:i,heading:t,inUnifiedFeedExp:n,isOpen:a,isRTL:o,mobileAccessibilityCloseIconLabel:l,mobileHideCloseIcon:s,noDivider:d,showHandle:c}=this.props,{headerHeight:u,canScrollOnChildren:p}=this.state,_=!p&&n?"32px 32px 0 0":"0";return a?(0,O.jsx)(ke.Z,{children:(0,O.jsx)(r.xu,{role:"dialog","aria-label":t,children:(0,O.jsx)(r.xu,{color:"default",dangerouslySetInlineStyle:{__style:{...this.getModalStyles(),borderRadius:_}},onTouchEnd:this.onTouchEnd,onTouchMove:this.onTouchMove,onTouchStart:this.onTouchStart,children:(0,O.jsxs)(r.iP,{accessibilityLabel:this.props.i18n._('View all search results', 'SlidingModal.Header.a11yLabel', 'Accessibility label for header of search results in flashlight'),onTap:this.handleHeaderTouch,children:[(0,O.jsxs)(r.Le,{top:u||0,children:[c&&(0,O.jsx)(r.xu,{"data-test-id":"slidingModalHandle",display:"flex",justifyContent:"center",color:"default",dangerouslySetInlineStyle:{__style:{padding:"8px 0 24px 0",borderRadius:_}},onTouchMove:this.handleHandleMove,children:(0,O.jsx)("svg",{width:"37",height:"5",viewBox:"0 0 37 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,O.jsx)("rect",{width:"37",height:"5",rx:"2.5",fill:"#E9E9E9"})})}),!s&&(0,O.jsxs)(r.xu,{ref:e=>{this.header=e},color:"default",rounding:2,children:[(0,O.jsxs)(r.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,O.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,O.jsx)(r.hU,{accessibilityLabel:l||"Close visual search results",icon:"arrow-back",iconColor:"gray",onClick:({event:e})=>this.handleCloseIconTouch(e),padding:5,size:"lg"})}),(0,O.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:Re({isRTL:o})},"data-test-id":"slidingModalHeader",display:"flex",flex:"grow",justifyContent:"center",children:(0,O.jsx)(r.X6,{align:"center",size:"400",accessibilityLevel:2,children:t})})]}),i||null,!d&&(0,O.jsx)(r.iz,{})]})]}),(0,O.jsx)(r.xu,{overflow:p?"auto":"visible",children:e})]})})})}):null}}function Ne(e){const i=(0,d.ZP)(),t=(0,B.Z)(),{isRTL:n}=(0,Ae.B)();return(0,O.jsx)(ze,{...e,i18n:i,isRTL:n,logContextEvent:t})}const Me=.6,Be=.4,Ze=50,Ue=.1,Ke=10,Ge=20+4*z*2+4*N*2,He=4,Ve="\n  html, body {\n    overscroll-behavior: none;\n  }\n";function We(){return Math.min(_e.g6,window.innerWidth)}function $e(e,i){return Math.floor(We()/i*e)}function Ye(e){var i;return e?null===(i=e.images)||void 0===i?void 0:i["736x"]:null}function qe(e,i){let t=0,n=0;const a=i||0;let o=0;if(e&&e.images){var l,r,s,d;const i=Ye(e);t=We(),n=$e(null!==(l=null==i?void 0:i.height)&&void 0!==l?l:1,null!==(r=null==i?void 0:i.width)&&void 0!==r?r:1),o=function(e,i){const t=Math.floor(Me*window.innerHeight);return Math.min(t,$e(e,i))}(null!==(s=null==i?void 0:i.height)&&void 0!==s?s:1,null!==(d=null==i?void 0:i.width)&&void 0!==d?d:1)}return{closeupImageWidth:t,closeupImageHeight:n,closeupImageMinTop:o-n,closeupImageTop:a,minCropperWidthRatio:t?Ze/t:0,minCropperHeightRatio:n?Ze/n:0,modalTop:o}}function Xe(e,i,t,n){let a=t?Number(t):Be,o=n?Number(n):Ue;e>0&&i>0&&(t||(a=(i-2*i*Ue)/e),n||(o=i*Ue/e));return{h:a,y:o}}const Je=(0,Pe.Z)((e=>`visual-search:${e}`));function Qe({cropArea:e,cropSource:i,headerHeight:t,inUnifiedFeedExp:n,pin:o,pinId:s,queryH:u,queryY:p,searchResourceOptions:_,setCropSource:I,setState:T,state:k,visualSearchFlashlightUnifiedResource:C}){var F,L,z,N;const B=(0,P.E)(),Z=(0,d.ZP)(),{logContextEvent:U}=(0,y.v)(),K=(0,h.useDispatch)(),G=(0,l.useHistory)(),{previous:H}=(0,f.Hv)(),{checkExperiment:V}=(0,c.F)(),W=(0,l.useLocation)(),{isAuth:$}=(0,a.Z)(),{width:Y=0}=(0,g.Z)()||{},q=(null!==(F=null==o?void 0:o.visual_objects)&&void 0!==F?F:[]).filter((e=>e.is_stela)),X=(null!==(L=null==o?void 0:o.visual_objects)&&void 0!==L?L:[]).filter((e=>!!e.label)),J=(q.length>0||X.length>0)&&(V("mweb_flashlight_show_more_stela_dots").anyEnabled?q:X)||[],[Q,ee]=(0,m.useState)(E(J,e)),{isCropAreaOnDotArea:ie,dotIndexToHide:te}=Q,ne=e=>K(fe(e)),ae=(0,h.useSelector)((e=>Je(e,s))),{data:oe,fetchMore:le,isAtEnd:re,isFetching:se,isLoaded:de}=C||{},ce=(null==oe?void 0:oe.results)||[],ue=ce.find((e=>"story"===e.type&&"unified_visual_feed_product_upsell"===e.story_type)),pe=ce.filter((e=>"pin"===e.type)),_e=null==ue?void 0:ue.action,{url:me=`/pin/${s}`,title:he=""}=_e||{},Pe=Z._('Shop similar', 'mobileFlashlight.productUpsellTitle', 'Shop similar products from the image.'),we=Z._('Image search', 'mobileFlashlight.organicFeedTitle', 'Search results from the image.'),Ie=Z._('Visual search', 'Visual search results', 'Visual search results'),Te=n&&(4===i||ie)?3462:3050,Ae=JSON.stringify({is_product_only_feed:!1}),{closeupImageWidth:ke,modalTop:Ee}=k.closeupImageDims,Ce=Ye(o),je=Ee||0,Re=Y-Ge<ke&&n,De=!Re&&n;function Fe(){U({component:14339,element:179,event_type:102,view_parameter:Te,view_type:72})}function Le(){0!==H.length?G.goBack():G.replace(`/pin/${s}/`)}const[Oe,ze]=(0,m.useState)(0),[Me,Be]=(0,m.useState)(0),[Ze,Ue]=(0,m.useState)(!1),[We,$e]=(0,m.useState)(!1),[Qe,ei]=(0,m.useState)(void 0);function ii(){$e(!1),Ue(!1),ei(void 0)}function ti(e,i){"vertical"!==i&&e.stopPropagation()}return(0,m.useEffect)((()=>{if(o){const e=qe(o,t),{closeupImageHeight:i,modalTop:n=0}=e,a=Xe(i,n,Number(u),Number(p));T((i=>({...i,closeupImageDims:e,...a})))}}),[o]),(0,m.useEffect)((()=>{(ae&&ae.length>0||n&&de)&&B&&B.markConstraintComplete("VisualSearchFeedLoaded")})),(0,A.Z)((()=>{ne(i)})),o&&0!==Ee?(0,O.jsxs)(m.Fragment,{children:[(0,O.jsx)(x.Z,{unsafeCSS:Ve}),(0,O.jsx)(j.Z,{auxData:n?{commerce_data:Ae}:void 0,viewParameter:n?3462:3050,viewType:72,children:(0,O.jsx)(w.Z,{view:72,children:(0,O.jsxs)(b.default,{hasFixedHeader:!0,hasGutter:!1,children:[(0,O.jsx)(ye.Z,{text:Z._('Visual Search Page', 'flashlight.accessibilityhiddenheading.fullpage', 'accessibility label for flashlight page')}),(0,O.jsx)(r.xu,{width:"100vw",height:"100vh",color:"dark"}),(0,O.jsx)(ge,{closeupImage:Ce,closeupImageDims:k.closeupImageDims,cropArea:e,entryPoint:"flashlight",handleBackClick:Le,handleChangeCloseupImageTop:function(e){T((i=>({...i,closeupImageDims:{...i.closeupImageDims,closeupImageTop:e}})))},handleCropperChange:function({cropArea:e,cropSource:i,visualObjects:t}){ne(i),(e=>{K((0,xe.By)(e))})(s),ee(E(t,e)),I(i),T((i=>({...i,...e}))),G.replace(`/pin/${s}/visual-search/?x=${e.x}&y=${e.y}&h=${e.h}&w=${e.w}&cropSource=${i}`)},headerHeight:t,inUnifiedFeedExp:n,pinDominantColor:o.dominant_color||"#efefef",pinId:s,pinImageSignature:o.image_signature,showBackButton:Re,viewParameter:Te,visualObjects:J,visualObjectToHide:te}),De&&(0,O.jsx)(M,{handleBackClick:Le,viewParameter:Te,viewType:427}),(0,O.jsxs)(Ne,{canMoveModal:!0,cropSource:i,entryPoint:"flashlight",headerHeight:t,heading:Ie,inUnifiedFeedExp:n,isOpen:!0,location:W,maxDistanceFromTop:je,minDistanceFromTop:$?Ge:t,mobileAccessibilityCloseIconLabel:Z._('Close visual search results', 'close visual search results and go back to pin', 'close visual search results and go back to pin'),mobileHideCloseIcon:n,noBorder:!0,noDivider:!0,noMaskOnBackground:!0,onDismiss:Le,pinId:s,shouldSnapToEnds:!0,showHandle:n,snapToEndThreshold:.3,viewParameter:Te,viewType:72,children:[(0,O.jsx)(r.$j,{accessibilityLabel:Z._('Loading visual search results', 'mobileFlashlightPage.loadingSpinner', 'Spinner for loading the visual search result'),show:n&&!de}),n&&de&&(0,O.jsxs)(m.Fragment,{children:[ue&&(0,O.jsxs)(m.Fragment,{children:[(0,O.jsxs)(r.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",marginBottom:2,paddingX:He,children:[(0,O.jsx)(r.Tg,{href:me,onTap:({event:e})=>{e.stopPropagation(),Fe()},tapStyle:"compress",children:(0,O.jsx)(r.X6,{accessibilityLevel:2,size:"400",children:Pe})}),(0,O.jsx)(r.I_,{accessibilityLabel:he||Z._('See more', 'headerModule.headerModuleActionButton.iconButton', 'An right arrow icon button to show more similar pins to the user in a new page'),bgColor:"transparent",dataTestId:"product-upsell-action-button",href:me,icon:"arrow-forward",iconColor:"darkGray",onClick:Fe,size:"sm"})]}),(0,O.jsx)(r.xu,{onTouchStart:function(e){const{clientX:i,clientY:t}=e.touches[0];ze(i),Be(t),ii()},onTouchMove:function(e){const{clientX:i,clientY:t}=e.touches[0],n=Math.abs(i-Oe);Math.abs(t-Me)>Ke&&Ue(!0),n>Ke&&$e(!0),ei(We&&Ze?e=>e||"vertical":We?e=>e||"horizontal":Ze?e=>e||"vertical":void 0),ti(e,Qe)},onTouchEnd:function(e){ti(e,Qe),ii()},dangerouslySetInlineStyle:{__style:{touchAction:"pan-x",overflowY:"hidden"}},children:(0,O.jsx)(S.default,{component:14339,disableCarouselHeaderModule:!0,story:ue,storyGraphqlRef:null,surface:"ShoppingDynamicHeightGrid",view:72,viewParameter:3462})})]}),(0,O.jsx)(r.xu,{marginBottom:3,paddingX:He,children:(0,O.jsx)(r.X6,{accessibilityLevel:2,size:"400",children:we})}),(0,O.jsx)(r.xu,{color:"default",paddingX:v.D6,dangerouslySetInlineStyle:{__style:{touchAction:"pan-y"}},children:(0,O.jsx)(Se.Z,{feedKey:null!==(z=(0,be.J)("VisualSearchFlashlightUnifiedResource",_))&&void 0!==z?z:"",feedItems:pe,pagination:{loadNext:le||(()=>{}),hasNext:!re||!1,isLoadingNext:se||!1,refetch:()=>{}},renderFeedItem:(e,i)=>(0,O.jsx)(D.cn,{children:(0,O.jsx)(ve.default,{auxData:{commerce_data:Ae},componentType:0,pinId:e.id,slotIndex:i,trackingParams:e.trackingParams||void 0,viewParameter:3462,viewType:72,duploQueryRef:null})})})})]}),!n&&(0,O.jsx)(r.xu,{color:"default",paddingX:v.D6,children:(0,O.jsx)(R.ZP,{resourceConfig:{name:"VisualLiveSearchResource",options:_},feedItemProps:{viewParameter:3050,viewType:72},feedKey:null!==(N=(0,be.J)("VisualLiveSearchResource",_))&&void 0!==N?N:"",trafficSource:"flashlight"})})]})]})})})]}):null}function ei(e){const{searchResourceOptions:i}=e,t=(0,p.Z)({name:"VisualSearchFlashlightUnifiedResource",options:i});return(0,O.jsx)(Qe,{...e,visualSearchFlashlightUnifiedResource:t})}function ii({pin:e}){const{checkExperiment:i}=(0,c.F)(),{anyEnabled:t}=i("mweb_flashlight_unified_feed"),o=(0,l.useRouteMatch)(),{pinId:r}=(0,_.Z)(o.params.id||""),s=(0,l.useLocation)(),d=(0,T.mB)(s.search),{cropSource:u,x:p,y:h,h:g,w:y}=d,{isAuth:v}=(0,a.Z)(),f=(0,n.ZP)(),x=!v&&(0,I.x9)(f)||void 0,[b,P]=(0,m.useState)((()=>{const i=qe(e,x);i.closeupImageTop=0;const{closeupImageHeight:t,modalTop:n=0}=i,a=Xe(t,n,Number(g),Number(h));return{closeupImageDims:i,x:p?Number(p):Ue,w:y?Number(y):1-2*Ue,y:a.y,h:a.h}})),[S,w]=(0,m.useState)((()=>{const e=(0,C.Z)(Number(u));return e||(p&&h&&g&&y?6:5)})),A={x:b.x,y:b.y,w:b.w,h:b.h},k={cropArea:A,cropSource:S,headerHeight:x,inUnifiedFeedExp:t,pin:e,pinId:r,queryH:g,queryY:h,searchResourceOptions:{pin_id:r,crop:A,crop_source:S,is_shopping:!1,entry_source:"flashlight",entrypoint:null},setCropSource:w,setState:P,state:b};return t?(0,O.jsx)(ei,{...k}):(0,O.jsx)(Qe,{...k})}var ti,ni=t(525104);const ai=void 0!==ti?ti:ti=t(839914);function oi(e){var i,t,n;return{width:null!==(i=e.width)&&void 0!==i?i:0,url:null!==(t=e.url)&&void 0!==t?t:"",height:null!==(n=e.height)&&void 0!==n?n:0}}function li(e){const i=[];return e.forEach((({additionalImages:e,spec:t})=>{var n;i.push(...null!==(n=function({additionalImages:e,spec:i}){const t=[];return null==e||e.forEach((e=>{var n;e.canonicalImage&&t.push({canonical_images:{[i]:oi(e.canonicalImage)},image_signature:null!==(n=e.imageSignature)&&void 0!==n?n:""})})),t}({additionalImages:e,spec:t}))&&void 0!==n?n:[])})),i}function ri(e){return null==e?void 0:e.map((e=>{var i,t;return{id:null!==(i=e.itemId)&&void 0!==i?i:"",additional_images:null!==(t=li([{additionalImages:e.additionalImageOrig,spec:"orig"},{additionalImages:e.additionalImage736x,spec:"736x"},{additionalImages:e.additionalImage564x,spec:"564x"},{additionalImages:e.additionalImage474x,spec:"474x"},{additionalImages:e.additionalImage236x,spec:"236x"}]))&&void 0!==t?t:[]}}))}function si(e){const i={};return e.forEach((({image:e,spec:t})=>{e&&(i[t]=oi(e))})),i}const di=(0,s.Z)({useGraphQLAdapter:function({pinId:e}){var i,t,n,a,l,r;const s=null===(i=(0,o.useLazyLoadQuery)(ai,{pinId:e}).v3GetPinQuery)||void 0===i?void 0:i.data;return s?{pin:{id:null!==(t=s.entityId)&&void 0!==t?t:"",dominant_color:null!==(n=s.dominantColor)&&void 0!==n?n:"",image_signature:null!==(a=s.imageSignature)&&void 0!==a?a:"",visual_objects:null!==(y=s.visualObjects,l=null==y?void 0:y.map((e=>{var i,t,n,a,o,l,r,s,d,c,u,p,_,m;return{detection:null!==(i=e.detection)&&void 0!==i&&i,h:null!==(t=e.h)&&void 0!==t?t:0,index:null!==(n=e.index)&&void 0!==n?n:0,is_stela:null!==(a=e.isStela)&&void 0!==a&&a,label:null!==(o=e.label)&&void 0!==o?o:"",label_id:null!==(l=e.labelId)&&void 0!==l?l:0,label_x:null!==(r=e.labelX)&&void 0!==r?r:0,label_y:null!==(s=e.labelY)&&void 0!==s?s:0,max_annotation_num_documents:null!==(d=e.maxAnnotationNumDocuments)&&void 0!==d?d:0,score:null!==(c=e.score)&&void 0!==c?c:0,show_on_closeup:null!==(u=e.showOnCloseup)&&void 0!==u&&u,w:null!==(p=e.x)&&void 0!==p?p:0,x:null!==(_=e.w)&&void 0!==_?_:0,y:null!==(m=e.y)&&void 0!==m?m:0}})))&&void 0!==l?l:[],images:null!==(r=si([{image:s.imageOrig,spec:"orig"},{image:s.image736x,spec:"736x"},{image:s.image564x,spec:"564x"},{image:s.image474x,spec:"474x"},{image:s.image236x,spec:"236x"}]))&&void 0!==r?r:{},rich_metadata:(h=s.richMetadata,{products:null!==(g=ri(null==h?void 0:h.products))&&void 0!==g?g:[]}),rich_summary:(_=s.richSummary,{products:null!==(m=ri(null==_?void 0:_.products))&&void 0!==m?m:[]}),carousel_data:(d=s.carouselData,{carousel_slots:null!==(p=null==d?void 0:d.carouselSlots,c=null==p?void 0:p.map((e=>{var i,t;return{image_signature:null!==(i=e.imageSignature)&&void 0!==i?i:"",images:null!==(t=si([{image:e.imageOrig,spec:"orig"},{image:e.image736x,spec:"736x"},{image:e.image564x,spec:"564x"},{image:e.image474x,spec:"474x"},{image:e.image236x,spec:"236x"}]))&&void 0!==t?t:{}}})))&&void 0!==c?c:[],index:null!==(u=null==d?void 0:d.index)&&void 0!==u?u:0}),type:"pin"}}:null;var d,c,u,p,_,m,h,g,y},useLegacyAdapter:function({pinId:e}){const{data:i}=(0,p.Z)({name:"PinResource",options:{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0,is_mobile_fork:!0}}),t=(0,ni.S6)()(e),n=null!=i?i:t;return n?{pin:n}:null}});function ci(){const{checkExperiment:e}=(0,c.F)(),i=(0,d.ZP)(),t=(0,l.useRouteMatch)(),{pinId:n}=(0,_.Z)(t.params.id||"");return(0,O.jsx)(di,{input:e("auth_mweb_graphql_flashlight_pinResource").anyEnabled||e("unauth_mweb_graphql_flashlight_pinResource").anyEnabled?{enabled:!0,data:{pinId:n},suspense:{fallback:(0,O.jsx)(r.$j,{accessibilityLabel:i._('Loading Pin data', 'mobileFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})}}:{enabled:!1,data:{pinId:n}},children:({data:e})=>!!e&&(0,O.jsx)(u.Z,{constraints:["VisualSearchFeedLoaded"],surface:"flashlight",children:(0,O.jsx)(ii,{pin:e.pin})})})}var ui=t(884880),pi=t(833145);const _i=function(){const e=(0,n.HG)(),i=(0,a.Z)();return e?i.isAuth?(0,O.jsx)(pi.ZP,{}):(0,O.jsx)(ui.Z,{}):(0,O.jsx)(ci,{})}},522285:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(11555);const a=5e3;function o(){const e=new n.H("/resource/ApiSResource/create/","ApiSResource",(e=>({source:"browser",stats:e})),a);return{log:(i,t,n,a={})=>{const{sampleRate:o=.1,tags:l={}}=a,r=[i,t,n,o,l];e.enqueue(r)}}}},935340:(e,i,t)=>{t.d(i,{LY:()=>l,QX:()=>o,S0:()=>r,nP:()=>a});const n=(0,t(522285).Z)();function a(e,i){n.log(e,1,"c",i)}function o(e,i,t){n.log(e,i,"c",t)}function l(e,i,t){n.log(e,i,"ms",t)}function r(e,i,t){n.log(e,i,"g",t)}},373897:e=>{e.exports=function(e,i){(null==i||i>e.length)&&(i=e.length);for(var t=0,n=new Array(i);t<i;t++)n[t]=e[t];return n},e.exports.__esModule=!0,e.exports.default=e.exports},163405:(e,i,t)=>{var n=t(373897);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},366115:e=>{e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},474704:(e,i,t)=>{var n=t(386116);e.exports=function(e,i){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=n(e))||i&&e&&"number"==typeof e.length){t&&(e=t);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,r=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return r=e.done,e},e:function(e){s=!0,l=e},f:function(){try{r||null==t.return||t.return()}finally{if(s)throw l}}}},e.exports.__esModule=!0,e.exports.default=e.exports},238416:e=>{e.exports=function(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e},e.exports.__esModule=!0,e.exports.default=e.exports},310434:e=>{function i(){return e.exports=i=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},107867:(e,i,t)=>{var n=t(206015);e.exports=function(e,i){e.prototype=Object.create(i.prototype),e.prototype.constructor=e,n(e,i)},e.exports.__esModule=!0,e.exports.default=e.exports},564836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},379498:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},742281:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},242122:(e,i,t)=>{var n=t(238416);function a(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}e.exports=function(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?a(Object(t),!0).forEach((function(i){n(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},7071:e=>{e.exports=function(e,i){if(null==e)return{};var t,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],i.indexOf(t)>=0||(a[t]=e[t]);return a},e.exports.__esModule=!0,e.exports.default=e.exports},206015:e=>{function i(t,n){return e.exports=i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,i){return e.__proto__=i,e},e.exports.__esModule=!0,e.exports.default=e.exports,i(t,n)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},600861:(e,i,t)=>{var n=t(163405),a=t(379498),o=t(386116),l=t(742281);e.exports=function(e){return n(e)||a(e)||o(e)||l()},e.exports.__esModule=!0,e.exports.default=e.exports},386116:(e,i,t)=>{var n=t(373897);e.exports=function(e,i){if(e){if("string"==typeof e)return n(e,i);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,i):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},497326:(e,i,t)=>{function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.d(i,{Z:()=>n})},487462:(e,i,t)=>{function n(){return n=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},n.apply(this,arguments)}t.d(i,{Z:()=>n})},875068:(e,i,t)=>{function n(e,i){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,i){return e.__proto__=i,e},n(e,i)}function a(e,i){e.prototype=Object.create(i.prototype),e.prototype.constructor=e,n(e,i)}t.d(i,{Z:()=>a})},172875:(e,i,t)=>{function n(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}function a(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?a(Object(t),!0).forEach((function(i){n(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}t.d(i,{Z:()=>o})},263366:(e,i,t)=>{function n(e,i){if(null==e)return{};var t,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],i.indexOf(t)>=0||(a[t]=e[t]);return a}t.d(i,{Z:()=>n})}},e=>{e.O(0,[14865],(()=>{[97270,92982,23071,14734,30982,71407,48035,5453,5035,43473,22347,69512,22538,1593].map(e.E)}),5);e.O(0,[97270,83119,67631,16550,39425,15616,75794,35303,14324,8575,99551,77263,58786,76030,93729,97431,28901,14947,82506,73383,59711,11056,47298],(()=>{return i=806387,e(e.s=i);var i}));e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]/visual-search-332674cb2d56619a.mjs.map